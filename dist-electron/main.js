"use strict";var VE=Object.defineProperty;var tm=t=>{throw TypeError(t)};var GE=(t,e,n)=>e in t?VE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var v=(t,e,n)=>GE(t,typeof e!="symbol"?e+"":e,n),Tu=(t,e,n)=>e.has(t)||tm("Cannot "+n);var d=(t,e,n)=>(Tu(t,e,"read from private field"),n?n.call(t):e.get(t)),j=(t,e,n)=>e.has(t)?tm("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),E=(t,e,n,r)=>(Tu(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),P=(t,e,n)=>(Tu(t,e,"access private method"),n);var Fs=(t,e,n,r)=>({set _(s){E(t,e,s,n)},get _(){return d(t,e,r)}});const ke=require("electron"),me=require("node:path"),qr=require("path"),gl=require("child_process"),Jd=require("tty"),ks=require("util"),vl=require("fs"),Ew=require("net"),Ie=require("node:process"),Be=require("node:util"),oe=require("node:fs"),ur=require("node:crypto"),nm=require("node:assert"),bl=require("node:os"),Me=require("stream"),xl=require("http"),wl=require("https"),Ki=require("url"),uo=require("crypto"),HE=require("assert"),QE=require("os"),Wn=require("zlib"),Yd=require("events"),WE=require("node:url"),Rw=require("node:buffer"),KE=require("tls"),JE=require("buffer");function YE(t){const e=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const n in t)if(n!=="default"){const r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:()=>t[n]})}}return e.default=t,Object.freeze(e)}const rm=YE(oe);var $e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Tw(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var qp={exports:{}},Io={exports:{}},Po={exports:{}},Ou,sm;function XE(){if(sm)return Ou;sm=1;var t=1e3,e=t*60,n=e*60,r=n*24,s=r*365.25;Ou=function(l,u){u=u||{};var p=typeof l;if(p==="string"&&l.length>0)return i(l);if(p==="number"&&isNaN(l)===!1)return u.long?o(l):a(l);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(l))};function i(l){if(l=String(l),!(l.length>100)){var u=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(l);if(u){var p=parseFloat(u[1]),h=(u[2]||"ms").toLowerCase();switch(h){case"years":case"year":case"yrs":case"yr":case"y":return p*s;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*e;case"seconds":case"second":case"secs":case"sec":case"s":return p*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function a(l){return l>=r?Math.round(l/r)+"d":l>=n?Math.round(l/n)+"h":l>=e?Math.round(l/e)+"m":l>=t?Math.round(l/t)+"s":l+"ms"}function o(l){return c(l,r,"day")||c(l,n,"hour")||c(l,e,"minute")||c(l,t,"second")||l+" ms"}function c(l,u,p){if(!(l<u))return l<u*1.5?Math.floor(l/u)+" "+p:Math.ceil(l/u)+" "+p+"s"}return Ou}var im;function Ow(){return im||(im=1,function(t,e){e=t.exports=s.debug=s.default=s,e.coerce=c,e.disable=a,e.enable=i,e.enabled=o,e.humanize=XE(),e.names=[],e.skips=[],e.formatters={};var n;function r(l){var u=0,p;for(p in l)u=(u<<5)-u+l.charCodeAt(p),u|=0;return e.colors[Math.abs(u)%e.colors.length]}function s(l){function u(){if(u.enabled){var p=u,h=+new Date,y=h-(n||h);p.diff=y,p.prev=n,p.curr=h,n=h;for(var f=new Array(arguments.length),m=0;m<f.length;m++)f[m]=arguments[m];f[0]=e.coerce(f[0]),typeof f[0]!="string"&&f.unshift("%O");var g=0;f[0]=f[0].replace(/%([a-zA-Z%])/g,function(_,S){if(_==="%%")return _;g++;var C=e.formatters[S];if(typeof C=="function"){var L=f[g];_=C.call(p,L),f.splice(g,1),g--}return _}),e.formatArgs.call(p,f);var b=u.log||e.log||console.log.bind(console);b.apply(p,f)}}return u.namespace=l,u.enabled=e.enabled(l),u.useColors=e.useColors(),u.color=r(l),typeof e.init=="function"&&e.init(u),u}function i(l){e.save(l),e.names=[],e.skips=[];for(var u=(typeof l=="string"?l:"").split(/[\s,]+/),p=u.length,h=0;h<p;h++)u[h]&&(l=u[h].replace(/\*/g,".*?"),l[0]==="-"?e.skips.push(new RegExp("^"+l.substr(1)+"$")):e.names.push(new RegExp("^"+l+"$")))}function a(){e.enable("")}function o(l){var u,p;for(u=0,p=e.skips.length;u<p;u++)if(e.skips[u].test(l))return!1;for(u=0,p=e.names.length;u<p;u++)if(e.names[u].test(l))return!0;return!1}function c(l){return l instanceof Error?l.stack||l.message:l}}(Po,Po.exports)),Po.exports}var am;function ZE(){return am||(am=1,function(t,e){e=t.exports=Ow(),e.log=s,e.formatArgs=r,e.save=i,e.load=a,e.useColors=n,e.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:o(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function n(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}e.formatters.j=function(c){try{return JSON.stringify(c)}catch(l){return"[UnexpectedJSONParseError]: "+l.message}};function r(c){var l=this.useColors;if(c[0]=(l?"%c":"")+this.namespace+(l?" %c":" ")+c[0]+(l?"%c ":" ")+"+"+e.humanize(this.diff),!!l){var u="color: "+this.color;c.splice(1,0,u,"color: inherit");var p=0,h=0;c[0].replace(/%[a-zA-Z%]/g,function(y){y!=="%%"&&(p++,y==="%c"&&(h=p))}),c.splice(h,0,u)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function i(c){try{c==null?e.storage.removeItem("debug"):e.storage.debug=c}catch{}}function a(){var c;try{c=e.storage.debug}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=process.env.DEBUG),c}e.enable(a());function o(){try{return window.localStorage}catch{}}}(Io,Io.exports)),Io.exports}var ko={exports:{}},om;function e1(){return om||(om=1,function(t,e){var n=Jd,r=ks;e=t.exports=Ow(),e.init=h,e.log=c,e.formatArgs=o,e.save=l,e.load=u,e.useColors=a,e.colors=[6,2,3,4,5,1],e.inspectOpts=Object.keys(process.env).filter(function(y){return/^debug_/i.test(y)}).reduce(function(y,f){var m=f.substring(6).toLowerCase().replace(/_([a-z])/g,function(b,_){return _.toUpperCase()}),g=process.env[f];return/^(yes|on|true|enabled)$/i.test(g)?g=!0:/^(no|off|false|disabled)$/i.test(g)?g=!1:g==="null"?g=null:g=Number(g),y[m]=g,y},{});var s=parseInt(process.env.DEBUG_FD,10)||2;s!==1&&s!==2&&r.deprecate(function(){},"except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)")();var i=s===1?process.stdout:s===2?process.stderr:p(s);function a(){return"colors"in e.inspectOpts?!!e.inspectOpts.colors:n.isatty(s)}e.formatters.o=function(y){return this.inspectOpts.colors=this.useColors,r.inspect(y,this.inspectOpts).split(`
`).map(function(f){return f.trim()}).join(" ")},e.formatters.O=function(y){return this.inspectOpts.colors=this.useColors,r.inspect(y,this.inspectOpts)};function o(y){var f=this.namespace,m=this.useColors;if(m){var g=this.color,b="  \x1B[3"+g+";1m"+f+" \x1B[0m";y[0]=b+y[0].split(`
`).join(`
`+b),y.push("\x1B[3"+g+"m+"+e.humanize(this.diff)+"\x1B[0m")}else y[0]=new Date().toUTCString()+" "+f+" "+y[0]}function c(){return i.write(r.format.apply(r,arguments)+`
`)}function l(y){y==null?delete process.env.DEBUG:process.env.DEBUG=y}function u(){return process.env.DEBUG}function p(y){var f,m=process.binding("tty_wrap");switch(m.guessHandleType(y)){case"TTY":f=new n.WriteStream(y),f._type="tty",f._handle&&f._handle.unref&&f._handle.unref();break;case"FILE":var g=vl;f=new g.SyncWriteStream(y,{autoClose:!1}),f._type="fs";break;case"PIPE":case"TCP":var b=Ew;f=new b.Socket({fd:y,readable:!1,writable:!0}),f.readable=!1,f.read=null,f._type="pipe",f._handle&&f._handle.unref&&f._handle.unref();break;default:throw new Error("Implement me. Unknown stream file type!")}return f.fd=y,f._isStdio=!0,f}function h(y){y.inspectOpts={};for(var f=Object.keys(e.inspectOpts),m=0;m<f.length;m++)y.inspectOpts[f[m]]=e.inspectOpts[f[m]]}e.enable(u())}(ko,ko.exports)),ko.exports}typeof process<"u"&&process.type==="renderer"?qp.exports=ZE():qp.exports=e1();var t1=qp.exports,Mp=qr,n1=gl.spawn,Cw=t1("electron-squirrel-startup"),Cu=ke.app,cm=function(t,e){var n=Mp.resolve(Mp.dirname(process.execPath),"..","Update.exe");Cw("Spawning `%s` with args `%s`",n,t),n1(n,t,{detached:!0}).on("close",e)},r1=function(){if(process.platform==="win32"){var t=process.argv[1];Cw("processing squirrel command `%s`",t);var e=Mp.basename(process.execPath);if(t==="--squirrel-install"||t==="--squirrel-updated")return cm(["--createShortcut="+e],Cu.quit),!0;if(t==="--squirrel-uninstall")return cm(["--removeShortcut="+e],Cu.quit),!0;if(t==="--squirrel-obsolete")return Cu.quit(),!0}return!1},s1=r1();const i1=nr(s1),Rs=t=>{const e=typeof t;return t!==null&&(e==="object"||e==="function")},Nw=new Set(["__proto__","prototype","constructor"]),Aw=1e6,a1=t=>t>="0"&&t<="9";function Iw(t){if(t==="0")return!0;if(/^[1-9]\d*$/.test(t)){const e=Number.parseInt(t,10);return e<=Number.MAX_SAFE_INTEGER&&e<=Aw}return!1}function Nu(t,e){return Nw.has(t)?!1:(t&&Iw(t)?e.push(Number.parseInt(t,10)):e.push(t),!0)}function o1(t){if(typeof t!="string")throw new TypeError(`Expected a string, got ${typeof t}`);const e=[];let n="",r="start",s=!1,i=0;for(const a of t){if(i++,s){n+=a,s=!1;continue}if(a==="\\"){if(r==="index")throw new Error(`Invalid character '${a}' in an index at position ${i}`);if(r==="indexEnd")throw new Error(`Invalid character '${a}' after an index at position ${i}`);s=!0,r=r==="start"?"property":r;continue}switch(a){case".":{if(r==="index")throw new Error(`Invalid character '${a}' in an index at position ${i}`);if(r==="indexEnd"){r="property";break}if(!Nu(n,e))return[];n="",r="property";break}case"[":{if(r==="index")throw new Error(`Invalid character '${a}' in an index at position ${i}`);if(r==="indexEnd"){r="index";break}if(r==="property"||r==="start"){if((n||r==="property")&&!Nu(n,e))return[];n=""}r="index";break}case"]":{if(r==="index"){if(n==="")n=(e.pop()||"")+"[]",r="property";else{const o=Number.parseInt(n,10);!Number.isNaN(o)&&Number.isFinite(o)&&o>=0&&o<=Number.MAX_SAFE_INTEGER&&o<=Aw&&n===String(o)?e.push(o):e.push(n),n="",r="indexEnd"}break}if(r==="indexEnd")throw new Error(`Invalid character '${a}' after an index at position ${i}`);n+=a;break}default:{if(r==="index"&&!a1(a))throw new Error(`Invalid character '${a}' in an index at position ${i}`);if(r==="indexEnd")throw new Error(`Invalid character '${a}' after an index at position ${i}`);r==="start"&&(r="property"),n+=a}}}switch(s&&(n+="\\"),r){case"property":{if(!Nu(n,e))return[];break}case"index":throw new Error("Index was not closed");case"start":{e.push("");break}}return e}function _l(t){if(typeof t=="string")return o1(t);if(Array.isArray(t)){const e=[];for(const[n,r]of t.entries()){if(typeof r!="string"&&typeof r!="number")throw new TypeError(`Expected a string or number for path segment at index ${n}, got ${typeof r}`);if(typeof r=="number"&&!Number.isFinite(r))throw new TypeError(`Path segment at index ${n} must be a finite number, got ${r}`);if(Nw.has(r))return[];typeof r=="string"&&Iw(r)?e.push(Number.parseInt(r,10)):e.push(r)}return e}return[]}function lm(t,e,n){if(!Rs(t)||typeof e!="string"&&!Array.isArray(e))return n===void 0?t:n;const r=_l(e);if(r.length===0)return n;for(let s=0;s<r.length;s++){const i=r[s];if(t=t[i],t==null){if(s!==r.length-1)return n;break}}return t===void 0?n:t}function jo(t,e,n){if(!Rs(t)||typeof e!="string"&&!Array.isArray(e))return t;const r=t,s=_l(e);if(s.length===0)return t;for(let i=0;i<s.length;i++){const a=s[i];if(i===s.length-1)t[a]=n;else if(!Rs(t[a])){const c=typeof s[i+1]=="number";t[a]=c?[]:{}}t=t[a]}return r}function c1(t,e){if(!Rs(t)||typeof e!="string"&&!Array.isArray(e))return!1;const n=_l(e);if(n.length===0)return!1;for(let r=0;r<n.length;r++){const s=n[r];if(r===n.length-1)return Object.hasOwn(t,s)?(delete t[s],!0):!1;if(t=t[s],!Rs(t))return!1}}function Au(t,e){if(!Rs(t)||typeof e!="string"&&!Array.isArray(e))return!1;const n=_l(e);if(n.length===0)return!1;for(const r of n){if(!Rs(t)||!(r in t))return!1;t=t[r]}return!0}const yr=bl.homedir(),Xd=bl.tmpdir(),{env:ei}=Ie,l1=t=>{const e=me.join(yr,"Library");return{data:me.join(e,"Application Support",t),config:me.join(e,"Preferences",t),cache:me.join(e,"Caches",t),log:me.join(e,"Logs",t),temp:me.join(Xd,t)}},u1=t=>{const e=ei.APPDATA||me.join(yr,"AppData","Roaming"),n=ei.LOCALAPPDATA||me.join(yr,"AppData","Local");return{data:me.join(n,t,"Data"),config:me.join(e,t,"Config"),cache:me.join(n,t,"Cache"),log:me.join(n,t,"Log"),temp:me.join(Xd,t)}},p1=t=>{const e=me.basename(yr);return{data:me.join(ei.XDG_DATA_HOME||me.join(yr,".local","share"),t),config:me.join(ei.XDG_CONFIG_HOME||me.join(yr,".config"),t),cache:me.join(ei.XDG_CACHE_HOME||me.join(yr,".cache"),t),log:me.join(ei.XDG_STATE_HOME||me.join(yr,".local","state"),t),temp:me.join(Xd,e,t)}};function d1(t,{suffix:e="nodejs"}={}){if(typeof t!="string")throw new TypeError(`Expected a string, got ${typeof t}`);return e&&(t+=`-${e}`),Ie.platform==="darwin"?l1(t):Ie.platform==="win32"?u1(t):p1(t)}const sr=(t,e)=>function(...r){return t.apply(void 0,r).catch(e)},Nn=(t,e)=>function(...r){try{return t.apply(void 0,r)}catch(s){return e(s)}},f1=Ie.getuid?!Ie.getuid():!1,h1=1e4,Nt=()=>{},_e={isChangeErrorOk:t=>{if(!_e.isNodeError(t))return!1;const{code:e}=t;return e==="ENOSYS"||!f1&&(e==="EINVAL"||e==="EPERM")},isNodeError:t=>t instanceof Error,isRetriableError:t=>{if(!_e.isNodeError(t))return!1;const{code:e}=t;return e==="EMFILE"||e==="ENFILE"||e==="EAGAIN"||e==="EBUSY"||e==="EACCESS"||e==="EACCES"||e==="EACCS"||e==="EPERM"},onChangeError:t=>{if(!_e.isNodeError(t))throw t;if(!_e.isChangeErrorOk(t))throw t}};class m1{constructor(){this.interval=25,this.intervalId=void 0,this.limit=h1,this.queueActive=new Set,this.queueWaiting=new Set,this.init=()=>{this.intervalId||(this.intervalId=setInterval(this.tick,this.interval))},this.reset=()=>{this.intervalId&&(clearInterval(this.intervalId),delete this.intervalId)},this.add=e=>{this.queueWaiting.add(e),this.queueActive.size<this.limit/2?this.tick():this.init()},this.remove=e=>{this.queueWaiting.delete(e),this.queueActive.delete(e)},this.schedule=()=>new Promise(e=>{const n=()=>this.remove(r),r=()=>e(n);this.add(r)}),this.tick=()=>{if(!(this.queueActive.size>=this.limit)){if(!this.queueWaiting.size)return this.reset();for(const e of this.queueWaiting){if(this.queueActive.size>=this.limit)break;this.queueWaiting.delete(e),this.queueActive.add(e),e()}}}}}const y1=new m1,ir=(t,e)=>function(r){return function s(...i){return y1.schedule().then(a=>{const o=l=>(a(),l),c=l=>{if(a(),Date.now()>=r)throw l;if(e(l)){const u=Math.round(100*Math.random());return new Promise(h=>setTimeout(h,u)).then(()=>s.apply(void 0,i))}throw l};return t.apply(void 0,i).then(o,c)})}},ar=(t,e)=>function(r){return function s(...i){try{return t.apply(void 0,i)}catch(a){if(Date.now()>r)throw a;if(e(a))return s.apply(void 0,i);throw a}}},rt={attempt:{chmod:sr(Be.promisify(oe.chmod),_e.onChangeError),chown:sr(Be.promisify(oe.chown),_e.onChangeError),close:sr(Be.promisify(oe.close),Nt),fsync:sr(Be.promisify(oe.fsync),Nt),mkdir:sr(Be.promisify(oe.mkdir),Nt),realpath:sr(Be.promisify(oe.realpath),Nt),stat:sr(Be.promisify(oe.stat),Nt),unlink:sr(Be.promisify(oe.unlink),Nt),chmodSync:Nn(oe.chmodSync,_e.onChangeError),chownSync:Nn(oe.chownSync,_e.onChangeError),closeSync:Nn(oe.closeSync,Nt),existsSync:Nn(oe.existsSync,Nt),fsyncSync:Nn(oe.fsync,Nt),mkdirSync:Nn(oe.mkdirSync,Nt),realpathSync:Nn(oe.realpathSync,Nt),statSync:Nn(oe.statSync,Nt),unlinkSync:Nn(oe.unlinkSync,Nt)},retry:{close:ir(Be.promisify(oe.close),_e.isRetriableError),fsync:ir(Be.promisify(oe.fsync),_e.isRetriableError),open:ir(Be.promisify(oe.open),_e.isRetriableError),readFile:ir(Be.promisify(oe.readFile),_e.isRetriableError),rename:ir(Be.promisify(oe.rename),_e.isRetriableError),stat:ir(Be.promisify(oe.stat),_e.isRetriableError),write:ir(Be.promisify(oe.write),_e.isRetriableError),writeFile:ir(Be.promisify(oe.writeFile),_e.isRetriableError),closeSync:ar(oe.closeSync,_e.isRetriableError),fsyncSync:ar(oe.fsyncSync,_e.isRetriableError),openSync:ar(oe.openSync,_e.isRetriableError),readFileSync:ar(oe.readFileSync,_e.isRetriableError),renameSync:ar(oe.renameSync,_e.isRetriableError),statSync:ar(oe.statSync,_e.isRetriableError),writeSync:ar(oe.writeSync,_e.isRetriableError),writeFileSync:ar(oe.writeFileSync,_e.isRetriableError)}},g1="utf8",um=438,v1=511,b1={},x1=bl.userInfo().uid,w1=bl.userInfo().gid,_1=1e3,$1=!!Ie.getuid;Ie.getuid&&Ie.getuid();const pm=128,S1=t=>t instanceof Error&&"code"in t,dm=t=>typeof t=="string",Iu=t=>t===void 0,E1=Ie.platform==="linux",Pw=Ie.platform==="win32",Zd=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];Pw||Zd.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");E1&&Zd.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED");class R1{constructor(){this.callbacks=new Set,this.exited=!1,this.exit=e=>{if(!this.exited){this.exited=!0;for(const n of this.callbacks)n();e&&(Pw&&e!=="SIGINT"&&e!=="SIGTERM"&&e!=="SIGKILL"?Ie.kill(Ie.pid,"SIGTERM"):Ie.kill(Ie.pid,e))}},this.hook=()=>{Ie.once("exit",()=>this.exit());for(const e of Zd)try{Ie.once(e,()=>this.exit(e))}catch{}},this.register=e=>(this.callbacks.add(e),()=>{this.callbacks.delete(e)}),this.hook()}}const T1=new R1,O1=T1.register,at={store:{},create:t=>{const e=`000000${Math.floor(Math.random()*16777215).toString(16)}`.slice(-6),s=`.tmp-${Date.now().toString().slice(-10)}${e}`;return`${t}${s}`},get:(t,e,n=!0)=>{const r=at.truncate(e(t));return r in at.store?at.get(t,e,n):(at.store[r]=n,[r,()=>delete at.store[r]])},purge:t=>{at.store[t]&&(delete at.store[t],rt.attempt.unlink(t))},purgeSync:t=>{at.store[t]&&(delete at.store[t],rt.attempt.unlinkSync(t))},purgeSyncAll:()=>{for(const t in at.store)at.purgeSync(t)},truncate:t=>{const e=me.basename(t);if(e.length<=pm)return t;const n=/^(\.?)(.*?)((?:\.[^.]+)?(?:\.tmp-\d{10}[a-f0-9]{6})?)$/.exec(e);if(!n)return t;const r=e.length-pm;return`${t.slice(0,-e.length)}${n[1]}${n[2].slice(0,-r)}${n[3]}`}};O1(at.purgeSyncAll);function kw(t,e,n=b1){if(dm(n))return kw(t,e,{encoding:n});const r=Date.now()+((n.timeout??_1)||-1);let s=null,i=null,a=null;try{const o=rt.attempt.realpathSync(t),c=!!o;t=o||t,[i,s]=at.get(t,n.tmpCreate||at.create,n.tmpPurge!==!1);const l=$1&&Iu(n.chown),u=Iu(n.mode);if(c&&(l||u)){const p=rt.attempt.statSync(t);p&&(n={...n},l&&(n.chown={uid:p.uid,gid:p.gid}),u&&(n.mode=p.mode))}if(!c){const p=me.dirname(t);rt.attempt.mkdirSync(p,{mode:v1,recursive:!0})}a=rt.retry.openSync(r)(i,"w",n.mode||um),n.tmpCreated&&n.tmpCreated(i),dm(e)?rt.retry.writeSync(r)(a,e,0,n.encoding||g1):Iu(e)||rt.retry.writeSync(r)(a,e,0,e.length,0),n.fsync!==!1&&(n.fsyncWait!==!1?rt.retry.fsyncSync(r)(a):rt.attempt.fsync(a)),rt.retry.closeSync(r)(a),a=null,n.chown&&(n.chown.uid!==x1||n.chown.gid!==w1)&&rt.attempt.chownSync(i,n.chown.uid,n.chown.gid),n.mode&&n.mode!==um&&rt.attempt.chmodSync(i,n.mode);try{rt.retry.renameSync(r)(i,t)}catch(p){if(!S1(p)||p.code!=="ENAMETOOLONG")throw p;rt.retry.renameSync(r)(i,at.truncate(t))}s(),i=null}finally{a&&rt.attempt.closeSync(a),i&&at.purge(i)}}var Fp={exports:{}},ef={},Ht={},Li={},po={},ie={},Da={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends e{constructor(_){if(super(),!t.IDENTIFIER.test(_))throw new Error("CodeGen: name must be a valid identifier");this.str=_}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=n;class r extends e{constructor(_){super(),this._items=typeof _=="string"?[_]:_}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const _=this._items[0];return _===""||_==='""'}get str(){var _;return(_=this._str)!==null&&_!==void 0?_:this._str=this._items.reduce((S,C)=>`${S}${C}`,"")}get names(){var _;return(_=this._names)!==null&&_!==void 0?_:this._names=this._items.reduce((S,C)=>(C instanceof n&&(S[C.str]=(S[C.str]||0)+1),S),{})}}t._Code=r,t.nil=new r("");function s(b,..._){const S=[b[0]];let C=0;for(;C<_.length;)o(S,_[C]),S.push(b[++C]);return new r(S)}t._=s;const i=new r("+");function a(b,..._){const S=[y(b[0])];let C=0;for(;C<_.length;)S.push(i),o(S,_[C]),S.push(i,y(b[++C]));return c(S),new r(S)}t.str=a;function o(b,_){_ instanceof r?b.push(..._._items):_ instanceof n?b.push(_):b.push(p(_))}t.addCodeArg=o;function c(b){let _=1;for(;_<b.length-1;){if(b[_]===i){const S=l(b[_-1],b[_+1]);if(S!==void 0){b.splice(_-1,3,S);continue}b[_++]="+"}_++}}function l(b,_){if(_==='""')return b;if(b==='""')return _;if(typeof b=="string")return _ instanceof n||b[b.length-1]!=='"'?void 0:typeof _!="string"?`${b.slice(0,-1)}${_}"`:_[0]==='"'?b.slice(0,-1)+_.slice(1):void 0;if(typeof _=="string"&&_[0]==='"'&&!(b instanceof n))return`"${b}${_.slice(1)}`}function u(b,_){return _.emptyStr()?b:b.emptyStr()?_:a`${b}${_}`}t.strConcat=u;function p(b){return typeof b=="number"||typeof b=="boolean"||b===null?b:y(Array.isArray(b)?b.join(","):b)}function h(b){return new r(y(b))}t.stringify=h;function y(b){return JSON.stringify(b).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=y;function f(b){return typeof b=="string"&&t.IDENTIFIER.test(b)?new r(`.${b}`):s`[${b}]`}t.getProperty=f;function m(b){if(typeof b=="string"&&t.IDENTIFIER.test(b))return new r(`${b}`);throw new Error(`CodeGen: invalid export name: ${b}, use explicit $id name mapping`)}t.getEsmExportName=m;function g(b){return new r(b.toString())}t.regexpCode=g})(Da);var Up={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const e=Da;class n extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}}var r;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(r||(t.UsedValueState=r={})),t.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class s{constructor({prefixes:l,parent:u}={}){this._names={},this._prefixes=l,this._parent=u}toName(l){return l instanceof e.Name?l:this.name(l)}name(l){return new e.Name(this._newName(l))}_newName(l){const u=this._names[l]||this._nameGroup(l);return`${l}${u.index++}`}_nameGroup(l){var u,p;if(!((p=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||p===void 0)&&p.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}}t.Scope=s;class i extends e.Name{constructor(l,u){super(u),this.prefix=l}setValue(l,{property:u,itemIndex:p}){this.value=l,this.scopePath=(0,e._)`.${new e.Name(u)}[${p}]`}}t.ValueScopeName=i;const a=(0,e._)`\n`;class o extends s{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?a:e.nil}}get(){return this._scope}name(l){return new i(l,this._newName(l))}value(l,u){var p;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const h=this.toName(l),{prefix:y}=h,f=(p=u.key)!==null&&p!==void 0?p:u.ref;let m=this._values[y];if(m){const _=m.get(f);if(_)return _}else m=this._values[y]=new Map;m.set(f,h);const g=this._scope[y]||(this._scope[y]=[]),b=g.length;return g[b]=u.ref,h.setValue(u,{property:y,itemIndex:b}),h}getValue(l,u){const p=this._values[l];if(p)return p.get(u)}scopeRefs(l,u=this._values){return this._reduceValues(u,p=>{if(p.scopePath===void 0)throw new Error(`CodeGen: name "${p}" has no value`);return(0,e._)`${l}${p.scopePath}`})}scopeCode(l=this._values,u,p){return this._reduceValues(l,h=>{if(h.value===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return h.value.code},u,p)}_reduceValues(l,u,p={},h){let y=e.nil;for(const f in l){const m=l[f];if(!m)continue;const g=p[f]=p[f]||new Map;m.forEach(b=>{if(g.has(b))return;g.set(b,r.Started);let _=u(b);if(_){const S=this.opts.es5?t.varKinds.var:t.varKinds.const;y=(0,e._)`${y}${S} ${b} = ${_};${this.opts._n}`}else if(_=h==null?void 0:h(b))y=(0,e._)`${y}${_}${this.opts._n}`;else throw new n(b);g.set(b,r.Completed)})}return y}}t.ValueScope=o})(Up);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const e=Da,n=Up;var r=Da;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}});var s=Up;Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class i{optimizeNodes(){return this}optimizeNames(x,w){return this}}class a extends i{constructor(x,w,k){super(),this.varKind=x,this.name=w,this.rhs=k}render({es5:x,_n:w}){const k=x?n.varKinds.var:this.varKind,Y=this.rhs===void 0?"":` = ${this.rhs}`;return`${k} ${this.name}${Y};`+w}optimizeNames(x,w){if(x[this.name.str])return this.rhs&&(this.rhs=A(this.rhs,x,w)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class o extends i{constructor(x,w,k){super(),this.lhs=x,this.rhs=w,this.sideEffects=k}render({_n:x}){return`${this.lhs} = ${this.rhs};`+x}optimizeNames(x,w){if(!(this.lhs instanceof e.Name&&!x[this.lhs.str]&&!this.sideEffects))return this.rhs=A(this.rhs,x,w),this}get names(){const x=this.lhs instanceof e.Name?{}:{...this.lhs.names};return ne(x,this.rhs)}}class c extends o{constructor(x,w,k,Y){super(x,k,Y),this.op=w}render({_n:x}){return`${this.lhs} ${this.op}= ${this.rhs};`+x}}class l extends i{constructor(x){super(),this.label=x,this.names={}}render({_n:x}){return`${this.label}:`+x}}class u extends i{constructor(x){super(),this.label=x,this.names={}}render({_n:x}){return`break${this.label?` ${this.label}`:""};`+x}}class p extends i{constructor(x){super(),this.error=x}render({_n:x}){return`throw ${this.error};`+x}get names(){return this.error.names}}class h extends i{constructor(x){super(),this.code=x}render({_n:x}){return`${this.code};`+x}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(x,w){return this.code=A(this.code,x,w),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class y extends i{constructor(x=[]){super(),this.nodes=x}render(x){return this.nodes.reduce((w,k)=>w+k.render(x),"")}optimizeNodes(){const{nodes:x}=this;let w=x.length;for(;w--;){const k=x[w].optimizeNodes();Array.isArray(k)?x.splice(w,1,...k):k?x[w]=k:x.splice(w,1)}return x.length>0?this:void 0}optimizeNames(x,w){const{nodes:k}=this;let Y=k.length;for(;Y--;){const Q=k[Y];Q.optimizeNames(x,w)||(F(x,Q.names),k.splice(Y,1))}return k.length>0?this:void 0}get names(){return this.nodes.reduce((x,w)=>X(x,w.names),{})}}class f extends y{render(x){return"{"+x._n+super.render(x)+"}"+x._n}}class m extends y{}class g extends f{}g.kind="else";class b extends f{constructor(x,w){super(w),this.condition=x}render(x){let w=`if(${this.condition})`+super.render(x);return this.else&&(w+="else "+this.else.render(x)),w}optimizeNodes(){super.optimizeNodes();const x=this.condition;if(x===!0)return this.nodes;let w=this.else;if(w){const k=w.optimizeNodes();w=this.else=Array.isArray(k)?new g(k):k}if(w)return x===!1?w instanceof b?w:w.nodes:this.nodes.length?this:new b(V(x),w instanceof b?[w]:w.nodes);if(!(x===!1||!this.nodes.length))return this}optimizeNames(x,w){var k;if(this.else=(k=this.else)===null||k===void 0?void 0:k.optimizeNames(x,w),!!(super.optimizeNames(x,w)||this.else))return this.condition=A(this.condition,x,w),this}get names(){const x=super.names;return ne(x,this.condition),this.else&&X(x,this.else.names),x}}b.kind="if";class _ extends f{}_.kind="for";class S extends _{constructor(x){super(),this.iteration=x}render(x){return`for(${this.iteration})`+super.render(x)}optimizeNames(x,w){if(super.optimizeNames(x,w))return this.iteration=A(this.iteration,x,w),this}get names(){return X(super.names,this.iteration.names)}}class C extends _{constructor(x,w,k,Y){super(),this.varKind=x,this.name=w,this.from=k,this.to=Y}render(x){const w=x.es5?n.varKinds.var:this.varKind,{name:k,from:Y,to:Q}=this;return`for(${w} ${k}=${Y}; ${k}<${Q}; ${k}++)`+super.render(x)}get names(){const x=ne(super.names,this.from);return ne(x,this.to)}}class L extends _{constructor(x,w,k,Y){super(),this.loop=x,this.varKind=w,this.name=k,this.iterable=Y}render(x){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(x)}optimizeNames(x,w){if(super.optimizeNames(x,w))return this.iterable=A(this.iterable,x,w),this}get names(){return X(super.names,this.iterable.names)}}class K extends f{constructor(x,w,k){super(),this.name=x,this.args=w,this.async=k}render(x){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(x)}}K.kind="func";class D extends y{render(x){return"return "+super.render(x)}}D.kind="return";class Z extends f{render(x){let w="try"+super.render(x);return this.catch&&(w+=this.catch.render(x)),this.finally&&(w+=this.finally.render(x)),w}optimizeNodes(){var x,w;return super.optimizeNodes(),(x=this.catch)===null||x===void 0||x.optimizeNodes(),(w=this.finally)===null||w===void 0||w.optimizeNodes(),this}optimizeNames(x,w){var k,Y;return super.optimizeNames(x,w),(k=this.catch)===null||k===void 0||k.optimizeNames(x,w),(Y=this.finally)===null||Y===void 0||Y.optimizeNames(x,w),this}get names(){const x=super.names;return this.catch&&X(x,this.catch.names),this.finally&&X(x,this.finally.names),x}}class se extends f{constructor(x){super(),this.error=x}render(x){return`catch(${this.error})`+super.render(x)}}se.kind="catch";class ve extends f{render(x){return"finally"+super.render(x)}}ve.kind="finally";class J{constructor(x,w={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...w,_n:w.lines?`
`:""},this._extScope=x,this._scope=new n.Scope({parent:x}),this._nodes=[new m]}toString(){return this._root.render(this.opts)}name(x){return this._scope.name(x)}scopeName(x){return this._extScope.name(x)}scopeValue(x,w){const k=this._extScope.value(x,w);return(this._values[k.prefix]||(this._values[k.prefix]=new Set)).add(k),k}getScopeValue(x,w){return this._extScope.getValue(x,w)}scopeRefs(x){return this._extScope.scopeRefs(x,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(x,w,k,Y){const Q=this._scope.toName(w);return k!==void 0&&Y&&(this._constants[Q.str]=k),this._leafNode(new a(x,Q,k)),Q}const(x,w,k){return this._def(n.varKinds.const,x,w,k)}let(x,w,k){return this._def(n.varKinds.let,x,w,k)}var(x,w,k){return this._def(n.varKinds.var,x,w,k)}assign(x,w,k){return this._leafNode(new o(x,w,k))}add(x,w){return this._leafNode(new c(x,t.operators.ADD,w))}code(x){return typeof x=="function"?x():x!==e.nil&&this._leafNode(new h(x)),this}object(...x){const w=["{"];for(const[k,Y]of x)w.length>1&&w.push(","),w.push(k),(k!==Y||this.opts.es5)&&(w.push(":"),(0,e.addCodeArg)(w,Y));return w.push("}"),new e._Code(w)}if(x,w,k){if(this._blockNode(new b(x)),w&&k)this.code(w).else().code(k).endIf();else if(w)this.code(w).endIf();else if(k)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(x){return this._elseNode(new b(x))}else(){return this._elseNode(new g)}endIf(){return this._endBlockNode(b,g)}_for(x,w){return this._blockNode(x),w&&this.code(w).endFor(),this}for(x,w){return this._for(new S(x),w)}forRange(x,w,k,Y,Q=this.opts.es5?n.varKinds.var:n.varKinds.let){const ge=this._scope.toName(x);return this._for(new C(Q,ge,w,k),()=>Y(ge))}forOf(x,w,k,Y=n.varKinds.const){const Q=this._scope.toName(x);if(this.opts.es5){const ge=w instanceof e.Name?w:this.var("_arr",w);return this.forRange("_i",0,(0,e._)`${ge}.length`,ye=>{this.var(Q,(0,e._)`${ge}[${ye}]`),k(Q)})}return this._for(new L("of",Y,Q,w),()=>k(Q))}forIn(x,w,k,Y=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(x,(0,e._)`Object.keys(${w})`,k);const Q=this._scope.toName(x);return this._for(new L("in",Y,Q,w),()=>k(Q))}endFor(){return this._endBlockNode(_)}label(x){return this._leafNode(new l(x))}break(x){return this._leafNode(new u(x))}return(x){const w=new D;if(this._blockNode(w),this.code(x),w.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(D)}try(x,w,k){if(!w&&!k)throw new Error('CodeGen: "try" without "catch" and "finally"');const Y=new Z;if(this._blockNode(Y),this.code(x),w){const Q=this.name("e");this._currNode=Y.catch=new se(Q),w(Q)}return k&&(this._currNode=Y.finally=new ve,this.code(k)),this._endBlockNode(se,ve)}throw(x){return this._leafNode(new p(x))}block(x,w){return this._blockStarts.push(this._nodes.length),x&&this.code(x).endBlock(w),this}endBlock(x){const w=this._blockStarts.pop();if(w===void 0)throw new Error("CodeGen: not in self-balancing block");const k=this._nodes.length-w;if(k<0||x!==void 0&&k!==x)throw new Error(`CodeGen: wrong number of nodes: ${k} vs ${x} expected`);return this._nodes.length=w,this}func(x,w=e.nil,k,Y){return this._blockNode(new K(x,w,k)),Y&&this.code(Y).endFunc(),this}endFunc(){return this._endBlockNode(K)}optimize(x=1){for(;x-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(x){return this._currNode.nodes.push(x),this}_blockNode(x){this._currNode.nodes.push(x),this._nodes.push(x)}_endBlockNode(x,w){const k=this._currNode;if(k instanceof x||w&&k instanceof w)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${w?`${x.kind}/${w.kind}`:x.kind}"`)}_elseNode(x){const w=this._currNode;if(!(w instanceof b))throw new Error('CodeGen: "else" without "if"');return this._currNode=w.else=x,this}get _root(){return this._nodes[0]}get _currNode(){const x=this._nodes;return x[x.length-1]}set _currNode(x){const w=this._nodes;w[w.length-1]=x}}t.CodeGen=J;function X(R,x){for(const w in x)R[w]=(R[w]||0)+(x[w]||0);return R}function ne(R,x){return x instanceof e._CodeOrName?X(R,x.names):R}function A(R,x,w){if(R instanceof e.Name)return k(R);if(!Y(R))return R;return new e._Code(R._items.reduce((Q,ge)=>(ge instanceof e.Name&&(ge=k(ge)),ge instanceof e._Code?Q.push(...ge._items):Q.push(ge),Q),[]));function k(Q){const ge=w[Q.str];return ge===void 0||x[Q.str]!==1?Q:(delete x[Q.str],ge)}function Y(Q){return Q instanceof e._Code&&Q._items.some(ge=>ge instanceof e.Name&&x[ge.str]===1&&w[ge.str]!==void 0)}}function F(R,x){for(const w in x)R[w]=(R[w]||0)-(x[w]||0)}function V(R){return typeof R=="boolean"||typeof R=="number"||R===null?!R:(0,e._)`!${N(R)}`}t.not=V;const q=$(t.operators.AND);function M(...R){return R.reduce(q)}t.and=M;const z=$(t.operators.OR);function I(...R){return R.reduce(z)}t.or=I;function $(R){return(x,w)=>x===e.nil?w:w===e.nil?x:(0,e._)`${N(x)} ${R} ${N(w)}`}function N(R){return R instanceof e.Name?R:(0,e._)`(${R})`}})(ie);var G={};Object.defineProperty(G,"__esModule",{value:!0});G.checkStrictMode=G.getErrorPath=G.Type=G.useFunc=G.setEvaluated=G.evaluatedPropsToName=G.mergeEvaluated=G.eachItem=G.unescapeJsonPointer=G.escapeJsonPointer=G.escapeFragment=G.unescapeFragment=G.schemaRefOrVal=G.schemaHasRulesButRef=G.schemaHasRules=G.checkUnknownRules=G.alwaysValidSchema=G.toHash=void 0;const xe=ie,C1=Da;function N1(t){const e={};for(const n of t)e[n]=!0;return e}G.toHash=N1;function A1(t,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:(jw(t,e),!Lw(e,t.self.RULES.all))}G.alwaysValidSchema=A1;function jw(t,e=t.schema){const{opts:n,self:r}=t;if(!n.strictSchema||typeof e=="boolean")return;const s=r.RULES.keywords;for(const i in e)s[i]||Fw(t,`unknown keyword: "${i}"`)}G.checkUnknownRules=jw;function Lw(t,e){if(typeof t=="boolean")return!t;for(const n in t)if(e[n])return!0;return!1}G.schemaHasRules=Lw;function I1(t,e){if(typeof t=="boolean")return!t;for(const n in t)if(n!=="$ref"&&e.all[n])return!0;return!1}G.schemaHasRulesButRef=I1;function P1({topSchemaRef:t,schemaPath:e},n,r,s){if(!s){if(typeof n=="number"||typeof n=="boolean")return n;if(typeof n=="string")return(0,xe._)`${n}`}return(0,xe._)`${t}${e}${(0,xe.getProperty)(r)}`}G.schemaRefOrVal=P1;function k1(t){return qw(decodeURIComponent(t))}G.unescapeFragment=k1;function j1(t){return encodeURIComponent(tf(t))}G.escapeFragment=j1;function tf(t){return typeof t=="number"?`${t}`:t.replace(/~/g,"~0").replace(/\//g,"~1")}G.escapeJsonPointer=tf;function qw(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}G.unescapeJsonPointer=qw;function L1(t,e){if(Array.isArray(t))for(const n of t)e(n);else e(t)}G.eachItem=L1;function fm({mergeNames:t,mergeToName:e,mergeValues:n,resultToName:r}){return(s,i,a,o)=>{const c=a===void 0?i:a instanceof xe.Name?(i instanceof xe.Name?t(s,i,a):e(s,i,a),a):i instanceof xe.Name?(e(s,a,i),i):n(i,a);return o===xe.Name&&!(c instanceof xe.Name)?r(s,c):c}}G.mergeEvaluated={props:fm({mergeNames:(t,e,n)=>t.if((0,xe._)`${n} !== true && ${e} !== undefined`,()=>{t.if((0,xe._)`${e} === true`,()=>t.assign(n,!0),()=>t.assign(n,(0,xe._)`${n} || {}`).code((0,xe._)`Object.assign(${n}, ${e})`))}),mergeToName:(t,e,n)=>t.if((0,xe._)`${n} !== true`,()=>{e===!0?t.assign(n,!0):(t.assign(n,(0,xe._)`${n} || {}`),nf(t,n,e))}),mergeValues:(t,e)=>t===!0?!0:{...t,...e},resultToName:Mw}),items:fm({mergeNames:(t,e,n)=>t.if((0,xe._)`${n} !== true && ${e} !== undefined`,()=>t.assign(n,(0,xe._)`${e} === true ? true : ${n} > ${e} ? ${n} : ${e}`)),mergeToName:(t,e,n)=>t.if((0,xe._)`${n} !== true`,()=>t.assign(n,e===!0?!0:(0,xe._)`${n} > ${e} ? ${n} : ${e}`)),mergeValues:(t,e)=>t===!0?!0:Math.max(t,e),resultToName:(t,e)=>t.var("items",e)})};function Mw(t,e){if(e===!0)return t.var("props",!0);const n=t.var("props",(0,xe._)`{}`);return e!==void 0&&nf(t,n,e),n}G.evaluatedPropsToName=Mw;function nf(t,e,n){Object.keys(n).forEach(r=>t.assign((0,xe._)`${e}${(0,xe.getProperty)(r)}`,!0))}G.setEvaluated=nf;const hm={};function q1(t,e){return t.scopeValue("func",{ref:e,code:hm[e.code]||(hm[e.code]=new C1._Code(e.code))})}G.useFunc=q1;var Bp;(function(t){t[t.Num=0]="Num",t[t.Str=1]="Str"})(Bp||(G.Type=Bp={}));function M1(t,e,n){if(t instanceof xe.Name){const r=e===Bp.Num;return n?r?(0,xe._)`"[" + ${t} + "]"`:(0,xe._)`"['" + ${t} + "']"`:r?(0,xe._)`"/" + ${t}`:(0,xe._)`"/" + ${t}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return n?(0,xe.getProperty)(t).toString():"/"+tf(t)}G.getErrorPath=M1;function Fw(t,e,n=t.opts.strictSchema){if(n){if(e=`strict mode: ${e}`,n===!0)throw new Error(e);t.self.logger.warn(e)}}G.checkStrictMode=Fw;var Ut={};Object.defineProperty(Ut,"__esModule",{value:!0});const nt=ie,F1={data:new nt.Name("data"),valCxt:new nt.Name("valCxt"),instancePath:new nt.Name("instancePath"),parentData:new nt.Name("parentData"),parentDataProperty:new nt.Name("parentDataProperty"),rootData:new nt.Name("rootData"),dynamicAnchors:new nt.Name("dynamicAnchors"),vErrors:new nt.Name("vErrors"),errors:new nt.Name("errors"),this:new nt.Name("this"),self:new nt.Name("self"),scope:new nt.Name("scope"),json:new nt.Name("json"),jsonPos:new nt.Name("jsonPos"),jsonLen:new nt.Name("jsonLen"),jsonPart:new nt.Name("jsonPart")};Ut.default=F1;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const e=ie,n=G,r=Ut;t.keywordError={message:({keyword:g})=>(0,e.str)`must pass "${g}" keyword validation`},t.keyword$DataError={message:({keyword:g,schemaType:b})=>b?(0,e.str)`"${g}" keyword must be ${b} ($data)`:(0,e.str)`"${g}" keyword is invalid ($data)`};function s(g,b=t.keywordError,_,S){const{it:C}=g,{gen:L,compositeRule:K,allErrors:D}=C,Z=p(g,b,_);S??(K||D)?c(L,Z):l(C,(0,e._)`[${Z}]`)}t.reportError=s;function i(g,b=t.keywordError,_){const{it:S}=g,{gen:C,compositeRule:L,allErrors:K}=S,D=p(g,b,_);c(C,D),L||K||l(S,r.default.vErrors)}t.reportExtraError=i;function a(g,b){g.assign(r.default.errors,b),g.if((0,e._)`${r.default.vErrors} !== null`,()=>g.if(b,()=>g.assign((0,e._)`${r.default.vErrors}.length`,b),()=>g.assign(r.default.vErrors,null)))}t.resetErrorsCount=a;function o({gen:g,keyword:b,schemaValue:_,data:S,errsCount:C,it:L}){if(C===void 0)throw new Error("ajv implementation error");const K=g.name("err");g.forRange("i",C,r.default.errors,D=>{g.const(K,(0,e._)`${r.default.vErrors}[${D}]`),g.if((0,e._)`${K}.instancePath === undefined`,()=>g.assign((0,e._)`${K}.instancePath`,(0,e.strConcat)(r.default.instancePath,L.errorPath))),g.assign((0,e._)`${K}.schemaPath`,(0,e.str)`${L.errSchemaPath}/${b}`),L.opts.verbose&&(g.assign((0,e._)`${K}.schema`,_),g.assign((0,e._)`${K}.data`,S))})}t.extendErrors=o;function c(g,b){const _=g.const("err",b);g.if((0,e._)`${r.default.vErrors} === null`,()=>g.assign(r.default.vErrors,(0,e._)`[${_}]`),(0,e._)`${r.default.vErrors}.push(${_})`),g.code((0,e._)`${r.default.errors}++`)}function l(g,b){const{gen:_,validateName:S,schemaEnv:C}=g;C.$async?_.throw((0,e._)`new ${g.ValidationError}(${b})`):(_.assign((0,e._)`${S}.errors`,b),_.return(!1))}const u={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function p(g,b,_){const{createErrors:S}=g.it;return S===!1?(0,e._)`{}`:h(g,b,_)}function h(g,b,_={}){const{gen:S,it:C}=g,L=[y(C,_),f(g,_)];return m(g,b,L),S.object(...L)}function y({errorPath:g},{instancePath:b}){const _=b?(0,e.str)`${g}${(0,n.getErrorPath)(b,n.Type.Str)}`:g;return[r.default.instancePath,(0,e.strConcat)(r.default.instancePath,_)]}function f({keyword:g,it:{errSchemaPath:b}},{schemaPath:_,parentSchema:S}){let C=S?b:(0,e.str)`${b}/${g}`;return _&&(C=(0,e.str)`${C}${(0,n.getErrorPath)(_,n.Type.Str)}`),[u.schemaPath,C]}function m(g,{params:b,message:_},S){const{keyword:C,data:L,schemaValue:K,it:D}=g,{opts:Z,propertyName:se,topSchemaRef:ve,schemaPath:J}=D;S.push([u.keyword,C],[u.params,typeof b=="function"?b(g):b||(0,e._)`{}`]),Z.messages&&S.push([u.message,typeof _=="function"?_(g):_]),Z.verbose&&S.push([u.schema,K],[u.parentSchema,(0,e._)`${ve}${J}`],[r.default.data,L]),se&&S.push([u.propertyName,se])}})(po);Object.defineProperty(Li,"__esModule",{value:!0});Li.boolOrEmptySchema=Li.topBoolOrEmptySchema=void 0;const U1=po,B1=ie,D1=Ut,z1={message:"boolean schema is false"};function V1(t){const{gen:e,schema:n,validateName:r}=t;n===!1?Uw(t,!1):typeof n=="object"&&n.$async===!0?e.return(D1.default.data):(e.assign((0,B1._)`${r}.errors`,null),e.return(!0))}Li.topBoolOrEmptySchema=V1;function G1(t,e){const{gen:n,schema:r}=t;r===!1?(n.var(e,!1),Uw(t)):n.var(e,!0)}Li.boolOrEmptySchema=G1;function Uw(t,e){const{gen:n,data:r}=t,s={gen:n,keyword:"false schema",data:r,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,U1.reportError)(s,z1,void 0,e)}var qe={},Ts={};Object.defineProperty(Ts,"__esModule",{value:!0});Ts.getRules=Ts.isJSONType=void 0;const H1=["string","number","integer","boolean","null","object","array"],Q1=new Set(H1);function W1(t){return typeof t=="string"&&Q1.has(t)}Ts.isJSONType=W1;function K1(){const t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...t,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}Ts.getRules=K1;var Kn={};Object.defineProperty(Kn,"__esModule",{value:!0});Kn.shouldUseRule=Kn.shouldUseGroup=Kn.schemaHasRulesForType=void 0;function J1({schema:t,self:e},n){const r=e.RULES.types[n];return r&&r!==!0&&Bw(t,r)}Kn.schemaHasRulesForType=J1;function Bw(t,e){return e.rules.some(n=>Dw(t,n))}Kn.shouldUseGroup=Bw;function Dw(t,e){var n;return t[e.keyword]!==void 0||((n=e.definition.implements)===null||n===void 0?void 0:n.some(r=>t[r]!==void 0))}Kn.shouldUseRule=Dw;Object.defineProperty(qe,"__esModule",{value:!0});qe.reportTypeError=qe.checkDataTypes=qe.checkDataType=qe.coerceAndCheckDataType=qe.getJSONTypes=qe.getSchemaTypes=qe.DataType=void 0;const Y1=Ts,X1=Kn,Z1=po,ce=ie,zw=G;var ci;(function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"})(ci||(qe.DataType=ci={}));function eR(t){const e=Vw(t.type);if(e.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&e.push("null")}return e}qe.getSchemaTypes=eR;function Vw(t){const e=Array.isArray(t)?t:t?[t]:[];if(e.every(Y1.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}qe.getJSONTypes=Vw;function tR(t,e){const{gen:n,data:r,opts:s}=t,i=nR(e,s.coerceTypes),a=e.length>0&&!(i.length===0&&e.length===1&&(0,X1.schemaHasRulesForType)(t,e[0]));if(a){const o=rf(e,r,s.strictNumbers,ci.Wrong);n.if(o,()=>{i.length?rR(t,e,i):sf(t)})}return a}qe.coerceAndCheckDataType=tR;const Gw=new Set(["string","number","integer","boolean","null"]);function nR(t,e){return e?t.filter(n=>Gw.has(n)||e==="array"&&n==="array"):[]}function rR(t,e,n){const{gen:r,data:s,opts:i}=t,a=r.let("dataType",(0,ce._)`typeof ${s}`),o=r.let("coerced",(0,ce._)`undefined`);i.coerceTypes==="array"&&r.if((0,ce._)`${a} == 'object' && Array.isArray(${s}) && ${s}.length == 1`,()=>r.assign(s,(0,ce._)`${s}[0]`).assign(a,(0,ce._)`typeof ${s}`).if(rf(e,s,i.strictNumbers),()=>r.assign(o,s))),r.if((0,ce._)`${o} !== undefined`);for(const l of n)(Gw.has(l)||l==="array"&&i.coerceTypes==="array")&&c(l);r.else(),sf(t),r.endIf(),r.if((0,ce._)`${o} !== undefined`,()=>{r.assign(s,o),sR(t,o)});function c(l){switch(l){case"string":r.elseIf((0,ce._)`${a} == "number" || ${a} == "boolean"`).assign(o,(0,ce._)`"" + ${s}`).elseIf((0,ce._)`${s} === null`).assign(o,(0,ce._)`""`);return;case"number":r.elseIf((0,ce._)`${a} == "boolean" || ${s} === null
              || (${a} == "string" && ${s} && ${s} == +${s})`).assign(o,(0,ce._)`+${s}`);return;case"integer":r.elseIf((0,ce._)`${a} === "boolean" || ${s} === null
              || (${a} === "string" && ${s} && ${s} == +${s} && !(${s} % 1))`).assign(o,(0,ce._)`+${s}`);return;case"boolean":r.elseIf((0,ce._)`${s} === "false" || ${s} === 0 || ${s} === null`).assign(o,!1).elseIf((0,ce._)`${s} === "true" || ${s} === 1`).assign(o,!0);return;case"null":r.elseIf((0,ce._)`${s} === "" || ${s} === 0 || ${s} === false`),r.assign(o,null);return;case"array":r.elseIf((0,ce._)`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${s} === null`).assign(o,(0,ce._)`[${s}]`)}}}function sR({gen:t,parentData:e,parentDataProperty:n},r){t.if((0,ce._)`${e} !== undefined`,()=>t.assign((0,ce._)`${e}[${n}]`,r))}function Dp(t,e,n,r=ci.Correct){const s=r===ci.Correct?ce.operators.EQ:ce.operators.NEQ;let i;switch(t){case"null":return(0,ce._)`${e} ${s} null`;case"array":i=(0,ce._)`Array.isArray(${e})`;break;case"object":i=(0,ce._)`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":i=a((0,ce._)`!(${e} % 1) && !isNaN(${e})`);break;case"number":i=a();break;default:return(0,ce._)`typeof ${e} ${s} ${t}`}return r===ci.Correct?i:(0,ce.not)(i);function a(o=ce.nil){return(0,ce.and)((0,ce._)`typeof ${e} == "number"`,o,n?(0,ce._)`isFinite(${e})`:ce.nil)}}qe.checkDataType=Dp;function rf(t,e,n,r){if(t.length===1)return Dp(t[0],e,n,r);let s;const i=(0,zw.toHash)(t);if(i.array&&i.object){const a=(0,ce._)`typeof ${e} != "object"`;s=i.null?a:(0,ce._)`!${e} || ${a}`,delete i.null,delete i.array,delete i.object}else s=ce.nil;i.number&&delete i.integer;for(const a in i)s=(0,ce.and)(s,Dp(a,e,n,r));return s}qe.checkDataTypes=rf;const iR={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:e})=>typeof t=="string"?(0,ce._)`{type: ${t}}`:(0,ce._)`{type: ${e}}`};function sf(t){const e=aR(t);(0,Z1.reportError)(e,iR)}qe.reportTypeError=sf;function aR(t){const{gen:e,data:n,schema:r}=t,s=(0,zw.schemaRefOrVal)(t,r,"type");return{gen:e,keyword:"type",data:n,schema:r.type,schemaCode:s,schemaValue:s,parentSchema:r,params:{},it:t}}var $l={};Object.defineProperty($l,"__esModule",{value:!0});$l.assignDefaults=void 0;const Us=ie,oR=G;function cR(t,e){const{properties:n,items:r}=t.schema;if(e==="object"&&n)for(const s in n)mm(t,s,n[s].default);else e==="array"&&Array.isArray(r)&&r.forEach((s,i)=>mm(t,i,s.default))}$l.assignDefaults=cR;function mm(t,e,n){const{gen:r,compositeRule:s,data:i,opts:a}=t;if(n===void 0)return;const o=(0,Us._)`${i}${(0,Us.getProperty)(e)}`;if(s){(0,oR.checkStrictMode)(t,`default is ignored for: ${o}`);return}let c=(0,Us._)`${o} === undefined`;a.useDefaults==="empty"&&(c=(0,Us._)`${c} || ${o} === null || ${o} === ""`),r.if(c,(0,Us._)`${o} = ${(0,Us.stringify)(n)}`)}var Rn={},le={};Object.defineProperty(le,"__esModule",{value:!0});le.validateUnion=le.validateArray=le.usePattern=le.callValidateCode=le.schemaProperties=le.allSchemaProperties=le.noPropertyInData=le.propertyInData=le.isOwnProperty=le.hasPropFunc=le.reportMissingProp=le.checkMissingProp=le.checkReportMissingProp=void 0;const we=ie,af=G,or=Ut,lR=G;function uR(t,e){const{gen:n,data:r,it:s}=t;n.if(cf(n,r,e,s.opts.ownProperties),()=>{t.setParams({missingProperty:(0,we._)`${e}`},!0),t.error()})}le.checkReportMissingProp=uR;function pR({gen:t,data:e,it:{opts:n}},r,s){return(0,we.or)(...r.map(i=>(0,we.and)(cf(t,e,i,n.ownProperties),(0,we._)`${s} = ${i}`)))}le.checkMissingProp=pR;function dR(t,e){t.setParams({missingProperty:e},!0),t.error()}le.reportMissingProp=dR;function Hw(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,we._)`Object.prototype.hasOwnProperty`})}le.hasPropFunc=Hw;function of(t,e,n){return(0,we._)`${Hw(t)}.call(${e}, ${n})`}le.isOwnProperty=of;function fR(t,e,n,r){const s=(0,we._)`${e}${(0,we.getProperty)(n)} !== undefined`;return r?(0,we._)`${s} && ${of(t,e,n)}`:s}le.propertyInData=fR;function cf(t,e,n,r){const s=(0,we._)`${e}${(0,we.getProperty)(n)} === undefined`;return r?(0,we.or)(s,(0,we.not)(of(t,e,n))):s}le.noPropertyInData=cf;function Qw(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}le.allSchemaProperties=Qw;function hR(t,e){return Qw(e).filter(n=>!(0,af.alwaysValidSchema)(t,e[n]))}le.schemaProperties=hR;function mR({schemaCode:t,data:e,it:{gen:n,topSchemaRef:r,schemaPath:s,errorPath:i},it:a},o,c,l){const u=l?(0,we._)`${t}, ${e}, ${r}${s}`:e,p=[[or.default.instancePath,(0,we.strConcat)(or.default.instancePath,i)],[or.default.parentData,a.parentData],[or.default.parentDataProperty,a.parentDataProperty],[or.default.rootData,or.default.rootData]];a.opts.dynamicRef&&p.push([or.default.dynamicAnchors,or.default.dynamicAnchors]);const h=(0,we._)`${u}, ${n.object(...p)}`;return c!==we.nil?(0,we._)`${o}.call(${c}, ${h})`:(0,we._)`${o}(${h})`}le.callValidateCode=mR;const yR=(0,we._)`new RegExp`;function gR({gen:t,it:{opts:e}},n){const r=e.unicodeRegExp?"u":"",{regExp:s}=e.code,i=s(n,r);return t.scopeValue("pattern",{key:i.toString(),ref:i,code:(0,we._)`${s.code==="new RegExp"?yR:(0,lR.useFunc)(t,s)}(${n}, ${r})`})}le.usePattern=gR;function vR(t){const{gen:e,data:n,keyword:r,it:s}=t,i=e.name("valid");if(s.allErrors){const o=e.let("valid",!0);return a(()=>e.assign(o,!1)),o}return e.var(i,!0),a(()=>e.break()),i;function a(o){const c=e.const("len",(0,we._)`${n}.length`);e.forRange("i",0,c,l=>{t.subschema({keyword:r,dataProp:l,dataPropType:af.Type.Num},i),e.if((0,we.not)(i),o)})}}le.validateArray=vR;function bR(t){const{gen:e,schema:n,keyword:r,it:s}=t;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some(c=>(0,af.alwaysValidSchema)(s,c))&&!s.opts.unevaluated)return;const a=e.let("valid",!1),o=e.name("_valid");e.block(()=>n.forEach((c,l)=>{const u=t.subschema({keyword:r,schemaProp:l,compositeRule:!0},o);e.assign(a,(0,we._)`${a} || ${o}`),t.mergeValidEvaluated(u,o)||e.if((0,we.not)(a))})),t.result(a,()=>t.reset(),()=>t.error(!0))}le.validateUnion=bR;Object.defineProperty(Rn,"__esModule",{value:!0});Rn.validateKeywordUsage=Rn.validSchemaType=Rn.funcKeywordCode=Rn.macroKeywordCode=void 0;const pt=ie,Kr=Ut,xR=le,wR=po;function _R(t,e){const{gen:n,keyword:r,schema:s,parentSchema:i,it:a}=t,o=e.macro.call(a.self,s,i,a),c=Ww(n,r,o);a.opts.validateSchema!==!1&&a.self.validateSchema(o,!0);const l=n.name("valid");t.subschema({schema:o,schemaPath:pt.nil,errSchemaPath:`${a.errSchemaPath}/${r}`,topSchemaRef:c,compositeRule:!0},l),t.pass(l,()=>t.error(!0))}Rn.macroKeywordCode=_R;function $R(t,e){var n;const{gen:r,keyword:s,schema:i,parentSchema:a,$data:o,it:c}=t;ER(c,e);const l=!o&&e.compile?e.compile.call(c.self,i,a,c):e.validate,u=Ww(r,s,l),p=r.let("valid");t.block$data(p,h),t.ok((n=e.valid)!==null&&n!==void 0?n:p);function h(){if(e.errors===!1)m(),e.modifying&&ym(t),g(()=>t.error());else{const b=e.async?y():f();e.modifying&&ym(t),g(()=>SR(t,b))}}function y(){const b=r.let("ruleErrs",null);return r.try(()=>m((0,pt._)`await `),_=>r.assign(p,!1).if((0,pt._)`${_} instanceof ${c.ValidationError}`,()=>r.assign(b,(0,pt._)`${_}.errors`),()=>r.throw(_))),b}function f(){const b=(0,pt._)`${u}.errors`;return r.assign(b,null),m(pt.nil),b}function m(b=e.async?(0,pt._)`await `:pt.nil){const _=c.opts.passContext?Kr.default.this:Kr.default.self,S=!("compile"in e&&!o||e.schema===!1);r.assign(p,(0,pt._)`${b}${(0,xR.callValidateCode)(t,u,_,S)}`,e.modifying)}function g(b){var _;r.if((0,pt.not)((_=e.valid)!==null&&_!==void 0?_:p),b)}}Rn.funcKeywordCode=$R;function ym(t){const{gen:e,data:n,it:r}=t;e.if(r.parentData,()=>e.assign(n,(0,pt._)`${r.parentData}[${r.parentDataProperty}]`))}function SR(t,e){const{gen:n}=t;n.if((0,pt._)`Array.isArray(${e})`,()=>{n.assign(Kr.default.vErrors,(0,pt._)`${Kr.default.vErrors} === null ? ${e} : ${Kr.default.vErrors}.concat(${e})`).assign(Kr.default.errors,(0,pt._)`${Kr.default.vErrors}.length`),(0,wR.extendErrors)(t)},()=>t.error())}function ER({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function Ww(t,e,n){if(n===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof n=="function"?{ref:n}:{ref:n,code:(0,pt.stringify)(n)})}function RR(t,e,n=!1){return!e.length||e.some(r=>r==="array"?Array.isArray(t):r==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==r||n&&typeof t>"u")}Rn.validSchemaType=RR;function TR({schema:t,opts:e,self:n,errSchemaPath:r},s,i){if(Array.isArray(s.keyword)?!s.keyword.includes(i):s.keyword!==i)throw new Error("ajv implementation error");const a=s.dependencies;if(a!=null&&a.some(o=>!Object.prototype.hasOwnProperty.call(t,o)))throw new Error(`parent schema must have dependencies of ${i}: ${a.join(",")}`);if(s.validateSchema&&!s.validateSchema(t[i])){const c=`keyword "${i}" value is invalid at path "${r}": `+n.errorsText(s.validateSchema.errors);if(e.validateSchema==="log")n.logger.error(c);else throw new Error(c)}}Rn.validateKeywordUsage=TR;var Nr={};Object.defineProperty(Nr,"__esModule",{value:!0});Nr.extendSubschemaMode=Nr.extendSubschemaData=Nr.getSubschema=void 0;const En=ie,Kw=G;function OR(t,{keyword:e,schemaProp:n,schema:r,schemaPath:s,errSchemaPath:i,topSchemaRef:a}){if(e!==void 0&&r!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){const o=t.schema[e];return n===void 0?{schema:o,schemaPath:(0,En._)`${t.schemaPath}${(0,En.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:o[n],schemaPath:(0,En._)`${t.schemaPath}${(0,En.getProperty)(e)}${(0,En.getProperty)(n)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,Kw.escapeFragment)(n)}`}}if(r!==void 0){if(s===void 0||i===void 0||a===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:r,schemaPath:s,topSchemaRef:a,errSchemaPath:i}}throw new Error('either "keyword" or "schema" must be passed')}Nr.getSubschema=OR;function CR(t,e,{dataProp:n,dataPropType:r,data:s,dataTypes:i,propertyName:a}){if(s!==void 0&&n!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:o}=e;if(n!==void 0){const{errorPath:l,dataPathArr:u,opts:p}=e,h=o.let("data",(0,En._)`${e.data}${(0,En.getProperty)(n)}`,!0);c(h),t.errorPath=(0,En.str)`${l}${(0,Kw.getErrorPath)(n,r,p.jsPropertySyntax)}`,t.parentDataProperty=(0,En._)`${n}`,t.dataPathArr=[...u,t.parentDataProperty]}if(s!==void 0){const l=s instanceof En.Name?s:o.let("data",s,!0);c(l),a!==void 0&&(t.propertyName=a)}i&&(t.dataTypes=i);function c(l){t.data=l,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,l]}}Nr.extendSubschemaData=CR;function NR(t,{jtdDiscriminator:e,jtdMetadata:n,compositeRule:r,createErrors:s,allErrors:i}){r!==void 0&&(t.compositeRule=r),s!==void 0&&(t.createErrors=s),i!==void 0&&(t.allErrors=i),t.jtdDiscriminator=e,t.jtdMetadata=n}Nr.extendSubschemaMode=NR;var Ze={},Jw=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var a=i[s];if(!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n},Yw={exports:{}},Cr=Yw.exports=function(t,e,n){typeof e=="function"&&(n=e,e={}),n=e.cb||n;var r=typeof n=="function"?n:n.pre||function(){},s=n.post||function(){};pc(e,r,s,t,"",t)};Cr.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Cr.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Cr.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Cr.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function pc(t,e,n,r,s,i,a,o,c,l){if(r&&typeof r=="object"&&!Array.isArray(r)){e(r,s,i,a,o,c,l);for(var u in r){var p=r[u];if(Array.isArray(p)){if(u in Cr.arrayKeywords)for(var h=0;h<p.length;h++)pc(t,e,n,p[h],s+"/"+u+"/"+h,i,s,u,r,h)}else if(u in Cr.propsKeywords){if(p&&typeof p=="object")for(var y in p)pc(t,e,n,p[y],s+"/"+u+"/"+AR(y),i,s,u,r,y)}else(u in Cr.keywords||t.allKeys&&!(u in Cr.skipKeywords))&&pc(t,e,n,p,s+"/"+u,i,s,u,r)}n(r,s,i,a,o,c,l)}}function AR(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}var IR=Yw.exports;Object.defineProperty(Ze,"__esModule",{value:!0});Ze.getSchemaRefs=Ze.resolveUrl=Ze.normalizeId=Ze._getFullPath=Ze.getFullPath=Ze.inlineRef=void 0;const PR=G,kR=Jw,jR=IR,LR=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function qR(t,e=!0){return typeof t=="boolean"?!0:e===!0?!zp(t):e?Xw(t)<=e:!1}Ze.inlineRef=qR;const MR=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function zp(t){for(const e in t){if(MR.has(e))return!0;const n=t[e];if(Array.isArray(n)&&n.some(zp)||typeof n=="object"&&zp(n))return!0}return!1}function Xw(t){let e=0;for(const n in t){if(n==="$ref")return 1/0;if(e++,!LR.has(n)&&(typeof t[n]=="object"&&(0,PR.eachItem)(t[n],r=>e+=Xw(r)),e===1/0))return 1/0}return e}function Zw(t,e="",n){n!==!1&&(e=li(e));const r=t.parse(e);return e_(t,r)}Ze.getFullPath=Zw;function e_(t,e){return t.serialize(e).split("#")[0]+"#"}Ze._getFullPath=e_;const FR=/#\/?$/;function li(t){return t?t.replace(FR,""):""}Ze.normalizeId=li;function UR(t,e,n){return n=li(n),t.resolve(e,n)}Ze.resolveUrl=UR;const BR=/^[a-z_][-a-z0-9._]*$/i;function DR(t,e){if(typeof t=="boolean")return{};const{schemaId:n,uriResolver:r}=this.opts,s=li(t[n]||e),i={"":s},a=Zw(r,s,!1),o={},c=new Set;return jR(t,{allKeys:!0},(p,h,y,f)=>{if(f===void 0)return;const m=a+h;let g=i[f];typeof p[n]=="string"&&(g=b.call(this,p[n])),_.call(this,p.$anchor),_.call(this,p.$dynamicAnchor),i[h]=g;function b(S){const C=this.opts.uriResolver.resolve;if(S=li(g?C(g,S):S),c.has(S))throw u(S);c.add(S);let L=this.refs[S];return typeof L=="string"&&(L=this.refs[L]),typeof L=="object"?l(p,L.schema,S):S!==li(m)&&(S[0]==="#"?(l(p,o[S],S),o[S]=p):this.refs[S]=m),S}function _(S){if(typeof S=="string"){if(!BR.test(S))throw new Error(`invalid anchor "${S}"`);b.call(this,`#${S}`)}}}),o;function l(p,h,y){if(h!==void 0&&!kR(p,h))throw u(y)}function u(p){return new Error(`reference "${p}" resolves to more than one schema`)}}Ze.getSchemaRefs=DR;Object.defineProperty(Ht,"__esModule",{value:!0});Ht.getData=Ht.KeywordCxt=Ht.validateFunctionCode=void 0;const t_=Li,gm=qe,lf=Kn,Ic=qe,zR=$l,ka=Rn,Pu=Nr,ee=ie,re=Ut,VR=Ze,Jn=G,la=po;function GR(t){if(s_(t)&&(i_(t),r_(t))){WR(t);return}n_(t,()=>(0,t_.topBoolOrEmptySchema)(t))}Ht.validateFunctionCode=GR;function n_({gen:t,validateName:e,schema:n,schemaEnv:r,opts:s},i){s.code.es5?t.func(e,(0,ee._)`${re.default.data}, ${re.default.valCxt}`,r.$async,()=>{t.code((0,ee._)`"use strict"; ${vm(n,s)}`),QR(t,s),t.code(i)}):t.func(e,(0,ee._)`${re.default.data}, ${HR(s)}`,r.$async,()=>t.code(vm(n,s)).code(i))}function HR(t){return(0,ee._)`{${re.default.instancePath}="", ${re.default.parentData}, ${re.default.parentDataProperty}, ${re.default.rootData}=${re.default.data}${t.dynamicRef?(0,ee._)`, ${re.default.dynamicAnchors}={}`:ee.nil}}={}`}function QR(t,e){t.if(re.default.valCxt,()=>{t.var(re.default.instancePath,(0,ee._)`${re.default.valCxt}.${re.default.instancePath}`),t.var(re.default.parentData,(0,ee._)`${re.default.valCxt}.${re.default.parentData}`),t.var(re.default.parentDataProperty,(0,ee._)`${re.default.valCxt}.${re.default.parentDataProperty}`),t.var(re.default.rootData,(0,ee._)`${re.default.valCxt}.${re.default.rootData}`),e.dynamicRef&&t.var(re.default.dynamicAnchors,(0,ee._)`${re.default.valCxt}.${re.default.dynamicAnchors}`)},()=>{t.var(re.default.instancePath,(0,ee._)`""`),t.var(re.default.parentData,(0,ee._)`undefined`),t.var(re.default.parentDataProperty,(0,ee._)`undefined`),t.var(re.default.rootData,re.default.data),e.dynamicRef&&t.var(re.default.dynamicAnchors,(0,ee._)`{}`)})}function WR(t){const{schema:e,opts:n,gen:r}=t;n_(t,()=>{n.$comment&&e.$comment&&o_(t),ZR(t),r.let(re.default.vErrors,null),r.let(re.default.errors,0),n.unevaluated&&KR(t),a_(t),nT(t)})}function KR(t){const{gen:e,validateName:n}=t;t.evaluated=e.const("evaluated",(0,ee._)`${n}.evaluated`),e.if((0,ee._)`${t.evaluated}.dynamicProps`,()=>e.assign((0,ee._)`${t.evaluated}.props`,(0,ee._)`undefined`)),e.if((0,ee._)`${t.evaluated}.dynamicItems`,()=>e.assign((0,ee._)`${t.evaluated}.items`,(0,ee._)`undefined`))}function vm(t,e){const n=typeof t=="object"&&t[e.schemaId];return n&&(e.code.source||e.code.process)?(0,ee._)`/*# sourceURL=${n} */`:ee.nil}function JR(t,e){if(s_(t)&&(i_(t),r_(t))){YR(t,e);return}(0,t_.boolOrEmptySchema)(t,e)}function r_({schema:t,self:e}){if(typeof t=="boolean")return!t;for(const n in t)if(e.RULES.all[n])return!0;return!1}function s_(t){return typeof t.schema!="boolean"}function YR(t,e){const{schema:n,gen:r,opts:s}=t;s.$comment&&n.$comment&&o_(t),eT(t),tT(t);const i=r.const("_errs",re.default.errors);a_(t,i),r.var(e,(0,ee._)`${i} === ${re.default.errors}`)}function i_(t){(0,Jn.checkUnknownRules)(t),XR(t)}function a_(t,e){if(t.opts.jtd)return bm(t,[],!1,e);const n=(0,gm.getSchemaTypes)(t.schema),r=(0,gm.coerceAndCheckDataType)(t,n);bm(t,n,!r,e)}function XR(t){const{schema:e,errSchemaPath:n,opts:r,self:s}=t;e.$ref&&r.ignoreKeywordsWithRef&&(0,Jn.schemaHasRulesButRef)(e,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}function ZR(t){const{schema:e,opts:n}=t;e.default!==void 0&&n.useDefaults&&n.strictSchema&&(0,Jn.checkStrictMode)(t,"default is ignored in the schema root")}function eT(t){const e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,VR.resolveUrl)(t.opts.uriResolver,t.baseId,e))}function tT(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function o_({gen:t,schemaEnv:e,schema:n,errSchemaPath:r,opts:s}){const i=n.$comment;if(s.$comment===!0)t.code((0,ee._)`${re.default.self}.logger.log(${i})`);else if(typeof s.$comment=="function"){const a=(0,ee.str)`${r}/$comment`,o=t.scopeValue("root",{ref:e.root});t.code((0,ee._)`${re.default.self}.opts.$comment(${i}, ${a}, ${o}.schema)`)}}function nT(t){const{gen:e,schemaEnv:n,validateName:r,ValidationError:s,opts:i}=t;n.$async?e.if((0,ee._)`${re.default.errors} === 0`,()=>e.return(re.default.data),()=>e.throw((0,ee._)`new ${s}(${re.default.vErrors})`)):(e.assign((0,ee._)`${r}.errors`,re.default.vErrors),i.unevaluated&&rT(t),e.return((0,ee._)`${re.default.errors} === 0`))}function rT({gen:t,evaluated:e,props:n,items:r}){n instanceof ee.Name&&t.assign((0,ee._)`${e}.props`,n),r instanceof ee.Name&&t.assign((0,ee._)`${e}.items`,r)}function bm(t,e,n,r){const{gen:s,schema:i,data:a,allErrors:o,opts:c,self:l}=t,{RULES:u}=l;if(i.$ref&&(c.ignoreKeywordsWithRef||!(0,Jn.schemaHasRulesButRef)(i,u))){s.block(()=>u_(t,"$ref",u.all.$ref.definition));return}c.jtd||sT(t,e),s.block(()=>{for(const h of u.rules)p(h);p(u.post)});function p(h){(0,lf.shouldUseGroup)(i,h)&&(h.type?(s.if((0,Ic.checkDataType)(h.type,a,c.strictNumbers)),xm(t,h),e.length===1&&e[0]===h.type&&n&&(s.else(),(0,Ic.reportTypeError)(t)),s.endIf()):xm(t,h),o||s.if((0,ee._)`${re.default.errors} === ${r||0}`))}}function xm(t,e){const{gen:n,schema:r,opts:{useDefaults:s}}=t;s&&(0,zR.assignDefaults)(t,e.type),n.block(()=>{for(const i of e.rules)(0,lf.shouldUseRule)(r,i)&&u_(t,i.keyword,i.definition,e.type)})}function sT(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(iT(t,e),t.opts.allowUnionTypes||aT(t,e),oT(t,t.dataTypes))}function iT(t,e){if(e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(n=>{c_(t.dataTypes,n)||uf(t,`type "${n}" not allowed by context "${t.dataTypes.join(",")}"`)}),lT(t,e)}}function aT(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&uf(t,"use allowUnionTypes to allow union type keyword")}function oT(t,e){const n=t.self.RULES.all;for(const r in n){const s=n[r];if(typeof s=="object"&&(0,lf.shouldUseRule)(t.schema,s)){const{type:i}=s.definition;i.length&&!i.some(a=>cT(e,a))&&uf(t,`missing type "${i.join(",")}" for keyword "${r}"`)}}}function cT(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function c_(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function lT(t,e){const n=[];for(const r of t.dataTypes)c_(e,r)?n.push(r):e.includes("integer")&&r==="number"&&n.push("integer");t.dataTypes=n}function uf(t,e){const n=t.schemaEnv.baseId+t.errSchemaPath;e+=` at "${n}" (strictTypes)`,(0,Jn.checkStrictMode)(t,e,t.opts.strictTypes)}class l_{constructor(e,n,r){if((0,ka.validateKeywordUsage)(e,n,r),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=r,this.data=e.data,this.schema=e.schema[r],this.$data=n.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Jn.schemaRefOrVal)(e,this.schema,r,this.$data),this.schemaType=n.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=n,this.$data)this.schemaCode=e.gen.const("vSchema",p_(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,ka.validSchemaType)(this.schema,n.schemaType,n.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(n.schemaType)}`);("code"in n?n.trackErrors:n.errors!==!1)&&(this.errsCount=e.gen.const("_errs",re.default.errors))}result(e,n,r){this.failResult((0,ee.not)(e),n,r)}failResult(e,n,r){this.gen.if(e),r?r():this.error(),n?(this.gen.else(),n(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,n){this.failResult((0,ee.not)(e),void 0,n)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:n}=this;this.fail((0,ee._)`${n} !== undefined && (${(0,ee.or)(this.invalid$data(),e)})`)}error(e,n,r){if(n){this.setParams(n),this._error(e,r),this.setParams({});return}this._error(e,r)}_error(e,n){(e?la.reportExtraError:la.reportError)(this,this.def.error,n)}$dataError(){(0,la.reportError)(this,this.def.$dataError||la.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,la.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,n){n?Object.assign(this.params,e):this.params=e}block$data(e,n,r=ee.nil){this.gen.block(()=>{this.check$data(e,r),n()})}check$data(e=ee.nil,n=ee.nil){if(!this.$data)return;const{gen:r,schemaCode:s,schemaType:i,def:a}=this;r.if((0,ee.or)((0,ee._)`${s} === undefined`,n)),e!==ee.nil&&r.assign(e,!0),(i.length||a.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),e!==ee.nil&&r.assign(e,!1)),r.else()}invalid$data(){const{gen:e,schemaCode:n,schemaType:r,def:s,it:i}=this;return(0,ee.or)(a(),o());function a(){if(r.length){if(!(n instanceof ee.Name))throw new Error("ajv implementation error");const c=Array.isArray(r)?r:[r];return(0,ee._)`${(0,Ic.checkDataTypes)(c,n,i.opts.strictNumbers,Ic.DataType.Wrong)}`}return ee.nil}function o(){if(s.validateSchema){const c=e.scopeValue("validate$data",{ref:s.validateSchema});return(0,ee._)`!${c}(${n})`}return ee.nil}}subschema(e,n){const r=(0,Pu.getSubschema)(this.it,e);(0,Pu.extendSubschemaData)(r,this.it,e),(0,Pu.extendSubschemaMode)(r,e);const s={...this.it,...r,items:void 0,props:void 0};return JR(s,n),s}mergeEvaluated(e,n){const{it:r,gen:s}=this;r.opts.unevaluated&&(r.props!==!0&&e.props!==void 0&&(r.props=Jn.mergeEvaluated.props(s,e.props,r.props,n)),r.items!==!0&&e.items!==void 0&&(r.items=Jn.mergeEvaluated.items(s,e.items,r.items,n)))}mergeValidEvaluated(e,n){const{it:r,gen:s}=this;if(r.opts.unevaluated&&(r.props!==!0||r.items!==!0))return s.if(n,()=>this.mergeEvaluated(e,ee.Name)),!0}}Ht.KeywordCxt=l_;function u_(t,e,n,r){const s=new l_(t,n,e);"code"in n?n.code(s,r):s.$data&&n.validate?(0,ka.funcKeywordCode)(s,n):"macro"in n?(0,ka.macroKeywordCode)(s,n):(n.compile||n.validate)&&(0,ka.funcKeywordCode)(s,n)}const uT=/^\/(?:[^~]|~0|~1)*$/,pT=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function p_(t,{dataLevel:e,dataNames:n,dataPathArr:r}){let s,i;if(t==="")return re.default.rootData;if(t[0]==="/"){if(!uT.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);s=t,i=re.default.rootData}else{const l=pT.exec(t);if(!l)throw new Error(`Invalid JSON-pointer: ${t}`);const u=+l[1];if(s=l[2],s==="#"){if(u>=e)throw new Error(c("property/index",u));return r[e-u]}if(u>e)throw new Error(c("data",u));if(i=n[e-u],!s)return i}let a=i;const o=s.split("/");for(const l of o)l&&(i=(0,ee._)`${i}${(0,ee.getProperty)((0,Jn.unescapeJsonPointer)(l))}`,a=(0,ee._)`${a} && ${i}`);return a;function c(l,u){return`Cannot access ${l} ${u} levels up, current level is ${e}`}}Ht.getData=p_;var Ji={};Object.defineProperty(Ji,"__esModule",{value:!0});class dT extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}Ji.default=dT;var js={};Object.defineProperty(js,"__esModule",{value:!0});const ku=Ze;class fT extends Error{constructor(e,n,r,s){super(s||`can't resolve reference ${r} from id ${n}`),this.missingRef=(0,ku.resolveUrl)(e,n,r),this.missingSchema=(0,ku.normalizeId)((0,ku.getFullPath)(e,this.missingRef))}}js.default=fT;var ht={};Object.defineProperty(ht,"__esModule",{value:!0});ht.resolveSchema=ht.getCompilingSchema=ht.resolveRef=ht.compileSchema=ht.SchemaEnv=void 0;const Kt=ie,hT=Ji,Ur=Ut,on=Ze,wm=G,mT=Ht;class Sl{constructor(e){var n;this.refs={},this.dynamicAnchors={};let r;typeof e.schema=="object"&&(r=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(n=e.baseId)!==null&&n!==void 0?n:(0,on.normalizeId)(r==null?void 0:r[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=r==null?void 0:r.$async,this.refs={}}}ht.SchemaEnv=Sl;function pf(t){const e=d_.call(this,t);if(e)return e;const n=(0,on.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:r,lines:s}=this.opts.code,{ownProperties:i}=this.opts,a=new Kt.CodeGen(this.scope,{es5:r,lines:s,ownProperties:i});let o;t.$async&&(o=a.scopeValue("Error",{ref:hT.default,code:(0,Kt._)`require("ajv/dist/runtime/validation_error").default`}));const c=a.scopeName("validate");t.validateName=c;const l={gen:a,allErrors:this.opts.allErrors,data:Ur.default.data,parentData:Ur.default.parentData,parentDataProperty:Ur.default.parentDataProperty,dataNames:[Ur.default.data],dataPathArr:[Kt.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,Kt.stringify)(t.schema)}:{ref:t.schema}),validateName:c,ValidationError:o,schema:t.schema,schemaEnv:t,rootId:n,baseId:t.baseId||n,schemaPath:Kt.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Kt._)`""`,opts:this.opts,self:this};let u;try{this._compilations.add(t),(0,mT.validateFunctionCode)(l),a.optimize(this.opts.code.optimize);const p=a.toString();u=`${a.scopeRefs(Ur.default.scope)}return ${p}`,this.opts.code.process&&(u=this.opts.code.process(u,t));const y=new Function(`${Ur.default.self}`,`${Ur.default.scope}`,u)(this,this.scope.get());if(this.scope.value(c,{ref:y}),y.errors=null,y.schema=t.schema,y.schemaEnv=t,t.$async&&(y.$async=!0),this.opts.code.source===!0&&(y.source={validateName:c,validateCode:p,scopeValues:a._values}),this.opts.unevaluated){const{props:f,items:m}=l;y.evaluated={props:f instanceof Kt.Name?void 0:f,items:m instanceof Kt.Name?void 0:m,dynamicProps:f instanceof Kt.Name,dynamicItems:m instanceof Kt.Name},y.source&&(y.source.evaluated=(0,Kt.stringify)(y.evaluated))}return t.validate=y,t}catch(p){throw delete t.validate,delete t.validateName,u&&this.logger.error("Error compiling schema, function code:",u),p}finally{this._compilations.delete(t)}}ht.compileSchema=pf;function yT(t,e,n){var r;n=(0,on.resolveUrl)(this.opts.uriResolver,e,n);const s=t.refs[n];if(s)return s;let i=bT.call(this,t,n);if(i===void 0){const a=(r=t.localRefs)===null||r===void 0?void 0:r[n],{schemaId:o}=this.opts;a&&(i=new Sl({schema:a,schemaId:o,root:t,baseId:e}))}if(i!==void 0)return t.refs[n]=gT.call(this,i)}ht.resolveRef=yT;function gT(t){return(0,on.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:pf.call(this,t)}function d_(t){for(const e of this._compilations)if(vT(e,t))return e}ht.getCompilingSchema=d_;function vT(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function bT(t,e){let n;for(;typeof(n=this.refs[e])=="string";)e=n;return n||this.schemas[e]||El.call(this,t,e)}function El(t,e){const n=this.opts.uriResolver.parse(e),r=(0,on._getFullPath)(this.opts.uriResolver,n);let s=(0,on.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&r===s)return ju.call(this,n,t);const i=(0,on.normalizeId)(r),a=this.refs[i]||this.schemas[i];if(typeof a=="string"){const o=El.call(this,t,a);return typeof(o==null?void 0:o.schema)!="object"?void 0:ju.call(this,n,o)}if(typeof(a==null?void 0:a.schema)=="object"){if(a.validate||pf.call(this,a),i===(0,on.normalizeId)(e)){const{schema:o}=a,{schemaId:c}=this.opts,l=o[c];return l&&(s=(0,on.resolveUrl)(this.opts.uriResolver,s,l)),new Sl({schema:o,schemaId:c,root:t,baseId:s})}return ju.call(this,n,a)}}ht.resolveSchema=El;const xT=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function ju(t,{baseId:e,schema:n,root:r}){var s;if(((s=t.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(const o of t.fragment.slice(1).split("/")){if(typeof n=="boolean")return;const c=n[(0,wm.unescapeFragment)(o)];if(c===void 0)return;n=c;const l=typeof n=="object"&&n[this.opts.schemaId];!xT.has(o)&&l&&(e=(0,on.resolveUrl)(this.opts.uriResolver,e,l))}let i;if(typeof n!="boolean"&&n.$ref&&!(0,wm.schemaHasRulesButRef)(n,this.RULES)){const o=(0,on.resolveUrl)(this.opts.uriResolver,e,n.$ref);i=El.call(this,r,o)}const{schemaId:a}=this.opts;if(i=i||new Sl({schema:n,schemaId:a,root:r,baseId:e}),i.schema!==i.root.schema)return i}const wT="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",_T="Meta-schema for $data reference (JSON AnySchema extension proposal)",$T="object",ST=["$data"],ET={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},RT=!1,TT={$id:wT,description:_T,type:$T,required:ST,properties:ET,additionalProperties:RT};var df={},Rl={exports:{}};const OT=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),f_=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function h_(t){let e="",n=0,r=0;for(r=0;r<t.length;r++)if(n=t[r].charCodeAt(0),n!==48){if(!(n>=48&&n<=57||n>=65&&n<=70||n>=97&&n<=102))return"";e+=t[r];break}for(r+=1;r<t.length;r++){if(n=t[r].charCodeAt(0),!(n>=48&&n<=57||n>=65&&n<=70||n>=97&&n<=102))return"";e+=t[r]}return e}const CT=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function _m(t){return t.length=0,!0}function NT(t,e,n){if(t.length){const r=h_(t);if(r!=="")e.push(r);else return n.error=!0,!1;t.length=0}return!0}function AT(t){let e=0;const n={error:!1,address:"",zone:""},r=[],s=[];let i=!1,a=!1,o=NT;for(let c=0;c<t.length;c++){const l=t[c];if(!(l==="["||l==="]"))if(l===":"){if(i===!0&&(a=!0),!o(s,r,n))break;if(++e>7){n.error=!0;break}c>0&&t[c-1]===":"&&(i=!0),r.push(":");continue}else if(l==="%"){if(!o(s,r,n))break;o=_m}else{s.push(l);continue}}return s.length&&(o===_m?n.zone=s.join(""):a?r.push(s.join("")):r.push(h_(s))),n.address=r.join(""),n}function m_(t){if(IT(t,":")<2)return{host:t,isIPV6:!1};const e=AT(t);if(e.error)return{host:t,isIPV6:!1};{let n=e.address,r=e.address;return e.zone&&(n+="%"+e.zone,r+="%25"+e.zone),{host:n,isIPV6:!0,escapedHost:r}}}function IT(t,e){let n=0;for(let r=0;r<t.length;r++)t[r]===e&&n++;return n}function PT(t){let e=t;const n=[];let r=-1,s=0;for(;s=e.length;){if(s===1){if(e===".")break;if(e==="/"){n.push("/");break}else{n.push(e);break}}else if(s===2){if(e[0]==="."){if(e[1]===".")break;if(e[1]==="/"){e=e.slice(2);continue}}else if(e[0]==="/"&&(e[1]==="."||e[1]==="/")){n.push("/");break}}else if(s===3&&e==="/.."){n.length!==0&&n.pop(),n.push("/");break}if(e[0]==="."){if(e[1]==="."){if(e[2]==="/"){e=e.slice(3);continue}}else if(e[1]==="/"){e=e.slice(2);continue}}else if(e[0]==="/"&&e[1]==="."){if(e[2]==="/"){e=e.slice(2);continue}else if(e[2]==="."&&e[3]==="/"){e=e.slice(3),n.length!==0&&n.pop();continue}}if((r=e.indexOf("/",1))===-1){n.push(e);break}else n.push(e.slice(0,r)),e=e.slice(r)}return n.join("")}function kT(t,e){const n=e!==!0?escape:unescape;return t.scheme!==void 0&&(t.scheme=n(t.scheme)),t.userinfo!==void 0&&(t.userinfo=n(t.userinfo)),t.host!==void 0&&(t.host=n(t.host)),t.path!==void 0&&(t.path=n(t.path)),t.query!==void 0&&(t.query=n(t.query)),t.fragment!==void 0&&(t.fragment=n(t.fragment)),t}function jT(t){const e=[];if(t.userinfo!==void 0&&(e.push(t.userinfo),e.push("@")),t.host!==void 0){let n=unescape(t.host);if(!f_(n)){const r=m_(n);r.isIPV6===!0?n=`[${r.escapedHost}]`:n=t.host}e.push(n)}return(typeof t.port=="number"||typeof t.port=="string")&&(e.push(":"),e.push(String(t.port))),e.length?e.join(""):void 0}var y_={nonSimpleDomain:CT,recomposeAuthority:jT,normalizeComponentEncoding:kT,removeDotSegments:PT,isIPv4:f_,isUUID:OT,normalizeIPv6:m_};const{isUUID:LT}=y_,qT=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function g_(t){return t.secure===!0?!0:t.secure===!1?!1:t.scheme?t.scheme.length===3&&(t.scheme[0]==="w"||t.scheme[0]==="W")&&(t.scheme[1]==="s"||t.scheme[1]==="S")&&(t.scheme[2]==="s"||t.scheme[2]==="S"):!1}function v_(t){return t.host||(t.error=t.error||"HTTP URIs must have a host."),t}function b_(t){const e=String(t.scheme).toLowerCase()==="https";return(t.port===(e?443:80)||t.port==="")&&(t.port=void 0),t.path||(t.path="/"),t}function MT(t){return t.secure=g_(t),t.resourceName=(t.path||"/")+(t.query?"?"+t.query:""),t.path=void 0,t.query=void 0,t}function FT(t){if((t.port===(g_(t)?443:80)||t.port==="")&&(t.port=void 0),typeof t.secure=="boolean"&&(t.scheme=t.secure?"wss":"ws",t.secure=void 0),t.resourceName){const[e,n]=t.resourceName.split("?");t.path=e&&e!=="/"?e:void 0,t.query=n,t.resourceName=void 0}return t.fragment=void 0,t}function UT(t,e){if(!t.path)return t.error="URN can not be parsed",t;const n=t.path.match(qT);if(n){const r=e.scheme||t.scheme||"urn";t.nid=n[1].toLowerCase(),t.nss=n[2];const s=`${r}:${e.nid||t.nid}`,i=ff(s);t.path=void 0,i&&(t=i.parse(t,e))}else t.error=t.error||"URN can not be parsed.";return t}function BT(t,e){if(t.nid===void 0)throw new Error("URN without nid cannot be serialized");const n=e.scheme||t.scheme||"urn",r=t.nid.toLowerCase(),s=`${n}:${e.nid||r}`,i=ff(s);i&&(t=i.serialize(t,e));const a=t,o=t.nss;return a.path=`${r||e.nid}:${o}`,e.skipEscape=!0,a}function DT(t,e){const n=t;return n.uuid=n.nss,n.nss=void 0,!e.tolerant&&(!n.uuid||!LT(n.uuid))&&(n.error=n.error||"UUID is not valid."),n}function zT(t){const e=t;return e.nss=(t.uuid||"").toLowerCase(),e}const x_={scheme:"http",domainHost:!0,parse:v_,serialize:b_},VT={scheme:"https",domainHost:x_.domainHost,parse:v_,serialize:b_},dc={scheme:"ws",domainHost:!0,parse:MT,serialize:FT},GT={scheme:"wss",domainHost:dc.domainHost,parse:dc.parse,serialize:dc.serialize},HT={scheme:"urn",parse:UT,serialize:BT,skipNormalize:!0},QT={scheme:"urn:uuid",parse:DT,serialize:zT,skipNormalize:!0},Pc={http:x_,https:VT,ws:dc,wss:GT,urn:HT,"urn:uuid":QT};Object.setPrototypeOf(Pc,null);function ff(t){return t&&(Pc[t]||Pc[t.toLowerCase()])||void 0}var WT={SCHEMES:Pc,getSchemeHandler:ff};const{normalizeIPv6:KT,removeDotSegments:_a,recomposeAuthority:JT,normalizeComponentEncoding:Lo,isIPv4:YT,nonSimpleDomain:XT}=y_,{SCHEMES:ZT,getSchemeHandler:w_}=WT;function eO(t,e){return typeof t=="string"?t=Tn(Yn(t,e),e):typeof t=="object"&&(t=Yn(Tn(t,e),e)),t}function tO(t,e,n){const r=n?Object.assign({scheme:"null"},n):{scheme:"null"},s=__(Yn(t,r),Yn(e,r),r,!0);return r.skipEscape=!0,Tn(s,r)}function __(t,e,n,r){const s={};return r||(t=Yn(Tn(t,n),n),e=Yn(Tn(e,n),n)),n=n||{},!n.tolerant&&e.scheme?(s.scheme=e.scheme,s.userinfo=e.userinfo,s.host=e.host,s.port=e.port,s.path=_a(e.path||""),s.query=e.query):(e.userinfo!==void 0||e.host!==void 0||e.port!==void 0?(s.userinfo=e.userinfo,s.host=e.host,s.port=e.port,s.path=_a(e.path||""),s.query=e.query):(e.path?(e.path[0]==="/"?s.path=_a(e.path):((t.userinfo!==void 0||t.host!==void 0||t.port!==void 0)&&!t.path?s.path="/"+e.path:t.path?s.path=t.path.slice(0,t.path.lastIndexOf("/")+1)+e.path:s.path=e.path,s.path=_a(s.path)),s.query=e.query):(s.path=t.path,e.query!==void 0?s.query=e.query:s.query=t.query),s.userinfo=t.userinfo,s.host=t.host,s.port=t.port),s.scheme=t.scheme),s.fragment=e.fragment,s}function nO(t,e,n){return typeof t=="string"?(t=unescape(t),t=Tn(Lo(Yn(t,n),!0),{...n,skipEscape:!0})):typeof t=="object"&&(t=Tn(Lo(t,!0),{...n,skipEscape:!0})),typeof e=="string"?(e=unescape(e),e=Tn(Lo(Yn(e,n),!0),{...n,skipEscape:!0})):typeof e=="object"&&(e=Tn(Lo(e,!0),{...n,skipEscape:!0})),t.toLowerCase()===e.toLowerCase()}function Tn(t,e){const n={host:t.host,scheme:t.scheme,userinfo:t.userinfo,port:t.port,path:t.path,query:t.query,nid:t.nid,nss:t.nss,uuid:t.uuid,fragment:t.fragment,reference:t.reference,resourceName:t.resourceName,secure:t.secure,error:""},r=Object.assign({},e),s=[],i=w_(r.scheme||n.scheme);i&&i.serialize&&i.serialize(n,r),n.path!==void 0&&(r.skipEscape?n.path=unescape(n.path):(n.path=escape(n.path),n.scheme!==void 0&&(n.path=n.path.split("%3A").join(":")))),r.reference!=="suffix"&&n.scheme&&s.push(n.scheme,":");const a=JT(n);if(a!==void 0&&(r.reference!=="suffix"&&s.push("//"),s.push(a),n.path&&n.path[0]!=="/"&&s.push("/")),n.path!==void 0){let o=n.path;!r.absolutePath&&(!i||!i.absolutePath)&&(o=_a(o)),a===void 0&&o[0]==="/"&&o[1]==="/"&&(o="/%2F"+o.slice(2)),s.push(o)}return n.query!==void 0&&s.push("?",n.query),n.fragment!==void 0&&s.push("#",n.fragment),s.join("")}const rO=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function Yn(t,e){const n=Object.assign({},e),r={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0};let s=!1;n.reference==="suffix"&&(n.scheme?t=n.scheme+":"+t:t="//"+t);const i=t.match(rO);if(i){if(r.scheme=i[1],r.userinfo=i[3],r.host=i[4],r.port=parseInt(i[5],10),r.path=i[6]||"",r.query=i[7],r.fragment=i[8],isNaN(r.port)&&(r.port=i[5]),r.host)if(YT(r.host)===!1){const c=KT(r.host);r.host=c.host.toLowerCase(),s=c.isIPV6}else s=!0;r.scheme===void 0&&r.userinfo===void 0&&r.host===void 0&&r.port===void 0&&r.query===void 0&&!r.path?r.reference="same-document":r.scheme===void 0?r.reference="relative":r.fragment===void 0?r.reference="absolute":r.reference="uri",n.reference&&n.reference!=="suffix"&&n.reference!==r.reference&&(r.error=r.error||"URI is not a "+n.reference+" reference.");const a=w_(n.scheme||r.scheme);if(!n.unicodeSupport&&(!a||!a.unicodeSupport)&&r.host&&(n.domainHost||a&&a.domainHost)&&s===!1&&XT(r.host))try{r.host=URL.domainToASCII(r.host.toLowerCase())}catch(o){r.error=r.error||"Host's domain name can not be converted to ASCII: "+o}(!a||a&&!a.skipNormalize)&&(t.indexOf("%")!==-1&&(r.scheme!==void 0&&(r.scheme=unescape(r.scheme)),r.host!==void 0&&(r.host=unescape(r.host))),r.path&&(r.path=escape(unescape(r.path))),r.fragment&&(r.fragment=encodeURI(decodeURIComponent(r.fragment)))),a&&a.parse&&a.parse(r,n)}else r.error=r.error||"URI can not be parsed.";return r}const hf={SCHEMES:ZT,normalize:eO,resolve:tO,resolveComponent:__,equal:nO,serialize:Tn,parse:Yn};Rl.exports=hf;Rl.exports.default=hf;Rl.exports.fastUri=hf;var sO=Rl.exports;Object.defineProperty(df,"__esModule",{value:!0});const $_=sO;$_.code='require("ajv/dist/runtime/uri").default';df.default=$_;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=Ht;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var n=ie;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=Ji,s=js,i=Ts,a=ht,o=ie,c=Ze,l=qe,u=G,p=TT,h=df,y=(I,$)=>new RegExp(I,$);y.code="new RegExp";const f=["removeAdditional","useDefaults","coerceTypes"],m=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),g={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},b={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},_=200;function S(I){var $,N,R,x,w,k,Y,Q,ge,ye,Ue,Ms,fu,hu,mu,yu,gu,vu,bu,xu,wu,_u,$u,Su,Eu;const ca=I.strict,Ru=($=I.code)===null||$===void 0?void 0:$.optimize,Zh=Ru===!0||Ru===void 0?1:Ru||0,em=(R=(N=I.code)===null||N===void 0?void 0:N.regExp)!==null&&R!==void 0?R:y,zE=(x=I.uriResolver)!==null&&x!==void 0?x:h.default;return{strictSchema:(k=(w=I.strictSchema)!==null&&w!==void 0?w:ca)!==null&&k!==void 0?k:!0,strictNumbers:(Q=(Y=I.strictNumbers)!==null&&Y!==void 0?Y:ca)!==null&&Q!==void 0?Q:!0,strictTypes:(ye=(ge=I.strictTypes)!==null&&ge!==void 0?ge:ca)!==null&&ye!==void 0?ye:"log",strictTuples:(Ms=(Ue=I.strictTuples)!==null&&Ue!==void 0?Ue:ca)!==null&&Ms!==void 0?Ms:"log",strictRequired:(hu=(fu=I.strictRequired)!==null&&fu!==void 0?fu:ca)!==null&&hu!==void 0?hu:!1,code:I.code?{...I.code,optimize:Zh,regExp:em}:{optimize:Zh,regExp:em},loopRequired:(mu=I.loopRequired)!==null&&mu!==void 0?mu:_,loopEnum:(yu=I.loopEnum)!==null&&yu!==void 0?yu:_,meta:(gu=I.meta)!==null&&gu!==void 0?gu:!0,messages:(vu=I.messages)!==null&&vu!==void 0?vu:!0,inlineRefs:(bu=I.inlineRefs)!==null&&bu!==void 0?bu:!0,schemaId:(xu=I.schemaId)!==null&&xu!==void 0?xu:"$id",addUsedSchema:(wu=I.addUsedSchema)!==null&&wu!==void 0?wu:!0,validateSchema:(_u=I.validateSchema)!==null&&_u!==void 0?_u:!0,validateFormats:($u=I.validateFormats)!==null&&$u!==void 0?$u:!0,unicodeRegExp:(Su=I.unicodeRegExp)!==null&&Su!==void 0?Su:!0,int32range:(Eu=I.int32range)!==null&&Eu!==void 0?Eu:!0,uriResolver:zE}}class C{constructor($={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,$=this.opts={...$,...S($)};const{es5:N,lines:R}=this.opts.code;this.scope=new o.ValueScope({scope:{},prefixes:m,es5:N,lines:R}),this.logger=X($.logger);const x=$.validateFormats;$.validateFormats=!1,this.RULES=(0,i.getRules)(),L.call(this,g,$,"NOT SUPPORTED"),L.call(this,b,$,"DEPRECATED","warn"),this._metaOpts=ve.call(this),$.formats&&Z.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),$.keywords&&se.call(this,$.keywords),typeof $.meta=="object"&&this.addMetaSchema($.meta),D.call(this),$.validateFormats=x}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:$,meta:N,schemaId:R}=this.opts;let x=p;R==="id"&&(x={...p},x.id=x.$id,delete x.$id),N&&$&&this.addMetaSchema(x,x[R],!1)}defaultMeta(){const{meta:$,schemaId:N}=this.opts;return this.opts.defaultMeta=typeof $=="object"?$[N]||$:void 0}validate($,N){let R;if(typeof $=="string"){if(R=this.getSchema($),!R)throw new Error(`no schema with key or ref "${$}"`)}else R=this.compile($);const x=R(N);return"$async"in R||(this.errors=R.errors),x}compile($,N){const R=this._addSchema($,N);return R.validate||this._compileSchemaEnv(R)}compileAsync($,N){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:R}=this.opts;return x.call(this,$,N);async function x(ye,Ue){await w.call(this,ye.$schema);const Ms=this._addSchema(ye,Ue);return Ms.validate||k.call(this,Ms)}async function w(ye){ye&&!this.getSchema(ye)&&await x.call(this,{$ref:ye},!0)}async function k(ye){try{return this._compileSchemaEnv(ye)}catch(Ue){if(!(Ue instanceof s.default))throw Ue;return Y.call(this,Ue),await Q.call(this,Ue.missingSchema),k.call(this,ye)}}function Y({missingSchema:ye,missingRef:Ue}){if(this.refs[ye])throw new Error(`AnySchema ${ye} is loaded but ${Ue} cannot be resolved`)}async function Q(ye){const Ue=await ge.call(this,ye);this.refs[ye]||await w.call(this,Ue.$schema),this.refs[ye]||this.addSchema(Ue,ye,N)}async function ge(ye){const Ue=this._loading[ye];if(Ue)return Ue;try{return await(this._loading[ye]=R(ye))}finally{delete this._loading[ye]}}}addSchema($,N,R,x=this.opts.validateSchema){if(Array.isArray($)){for(const k of $)this.addSchema(k,void 0,R,x);return this}let w;if(typeof $=="object"){const{schemaId:k}=this.opts;if(w=$[k],w!==void 0&&typeof w!="string")throw new Error(`schema ${k} must be string`)}return N=(0,c.normalizeId)(N||w),this._checkUnique(N),this.schemas[N]=this._addSchema($,R,N,x,!0),this}addMetaSchema($,N,R=this.opts.validateSchema){return this.addSchema($,N,!0,R),this}validateSchema($,N){if(typeof $=="boolean")return!0;let R;if(R=$.$schema,R!==void 0&&typeof R!="string")throw new Error("$schema must be a string");if(R=R||this.opts.defaultMeta||this.defaultMeta(),!R)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const x=this.validate(R,$);if(!x&&N){const w="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(w);else throw new Error(w)}return x}getSchema($){let N;for(;typeof(N=K.call(this,$))=="string";)$=N;if(N===void 0){const{schemaId:R}=this.opts,x=new a.SchemaEnv({schema:{},schemaId:R});if(N=a.resolveSchema.call(this,x,$),!N)return;this.refs[$]=N}return N.validate||this._compileSchemaEnv(N)}removeSchema($){if($ instanceof RegExp)return this._removeAllSchemas(this.schemas,$),this._removeAllSchemas(this.refs,$),this;switch(typeof $){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const N=K.call(this,$);return typeof N=="object"&&this._cache.delete(N.schema),delete this.schemas[$],delete this.refs[$],this}case"object":{const N=$;this._cache.delete(N);let R=$[this.opts.schemaId];return R&&(R=(0,c.normalizeId)(R),delete this.schemas[R],delete this.refs[R]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary($){for(const N of $)this.addKeyword(N);return this}addKeyword($,N){let R;if(typeof $=="string")R=$,typeof N=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),N.keyword=R);else if(typeof $=="object"&&N===void 0){if(N=$,R=N.keyword,Array.isArray(R)&&!R.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(A.call(this,R,N),!N)return(0,u.eachItem)(R,w=>F.call(this,w)),this;q.call(this,N);const x={...N,type:(0,l.getJSONTypes)(N.type),schemaType:(0,l.getJSONTypes)(N.schemaType)};return(0,u.eachItem)(R,x.type.length===0?w=>F.call(this,w,x):w=>x.type.forEach(k=>F.call(this,w,x,k))),this}getKeyword($){const N=this.RULES.all[$];return typeof N=="object"?N.definition:!!N}removeKeyword($){const{RULES:N}=this;delete N.keywords[$],delete N.all[$];for(const R of N.rules){const x=R.rules.findIndex(w=>w.keyword===$);x>=0&&R.rules.splice(x,1)}return this}addFormat($,N){return typeof N=="string"&&(N=new RegExp(N)),this.formats[$]=N,this}errorsText($=this.errors,{separator:N=", ",dataVar:R="data"}={}){return!$||$.length===0?"No errors":$.map(x=>`${R}${x.instancePath} ${x.message}`).reduce((x,w)=>x+N+w)}$dataMetaSchema($,N){const R=this.RULES.all;$=JSON.parse(JSON.stringify($));for(const x of N){const w=x.split("/").slice(1);let k=$;for(const Y of w)k=k[Y];for(const Y in R){const Q=R[Y];if(typeof Q!="object")continue;const{$data:ge}=Q.definition,ye=k[Y];ge&&ye&&(k[Y]=z(ye))}}return $}_removeAllSchemas($,N){for(const R in $){const x=$[R];(!N||N.test(R))&&(typeof x=="string"?delete $[R]:x&&!x.meta&&(this._cache.delete(x.schema),delete $[R]))}}_addSchema($,N,R,x=this.opts.validateSchema,w=this.opts.addUsedSchema){let k;const{schemaId:Y}=this.opts;if(typeof $=="object")k=$[Y];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof $!="boolean")throw new Error("schema must be object or boolean")}let Q=this._cache.get($);if(Q!==void 0)return Q;R=(0,c.normalizeId)(k||R);const ge=c.getSchemaRefs.call(this,$,R);return Q=new a.SchemaEnv({schema:$,schemaId:Y,meta:N,baseId:R,localRefs:ge}),this._cache.set(Q.schema,Q),w&&!R.startsWith("#")&&(R&&this._checkUnique(R),this.refs[R]=Q),x&&this.validateSchema($,!0),Q}_checkUnique($){if(this.schemas[$]||this.refs[$])throw new Error(`schema with key or id "${$}" already exists`)}_compileSchemaEnv($){if($.meta?this._compileMetaSchema($):a.compileSchema.call(this,$),!$.validate)throw new Error("ajv implementation error");return $.validate}_compileMetaSchema($){const N=this.opts;this.opts=this._metaOpts;try{a.compileSchema.call(this,$)}finally{this.opts=N}}}C.ValidationError=r.default,C.MissingRefError=s.default,t.default=C;function L(I,$,N,R="error"){for(const x in I){const w=x;w in $&&this.logger[R](`${N}: option ${x}. ${I[w]}`)}}function K(I){return I=(0,c.normalizeId)(I),this.schemas[I]||this.refs[I]}function D(){const I=this.opts.schemas;if(I)if(Array.isArray(I))this.addSchema(I);else for(const $ in I)this.addSchema(I[$],$)}function Z(){for(const I in this.opts.formats){const $=this.opts.formats[I];$&&this.addFormat(I,$)}}function se(I){if(Array.isArray(I)){this.addVocabulary(I);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const $ in I){const N=I[$];N.keyword||(N.keyword=$),this.addKeyword(N)}}function ve(){const I={...this.opts};for(const $ of f)delete I[$];return I}const J={log(){},warn(){},error(){}};function X(I){if(I===!1)return J;if(I===void 0)return console;if(I.log&&I.warn&&I.error)return I;throw new Error("logger must implement log, warn and error methods")}const ne=/^[a-z_$][a-z0-9_$:-]*$/i;function A(I,$){const{RULES:N}=this;if((0,u.eachItem)(I,R=>{if(N.keywords[R])throw new Error(`Keyword ${R} is already defined`);if(!ne.test(R))throw new Error(`Keyword ${R} has invalid name`)}),!!$&&$.$data&&!("code"in $||"validate"in $))throw new Error('$data keyword must have "code" or "validate" function')}function F(I,$,N){var R;const x=$==null?void 0:$.post;if(N&&x)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:w}=this;let k=x?w.post:w.rules.find(({type:Q})=>Q===N);if(k||(k={type:N,rules:[]},w.rules.push(k)),w.keywords[I]=!0,!$)return;const Y={keyword:I,definition:{...$,type:(0,l.getJSONTypes)($.type),schemaType:(0,l.getJSONTypes)($.schemaType)}};$.before?V.call(this,k,Y,$.before):k.rules.push(Y),w.all[I]=Y,(R=$.implements)===null||R===void 0||R.forEach(Q=>this.addKeyword(Q))}function V(I,$,N){const R=I.rules.findIndex(x=>x.keyword===N);R>=0?I.rules.splice(R,0,$):(I.rules.push($),this.logger.warn(`rule ${N} is not defined`))}function q(I){let{metaSchema:$}=I;$!==void 0&&(I.$data&&this.opts.$data&&($=z($)),I.validateSchema=this.compile($,!0))}const M={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function z(I){return{anyOf:[I,M]}}})(ef);var mf={},Tl={},yf={};Object.defineProperty(yf,"__esModule",{value:!0});const iO={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};yf.default=iO;var Xn={};Object.defineProperty(Xn,"__esModule",{value:!0});Xn.callRef=Xn.getValidate=void 0;const aO=js,$m=le,Et=ie,Bs=Ut,Sm=ht,qo=G,oO={keyword:"$ref",schemaType:"string",code(t){const{gen:e,schema:n,it:r}=t,{baseId:s,schemaEnv:i,validateName:a,opts:o,self:c}=r,{root:l}=i;if((n==="#"||n==="#/")&&s===l.baseId)return p();const u=Sm.resolveRef.call(c,l,s,n);if(u===void 0)throw new aO.default(r.opts.uriResolver,s,n);if(u instanceof Sm.SchemaEnv)return h(u);return y(u);function p(){if(i===l)return fc(t,a,i,i.$async);const f=e.scopeValue("root",{ref:l});return fc(t,(0,Et._)`${f}.validate`,l,l.$async)}function h(f){const m=S_(t,f);fc(t,m,f,f.$async)}function y(f){const m=e.scopeValue("schema",o.code.source===!0?{ref:f,code:(0,Et.stringify)(f)}:{ref:f}),g=e.name("valid"),b=t.subschema({schema:f,dataTypes:[],schemaPath:Et.nil,topSchemaRef:m,errSchemaPath:n},g);t.mergeEvaluated(b),t.ok(g)}}};function S_(t,e){const{gen:n}=t;return e.validate?n.scopeValue("validate",{ref:e.validate}):(0,Et._)`${n.scopeValue("wrapper",{ref:e})}.validate`}Xn.getValidate=S_;function fc(t,e,n,r){const{gen:s,it:i}=t,{allErrors:a,schemaEnv:o,opts:c}=i,l=c.passContext?Bs.default.this:Et.nil;r?u():p();function u(){if(!o.$async)throw new Error("async schema referenced by sync schema");const f=s.let("valid");s.try(()=>{s.code((0,Et._)`await ${(0,$m.callValidateCode)(t,e,l)}`),y(e),a||s.assign(f,!0)},m=>{s.if((0,Et._)`!(${m} instanceof ${i.ValidationError})`,()=>s.throw(m)),h(m),a||s.assign(f,!1)}),t.ok(f)}function p(){t.result((0,$m.callValidateCode)(t,e,l),()=>y(e),()=>h(e))}function h(f){const m=(0,Et._)`${f}.errors`;s.assign(Bs.default.vErrors,(0,Et._)`${Bs.default.vErrors} === null ? ${m} : ${Bs.default.vErrors}.concat(${m})`),s.assign(Bs.default.errors,(0,Et._)`${Bs.default.vErrors}.length`)}function y(f){var m;if(!i.opts.unevaluated)return;const g=(m=n==null?void 0:n.validate)===null||m===void 0?void 0:m.evaluated;if(i.props!==!0)if(g&&!g.dynamicProps)g.props!==void 0&&(i.props=qo.mergeEvaluated.props(s,g.props,i.props));else{const b=s.var("props",(0,Et._)`${f}.evaluated.props`);i.props=qo.mergeEvaluated.props(s,b,i.props,Et.Name)}if(i.items!==!0)if(g&&!g.dynamicItems)g.items!==void 0&&(i.items=qo.mergeEvaluated.items(s,g.items,i.items));else{const b=s.var("items",(0,Et._)`${f}.evaluated.items`);i.items=qo.mergeEvaluated.items(s,b,i.items,Et.Name)}}}Xn.callRef=fc;Xn.default=oO;Object.defineProperty(Tl,"__esModule",{value:!0});const cO=yf,lO=Xn,uO=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",cO.default,lO.default];Tl.default=uO;var Ol={},gf={};Object.defineProperty(gf,"__esModule",{value:!0});const kc=ie,cr=kc.operators,jc={maximum:{okStr:"<=",ok:cr.LTE,fail:cr.GT},minimum:{okStr:">=",ok:cr.GTE,fail:cr.LT},exclusiveMaximum:{okStr:"<",ok:cr.LT,fail:cr.GTE},exclusiveMinimum:{okStr:">",ok:cr.GT,fail:cr.LTE}},pO={message:({keyword:t,schemaCode:e})=>(0,kc.str)`must be ${jc[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,kc._)`{comparison: ${jc[t].okStr}, limit: ${e}}`},dO={keyword:Object.keys(jc),type:"number",schemaType:"number",$data:!0,error:pO,code(t){const{keyword:e,data:n,schemaCode:r}=t;t.fail$data((0,kc._)`${n} ${jc[e].fail} ${r} || isNaN(${n})`)}};gf.default=dO;var vf={};Object.defineProperty(vf,"__esModule",{value:!0});const ja=ie,fO={message:({schemaCode:t})=>(0,ja.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,ja._)`{multipleOf: ${t}}`},hO={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:fO,code(t){const{gen:e,data:n,schemaCode:r,it:s}=t,i=s.opts.multipleOfPrecision,a=e.let("res"),o=i?(0,ja._)`Math.abs(Math.round(${a}) - ${a}) > 1e-${i}`:(0,ja._)`${a} !== parseInt(${a})`;t.fail$data((0,ja._)`(${r} === 0 || (${a} = ${n}/${r}, ${o}))`)}};vf.default=hO;var bf={},xf={};Object.defineProperty(xf,"__esModule",{value:!0});function E_(t){const e=t.length;let n=0,r=0,s;for(;r<e;)n++,s=t.charCodeAt(r++),s>=55296&&s<=56319&&r<e&&(s=t.charCodeAt(r),(s&64512)===56320&&r++);return n}xf.default=E_;E_.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(bf,"__esModule",{value:!0});const Jr=ie,mO=G,yO=xf,gO={message({keyword:t,schemaCode:e}){const n=t==="maxLength"?"more":"fewer";return(0,Jr.str)`must NOT have ${n} than ${e} characters`},params:({schemaCode:t})=>(0,Jr._)`{limit: ${t}}`},vO={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:gO,code(t){const{keyword:e,data:n,schemaCode:r,it:s}=t,i=e==="maxLength"?Jr.operators.GT:Jr.operators.LT,a=s.opts.unicode===!1?(0,Jr._)`${n}.length`:(0,Jr._)`${(0,mO.useFunc)(t.gen,yO.default)}(${n})`;t.fail$data((0,Jr._)`${a} ${i} ${r}`)}};bf.default=vO;var wf={};Object.defineProperty(wf,"__esModule",{value:!0});const bO=le,Lc=ie,xO={message:({schemaCode:t})=>(0,Lc.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,Lc._)`{pattern: ${t}}`},wO={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:xO,code(t){const{data:e,$data:n,schema:r,schemaCode:s,it:i}=t,a=i.opts.unicodeRegExp?"u":"",o=n?(0,Lc._)`(new RegExp(${s}, ${a}))`:(0,bO.usePattern)(t,r);t.fail$data((0,Lc._)`!${o}.test(${e})`)}};wf.default=wO;var _f={};Object.defineProperty(_f,"__esModule",{value:!0});const La=ie,_O={message({keyword:t,schemaCode:e}){const n=t==="maxProperties"?"more":"fewer";return(0,La.str)`must NOT have ${n} than ${e} properties`},params:({schemaCode:t})=>(0,La._)`{limit: ${t}}`},$O={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:_O,code(t){const{keyword:e,data:n,schemaCode:r}=t,s=e==="maxProperties"?La.operators.GT:La.operators.LT;t.fail$data((0,La._)`Object.keys(${n}).length ${s} ${r}`)}};_f.default=$O;var $f={};Object.defineProperty($f,"__esModule",{value:!0});const ua=le,qa=ie,SO=G,EO={message:({params:{missingProperty:t}})=>(0,qa.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,qa._)`{missingProperty: ${t}}`},RO={keyword:"required",type:"object",schemaType:"array",$data:!0,error:EO,code(t){const{gen:e,schema:n,schemaCode:r,data:s,$data:i,it:a}=t,{opts:o}=a;if(!i&&n.length===0)return;const c=n.length>=o.loopRequired;if(a.allErrors?l():u(),o.strictRequired){const y=t.parentSchema.properties,{definedProperties:f}=t.it;for(const m of n)if((y==null?void 0:y[m])===void 0&&!f.has(m)){const g=a.schemaEnv.baseId+a.errSchemaPath,b=`required property "${m}" is not defined at "${g}" (strictRequired)`;(0,SO.checkStrictMode)(a,b,a.opts.strictRequired)}}function l(){if(c||i)t.block$data(qa.nil,p);else for(const y of n)(0,ua.checkReportMissingProp)(t,y)}function u(){const y=e.let("missing");if(c||i){const f=e.let("valid",!0);t.block$data(f,()=>h(y,f)),t.ok(f)}else e.if((0,ua.checkMissingProp)(t,n,y)),(0,ua.reportMissingProp)(t,y),e.else()}function p(){e.forOf("prop",r,y=>{t.setParams({missingProperty:y}),e.if((0,ua.noPropertyInData)(e,s,y,o.ownProperties),()=>t.error())})}function h(y,f){t.setParams({missingProperty:y}),e.forOf(y,r,()=>{e.assign(f,(0,ua.propertyInData)(e,s,y,o.ownProperties)),e.if((0,qa.not)(f),()=>{t.error(),e.break()})},qa.nil)}}};$f.default=RO;var Sf={};Object.defineProperty(Sf,"__esModule",{value:!0});const Ma=ie,TO={message({keyword:t,schemaCode:e}){const n=t==="maxItems"?"more":"fewer";return(0,Ma.str)`must NOT have ${n} than ${e} items`},params:({schemaCode:t})=>(0,Ma._)`{limit: ${t}}`},OO={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:TO,code(t){const{keyword:e,data:n,schemaCode:r}=t,s=e==="maxItems"?Ma.operators.GT:Ma.operators.LT;t.fail$data((0,Ma._)`${n}.length ${s} ${r}`)}};Sf.default=OO;var Ef={},fo={};Object.defineProperty(fo,"__esModule",{value:!0});const R_=Jw;R_.code='require("ajv/dist/runtime/equal").default';fo.default=R_;Object.defineProperty(Ef,"__esModule",{value:!0});const Lu=qe,Je=ie,CO=G,NO=fo,AO={message:({params:{i:t,j:e}})=>(0,Je.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,Je._)`{i: ${t}, j: ${e}}`},IO={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:AO,code(t){const{gen:e,data:n,$data:r,schema:s,parentSchema:i,schemaCode:a,it:o}=t;if(!r&&!s)return;const c=e.let("valid"),l=i.items?(0,Lu.getSchemaTypes)(i.items):[];t.block$data(c,u,(0,Je._)`${a} === false`),t.ok(c);function u(){const f=e.let("i",(0,Je._)`${n}.length`),m=e.let("j");t.setParams({i:f,j:m}),e.assign(c,!0),e.if((0,Je._)`${f} > 1`,()=>(p()?h:y)(f,m))}function p(){return l.length>0&&!l.some(f=>f==="object"||f==="array")}function h(f,m){const g=e.name("item"),b=(0,Lu.checkDataTypes)(l,g,o.opts.strictNumbers,Lu.DataType.Wrong),_=e.const("indices",(0,Je._)`{}`);e.for((0,Je._)`;${f}--;`,()=>{e.let(g,(0,Je._)`${n}[${f}]`),e.if(b,(0,Je._)`continue`),l.length>1&&e.if((0,Je._)`typeof ${g} == "string"`,(0,Je._)`${g} += "_"`),e.if((0,Je._)`typeof ${_}[${g}] == "number"`,()=>{e.assign(m,(0,Je._)`${_}[${g}]`),t.error(),e.assign(c,!1).break()}).code((0,Je._)`${_}[${g}] = ${f}`)})}function y(f,m){const g=(0,CO.useFunc)(e,NO.default),b=e.name("outer");e.label(b).for((0,Je._)`;${f}--;`,()=>e.for((0,Je._)`${m} = ${f}; ${m}--;`,()=>e.if((0,Je._)`${g}(${n}[${f}], ${n}[${m}])`,()=>{t.error(),e.assign(c,!1).break(b)})))}}};Ef.default=IO;var Rf={};Object.defineProperty(Rf,"__esModule",{value:!0});const Vp=ie,PO=G,kO=fo,jO={message:"must be equal to constant",params:({schemaCode:t})=>(0,Vp._)`{allowedValue: ${t}}`},LO={keyword:"const",$data:!0,error:jO,code(t){const{gen:e,data:n,$data:r,schemaCode:s,schema:i}=t;r||i&&typeof i=="object"?t.fail$data((0,Vp._)`!${(0,PO.useFunc)(e,kO.default)}(${n}, ${s})`):t.fail((0,Vp._)`${i} !== ${n}`)}};Rf.default=LO;var Tf={};Object.defineProperty(Tf,"__esModule",{value:!0});const $a=ie,qO=G,MO=fo,FO={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,$a._)`{allowedValues: ${t}}`},UO={keyword:"enum",schemaType:"array",$data:!0,error:FO,code(t){const{gen:e,data:n,$data:r,schema:s,schemaCode:i,it:a}=t;if(!r&&s.length===0)throw new Error("enum must have non-empty array");const o=s.length>=a.opts.loopEnum;let c;const l=()=>c??(c=(0,qO.useFunc)(e,MO.default));let u;if(o||r)u=e.let("valid"),t.block$data(u,p);else{if(!Array.isArray(s))throw new Error("ajv implementation error");const y=e.const("vSchema",i);u=(0,$a.or)(...s.map((f,m)=>h(y,m)))}t.pass(u);function p(){e.assign(u,!1),e.forOf("v",i,y=>e.if((0,$a._)`${l()}(${n}, ${y})`,()=>e.assign(u,!0).break()))}function h(y,f){const m=s[f];return typeof m=="object"&&m!==null?(0,$a._)`${l()}(${n}, ${y}[${f}])`:(0,$a._)`${n} === ${m}`}}};Tf.default=UO;Object.defineProperty(Ol,"__esModule",{value:!0});const BO=gf,DO=vf,zO=bf,VO=wf,GO=_f,HO=$f,QO=Sf,WO=Ef,KO=Rf,JO=Tf,YO=[BO.default,DO.default,zO.default,VO.default,GO.default,HO.default,QO.default,WO.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},KO.default,JO.default];Ol.default=YO;var Cl={},Yi={};Object.defineProperty(Yi,"__esModule",{value:!0});Yi.validateAdditionalItems=void 0;const Yr=ie,Gp=G,XO={message:({params:{len:t}})=>(0,Yr.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Yr._)`{limit: ${t}}`},ZO={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:XO,code(t){const{parentSchema:e,it:n}=t,{items:r}=e;if(!Array.isArray(r)){(0,Gp.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas');return}T_(t,r)}};function T_(t,e){const{gen:n,schema:r,data:s,keyword:i,it:a}=t;a.items=!0;const o=n.const("len",(0,Yr._)`${s}.length`);if(r===!1)t.setParams({len:e.length}),t.pass((0,Yr._)`${o} <= ${e.length}`);else if(typeof r=="object"&&!(0,Gp.alwaysValidSchema)(a,r)){const l=n.var("valid",(0,Yr._)`${o} <= ${e.length}`);n.if((0,Yr.not)(l),()=>c(l)),t.ok(l)}function c(l){n.forRange("i",e.length,o,u=>{t.subschema({keyword:i,dataProp:u,dataPropType:Gp.Type.Num},l),a.allErrors||n.if((0,Yr.not)(l),()=>n.break())})}}Yi.validateAdditionalItems=T_;Yi.default=ZO;var Of={},Xi={};Object.defineProperty(Xi,"__esModule",{value:!0});Xi.validateTuple=void 0;const Em=ie,hc=G,eC=le,tC={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){const{schema:e,it:n}=t;if(Array.isArray(e))return O_(t,"additionalItems",e);n.items=!0,!(0,hc.alwaysValidSchema)(n,e)&&t.ok((0,eC.validateArray)(t))}};function O_(t,e,n=t.schema){const{gen:r,parentSchema:s,data:i,keyword:a,it:o}=t;u(s),o.opts.unevaluated&&n.length&&o.items!==!0&&(o.items=hc.mergeEvaluated.items(r,n.length,o.items));const c=r.name("valid"),l=r.const("len",(0,Em._)`${i}.length`);n.forEach((p,h)=>{(0,hc.alwaysValidSchema)(o,p)||(r.if((0,Em._)`${l} > ${h}`,()=>t.subschema({keyword:a,schemaProp:h,dataProp:h},c)),t.ok(c))});function u(p){const{opts:h,errSchemaPath:y}=o,f=n.length,m=f===p.minItems&&(f===p.maxItems||p[e]===!1);if(h.strictTuples&&!m){const g=`"${a}" is ${f}-tuple, but minItems or maxItems/${e} are not specified or different at path "${y}"`;(0,hc.checkStrictMode)(o,g,h.strictTuples)}}}Xi.validateTuple=O_;Xi.default=tC;Object.defineProperty(Of,"__esModule",{value:!0});const nC=Xi,rC={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,nC.validateTuple)(t,"items")};Of.default=rC;var Cf={};Object.defineProperty(Cf,"__esModule",{value:!0});const Rm=ie,sC=G,iC=le,aC=Yi,oC={message:({params:{len:t}})=>(0,Rm.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Rm._)`{limit: ${t}}`},cC={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:oC,code(t){const{schema:e,parentSchema:n,it:r}=t,{prefixItems:s}=n;r.items=!0,!(0,sC.alwaysValidSchema)(r,e)&&(s?(0,aC.validateAdditionalItems)(t,s):t.ok((0,iC.validateArray)(t)))}};Cf.default=cC;var Nf={};Object.defineProperty(Nf,"__esModule",{value:!0});const Gt=ie,Mo=G,lC={message:({params:{min:t,max:e}})=>e===void 0?(0,Gt.str)`must contain at least ${t} valid item(s)`:(0,Gt.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,Gt._)`{minContains: ${t}}`:(0,Gt._)`{minContains: ${t}, maxContains: ${e}}`},uC={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:lC,code(t){const{gen:e,schema:n,parentSchema:r,data:s,it:i}=t;let a,o;const{minContains:c,maxContains:l}=r;i.opts.next?(a=c===void 0?1:c,o=l):a=1;const u=e.const("len",(0,Gt._)`${s}.length`);if(t.setParams({min:a,max:o}),o===void 0&&a===0){(0,Mo.checkStrictMode)(i,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(o!==void 0&&a>o){(0,Mo.checkStrictMode)(i,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,Mo.alwaysValidSchema)(i,n)){let m=(0,Gt._)`${u} >= ${a}`;o!==void 0&&(m=(0,Gt._)`${m} && ${u} <= ${o}`),t.pass(m);return}i.items=!0;const p=e.name("valid");o===void 0&&a===1?y(p,()=>e.if(p,()=>e.break())):a===0?(e.let(p,!0),o!==void 0&&e.if((0,Gt._)`${s}.length > 0`,h)):(e.let(p,!1),h()),t.result(p,()=>t.reset());function h(){const m=e.name("_valid"),g=e.let("count",0);y(m,()=>e.if(m,()=>f(g)))}function y(m,g){e.forRange("i",0,u,b=>{t.subschema({keyword:"contains",dataProp:b,dataPropType:Mo.Type.Num,compositeRule:!0},m),g()})}function f(m){e.code((0,Gt._)`${m}++`),o===void 0?e.if((0,Gt._)`${m} >= ${a}`,()=>e.assign(p,!0).break()):(e.if((0,Gt._)`${m} > ${o}`,()=>e.assign(p,!1).break()),a===1?e.assign(p,!0):e.if((0,Gt._)`${m} >= ${a}`,()=>e.assign(p,!0)))}}};Nf.default=uC;var Nl={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const e=ie,n=G,r=le;t.error={message:({params:{property:c,depsCount:l,deps:u}})=>{const p=l===1?"property":"properties";return(0,e.str)`must have ${p} ${u} when property ${c} is present`},params:({params:{property:c,depsCount:l,deps:u,missingProperty:p}})=>(0,e._)`{property: ${c},
    missingProperty: ${p},
    depsCount: ${l},
    deps: ${u}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(c){const[l,u]=i(c);a(c,l),o(c,u)}};function i({schema:c}){const l={},u={};for(const p in c){if(p==="__proto__")continue;const h=Array.isArray(c[p])?l:u;h[p]=c[p]}return[l,u]}function a(c,l=c.schema){const{gen:u,data:p,it:h}=c;if(Object.keys(l).length===0)return;const y=u.let("missing");for(const f in l){const m=l[f];if(m.length===0)continue;const g=(0,r.propertyInData)(u,p,f,h.opts.ownProperties);c.setParams({property:f,depsCount:m.length,deps:m.join(", ")}),h.allErrors?u.if(g,()=>{for(const b of m)(0,r.checkReportMissingProp)(c,b)}):(u.if((0,e._)`${g} && (${(0,r.checkMissingProp)(c,m,y)})`),(0,r.reportMissingProp)(c,y),u.else())}}t.validatePropertyDeps=a;function o(c,l=c.schema){const{gen:u,data:p,keyword:h,it:y}=c,f=u.name("valid");for(const m in l)(0,n.alwaysValidSchema)(y,l[m])||(u.if((0,r.propertyInData)(u,p,m,y.opts.ownProperties),()=>{const g=c.subschema({keyword:h,schemaProp:m},f);c.mergeValidEvaluated(g,f)},()=>u.var(f,!0)),c.ok(f))}t.validateSchemaDeps=o,t.default=s})(Nl);var Af={};Object.defineProperty(Af,"__esModule",{value:!0});const C_=ie,pC=G,dC={message:"property name must be valid",params:({params:t})=>(0,C_._)`{propertyName: ${t.propertyName}}`},fC={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:dC,code(t){const{gen:e,schema:n,data:r,it:s}=t;if((0,pC.alwaysValidSchema)(s,n))return;const i=e.name("valid");e.forIn("key",r,a=>{t.setParams({propertyName:a}),t.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},i),e.if((0,C_.not)(i),()=>{t.error(!0),s.allErrors||e.break()})}),t.ok(i)}};Af.default=fC;var Al={};Object.defineProperty(Al,"__esModule",{value:!0});const Fo=le,Yt=ie,hC=Ut,Uo=G,mC={message:"must NOT have additional properties",params:({params:t})=>(0,Yt._)`{additionalProperty: ${t.additionalProperty}}`},yC={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:mC,code(t){const{gen:e,schema:n,parentSchema:r,data:s,errsCount:i,it:a}=t;if(!i)throw new Error("ajv implementation error");const{allErrors:o,opts:c}=a;if(a.props=!0,c.removeAdditional!=="all"&&(0,Uo.alwaysValidSchema)(a,n))return;const l=(0,Fo.allSchemaProperties)(r.properties),u=(0,Fo.allSchemaProperties)(r.patternProperties);p(),t.ok((0,Yt._)`${i} === ${hC.default.errors}`);function p(){e.forIn("key",s,g=>{!l.length&&!u.length?f(g):e.if(h(g),()=>f(g))})}function h(g){let b;if(l.length>8){const _=(0,Uo.schemaRefOrVal)(a,r.properties,"properties");b=(0,Fo.isOwnProperty)(e,_,g)}else l.length?b=(0,Yt.or)(...l.map(_=>(0,Yt._)`${g} === ${_}`)):b=Yt.nil;return u.length&&(b=(0,Yt.or)(b,...u.map(_=>(0,Yt._)`${(0,Fo.usePattern)(t,_)}.test(${g})`))),(0,Yt.not)(b)}function y(g){e.code((0,Yt._)`delete ${s}[${g}]`)}function f(g){if(c.removeAdditional==="all"||c.removeAdditional&&n===!1){y(g);return}if(n===!1){t.setParams({additionalProperty:g}),t.error(),o||e.break();return}if(typeof n=="object"&&!(0,Uo.alwaysValidSchema)(a,n)){const b=e.name("valid");c.removeAdditional==="failing"?(m(g,b,!1),e.if((0,Yt.not)(b),()=>{t.reset(),y(g)})):(m(g,b),o||e.if((0,Yt.not)(b),()=>e.break()))}}function m(g,b,_){const S={keyword:"additionalProperties",dataProp:g,dataPropType:Uo.Type.Str};_===!1&&Object.assign(S,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(S,b)}}};Al.default=yC;var If={};Object.defineProperty(If,"__esModule",{value:!0});const gC=Ht,Tm=le,qu=G,Om=Al,vC={keyword:"properties",type:"object",schemaType:"object",code(t){const{gen:e,schema:n,parentSchema:r,data:s,it:i}=t;i.opts.removeAdditional==="all"&&r.additionalProperties===void 0&&Om.default.code(new gC.KeywordCxt(i,Om.default,"additionalProperties"));const a=(0,Tm.allSchemaProperties)(n);for(const p of a)i.definedProperties.add(p);i.opts.unevaluated&&a.length&&i.props!==!0&&(i.props=qu.mergeEvaluated.props(e,(0,qu.toHash)(a),i.props));const o=a.filter(p=>!(0,qu.alwaysValidSchema)(i,n[p]));if(o.length===0)return;const c=e.name("valid");for(const p of o)l(p)?u(p):(e.if((0,Tm.propertyInData)(e,s,p,i.opts.ownProperties)),u(p),i.allErrors||e.else().var(c,!0),e.endIf()),t.it.definedProperties.add(p),t.ok(c);function l(p){return i.opts.useDefaults&&!i.compositeRule&&n[p].default!==void 0}function u(p){t.subschema({keyword:"properties",schemaProp:p,dataProp:p},c)}}};If.default=vC;var Pf={};Object.defineProperty(Pf,"__esModule",{value:!0});const Cm=le,Bo=ie,Nm=G,Am=G,bC={keyword:"patternProperties",type:"object",schemaType:"object",code(t){const{gen:e,schema:n,data:r,parentSchema:s,it:i}=t,{opts:a}=i,o=(0,Cm.allSchemaProperties)(n),c=o.filter(m=>(0,Nm.alwaysValidSchema)(i,n[m]));if(o.length===0||c.length===o.length&&(!i.opts.unevaluated||i.props===!0))return;const l=a.strictSchema&&!a.allowMatchingProperties&&s.properties,u=e.name("valid");i.props!==!0&&!(i.props instanceof Bo.Name)&&(i.props=(0,Am.evaluatedPropsToName)(e,i.props));const{props:p}=i;h();function h(){for(const m of o)l&&y(m),i.allErrors?f(m):(e.var(u,!0),f(m),e.if(u))}function y(m){for(const g in l)new RegExp(m).test(g)&&(0,Nm.checkStrictMode)(i,`property ${g} matches pattern ${m} (use allowMatchingProperties)`)}function f(m){e.forIn("key",r,g=>{e.if((0,Bo._)`${(0,Cm.usePattern)(t,m)}.test(${g})`,()=>{const b=c.includes(m);b||t.subschema({keyword:"patternProperties",schemaProp:m,dataProp:g,dataPropType:Am.Type.Str},u),i.opts.unevaluated&&p!==!0?e.assign((0,Bo._)`${p}[${g}]`,!0):!b&&!i.allErrors&&e.if((0,Bo.not)(u),()=>e.break())})})}}};Pf.default=bC;var kf={};Object.defineProperty(kf,"__esModule",{value:!0});const xC=G,wC={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){const{gen:e,schema:n,it:r}=t;if((0,xC.alwaysValidSchema)(r,n)){t.fail();return}const s=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),t.failResult(s,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};kf.default=wC;var jf={};Object.defineProperty(jf,"__esModule",{value:!0});const _C=le,$C={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:_C.validateUnion,error:{message:"must match a schema in anyOf"}};jf.default=$C;var Lf={};Object.defineProperty(Lf,"__esModule",{value:!0});const mc=ie,SC=G,EC={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,mc._)`{passingSchemas: ${t.passing}}`},RC={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:EC,code(t){const{gen:e,schema:n,parentSchema:r,it:s}=t;if(!Array.isArray(n))throw new Error("ajv implementation error");if(s.opts.discriminator&&r.discriminator)return;const i=n,a=e.let("valid",!1),o=e.let("passing",null),c=e.name("_valid");t.setParams({passing:o}),e.block(l),t.result(a,()=>t.reset(),()=>t.error(!0));function l(){i.forEach((u,p)=>{let h;(0,SC.alwaysValidSchema)(s,u)?e.var(c,!0):h=t.subschema({keyword:"oneOf",schemaProp:p,compositeRule:!0},c),p>0&&e.if((0,mc._)`${c} && ${a}`).assign(a,!1).assign(o,(0,mc._)`[${o}, ${p}]`).else(),e.if(c,()=>{e.assign(a,!0),e.assign(o,p),h&&t.mergeEvaluated(h,mc.Name)})})}}};Lf.default=RC;var qf={};Object.defineProperty(qf,"__esModule",{value:!0});const TC=G,OC={keyword:"allOf",schemaType:"array",code(t){const{gen:e,schema:n,it:r}=t;if(!Array.isArray(n))throw new Error("ajv implementation error");const s=e.name("valid");n.forEach((i,a)=>{if((0,TC.alwaysValidSchema)(r,i))return;const o=t.subschema({keyword:"allOf",schemaProp:a},s);t.ok(s),t.mergeEvaluated(o)})}};qf.default=OC;var Mf={};Object.defineProperty(Mf,"__esModule",{value:!0});const qc=ie,N_=G,CC={message:({params:t})=>(0,qc.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,qc._)`{failingKeyword: ${t.ifClause}}`},NC={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:CC,code(t){const{gen:e,parentSchema:n,it:r}=t;n.then===void 0&&n.else===void 0&&(0,N_.checkStrictMode)(r,'"if" without "then" and "else" is ignored');const s=Im(r,"then"),i=Im(r,"else");if(!s&&!i)return;const a=e.let("valid",!0),o=e.name("_valid");if(c(),t.reset(),s&&i){const u=e.let("ifClause");t.setParams({ifClause:u}),e.if(o,l("then",u),l("else",u))}else s?e.if(o,l("then")):e.if((0,qc.not)(o),l("else"));t.pass(a,()=>t.error(!0));function c(){const u=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},o);t.mergeEvaluated(u)}function l(u,p){return()=>{const h=t.subschema({keyword:u},o);e.assign(a,o),t.mergeValidEvaluated(h,a),p?e.assign(p,(0,qc._)`${u}`):t.setParams({ifClause:u})}}}};function Im(t,e){const n=t.schema[e];return n!==void 0&&!(0,N_.alwaysValidSchema)(t,n)}Mf.default=NC;var Ff={};Object.defineProperty(Ff,"__esModule",{value:!0});const AC=G,IC={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:n}){e.if===void 0&&(0,AC.checkStrictMode)(n,`"${t}" without "if" is ignored`)}};Ff.default=IC;Object.defineProperty(Cl,"__esModule",{value:!0});const PC=Yi,kC=Of,jC=Xi,LC=Cf,qC=Nf,MC=Nl,FC=Af,UC=Al,BC=If,DC=Pf,zC=kf,VC=jf,GC=Lf,HC=qf,QC=Mf,WC=Ff;function KC(t=!1){const e=[zC.default,VC.default,GC.default,HC.default,QC.default,WC.default,FC.default,UC.default,MC.default,BC.default,DC.default];return t?e.push(kC.default,LC.default):e.push(PC.default,jC.default),e.push(qC.default),e}Cl.default=KC;var Uf={},Zi={};Object.defineProperty(Zi,"__esModule",{value:!0});Zi.dynamicAnchor=void 0;const Mu=ie,JC=Ut,Pm=ht,YC=Xn,XC={keyword:"$dynamicAnchor",schemaType:"string",code:t=>A_(t,t.schema)};function A_(t,e){const{gen:n,it:r}=t;r.schemaEnv.root.dynamicAnchors[e]=!0;const s=(0,Mu._)`${JC.default.dynamicAnchors}${(0,Mu.getProperty)(e)}`,i=r.errSchemaPath==="#"?r.validateName:ZC(t);n.if((0,Mu._)`!${s}`,()=>n.assign(s,i))}Zi.dynamicAnchor=A_;function ZC(t){const{schemaEnv:e,schema:n,self:r}=t.it,{root:s,baseId:i,localRefs:a,meta:o}=e.root,{schemaId:c}=r.opts,l=new Pm.SchemaEnv({schema:n,schemaId:c,root:s,baseId:i,localRefs:a,meta:o});return Pm.compileSchema.call(r,l),(0,YC.getValidate)(t,l)}Zi.default=XC;var ea={};Object.defineProperty(ea,"__esModule",{value:!0});ea.dynamicRef=void 0;const km=ie,eN=Ut,jm=Xn,tN={keyword:"$dynamicRef",schemaType:"string",code:t=>I_(t,t.schema)};function I_(t,e){const{gen:n,keyword:r,it:s}=t;if(e[0]!=="#")throw new Error(`"${r}" only supports hash fragment reference`);const i=e.slice(1);if(s.allErrors)a();else{const c=n.let("valid",!1);a(c),t.ok(c)}function a(c){if(s.schemaEnv.root.dynamicAnchors[i]){const l=n.let("_v",(0,km._)`${eN.default.dynamicAnchors}${(0,km.getProperty)(i)}`);n.if(l,o(l,c),o(s.validateName,c))}else o(s.validateName,c)()}function o(c,l){return l?()=>n.block(()=>{(0,jm.callRef)(t,c),n.let(l,!0)}):()=>(0,jm.callRef)(t,c)}}ea.dynamicRef=I_;ea.default=tN;var Bf={};Object.defineProperty(Bf,"__esModule",{value:!0});const nN=Zi,rN=G,sN={keyword:"$recursiveAnchor",schemaType:"boolean",code(t){t.schema?(0,nN.dynamicAnchor)(t,""):(0,rN.checkStrictMode)(t.it,"$recursiveAnchor: false is ignored")}};Bf.default=sN;var Df={};Object.defineProperty(Df,"__esModule",{value:!0});const iN=ea,aN={keyword:"$recursiveRef",schemaType:"string",code:t=>(0,iN.dynamicRef)(t,t.schema)};Df.default=aN;Object.defineProperty(Uf,"__esModule",{value:!0});const oN=Zi,cN=ea,lN=Bf,uN=Df,pN=[oN.default,cN.default,lN.default,uN.default];Uf.default=pN;var zf={},Vf={};Object.defineProperty(Vf,"__esModule",{value:!0});const Lm=Nl,dN={keyword:"dependentRequired",type:"object",schemaType:"object",error:Lm.error,code:t=>(0,Lm.validatePropertyDeps)(t)};Vf.default=dN;var Gf={};Object.defineProperty(Gf,"__esModule",{value:!0});const fN=Nl,hN={keyword:"dependentSchemas",type:"object",schemaType:"object",code:t=>(0,fN.validateSchemaDeps)(t)};Gf.default=hN;var Hf={};Object.defineProperty(Hf,"__esModule",{value:!0});const mN=G,yN={keyword:["maxContains","minContains"],type:"array",schemaType:"number",code({keyword:t,parentSchema:e,it:n}){e.contains===void 0&&(0,mN.checkStrictMode)(n,`"${t}" without "contains" is ignored`)}};Hf.default=yN;Object.defineProperty(zf,"__esModule",{value:!0});const gN=Vf,vN=Gf,bN=Hf,xN=[gN.default,vN.default,bN.default];zf.default=xN;var Qf={},Wf={};Object.defineProperty(Wf,"__esModule",{value:!0});const pr=ie,qm=G,wN=Ut,_N={message:"must NOT have unevaluated properties",params:({params:t})=>(0,pr._)`{unevaluatedProperty: ${t.unevaluatedProperty}}`},$N={keyword:"unevaluatedProperties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:_N,code(t){const{gen:e,schema:n,data:r,errsCount:s,it:i}=t;if(!s)throw new Error("ajv implementation error");const{allErrors:a,props:o}=i;o instanceof pr.Name?e.if((0,pr._)`${o} !== true`,()=>e.forIn("key",r,p=>e.if(l(o,p),()=>c(p)))):o!==!0&&e.forIn("key",r,p=>o===void 0?c(p):e.if(u(o,p),()=>c(p))),i.props=!0,t.ok((0,pr._)`${s} === ${wN.default.errors}`);function c(p){if(n===!1){t.setParams({unevaluatedProperty:p}),t.error(),a||e.break();return}if(!(0,qm.alwaysValidSchema)(i,n)){const h=e.name("valid");t.subschema({keyword:"unevaluatedProperties",dataProp:p,dataPropType:qm.Type.Str},h),a||e.if((0,pr.not)(h),()=>e.break())}}function l(p,h){return(0,pr._)`!${p} || !${p}[${h}]`}function u(p,h){const y=[];for(const f in p)p[f]===!0&&y.push((0,pr._)`${h} !== ${f}`);return(0,pr.and)(...y)}}};Wf.default=$N;var Kf={};Object.defineProperty(Kf,"__esModule",{value:!0});const Xr=ie,Mm=G,SN={message:({params:{len:t}})=>(0,Xr.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Xr._)`{limit: ${t}}`},EN={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:SN,code(t){const{gen:e,schema:n,data:r,it:s}=t,i=s.items||0;if(i===!0)return;const a=e.const("len",(0,Xr._)`${r}.length`);if(n===!1)t.setParams({len:i}),t.fail((0,Xr._)`${a} > ${i}`);else if(typeof n=="object"&&!(0,Mm.alwaysValidSchema)(s,n)){const c=e.var("valid",(0,Xr._)`${a} <= ${i}`);e.if((0,Xr.not)(c),()=>o(c,i)),t.ok(c)}s.items=!0;function o(c,l){e.forRange("i",l,a,u=>{t.subschema({keyword:"unevaluatedItems",dataProp:u,dataPropType:Mm.Type.Num},c),s.allErrors||e.if((0,Xr.not)(c),()=>e.break())})}}};Kf.default=EN;Object.defineProperty(Qf,"__esModule",{value:!0});const RN=Wf,TN=Kf,ON=[RN.default,TN.default];Qf.default=ON;var Il={},Jf={};Object.defineProperty(Jf,"__esModule",{value:!0});const Te=ie,CN={message:({schemaCode:t})=>(0,Te.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,Te._)`{format: ${t}}`},NN={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:CN,code(t,e){const{gen:n,data:r,$data:s,schema:i,schemaCode:a,it:o}=t,{opts:c,errSchemaPath:l,schemaEnv:u,self:p}=o;if(!c.validateFormats)return;s?h():y();function h(){const f=n.scopeValue("formats",{ref:p.formats,code:c.code.formats}),m=n.const("fDef",(0,Te._)`${f}[${a}]`),g=n.let("fType"),b=n.let("format");n.if((0,Te._)`typeof ${m} == "object" && !(${m} instanceof RegExp)`,()=>n.assign(g,(0,Te._)`${m}.type || "string"`).assign(b,(0,Te._)`${m}.validate`),()=>n.assign(g,(0,Te._)`"string"`).assign(b,m)),t.fail$data((0,Te.or)(_(),S()));function _(){return c.strictSchema===!1?Te.nil:(0,Te._)`${a} && !${b}`}function S(){const C=u.$async?(0,Te._)`(${m}.async ? await ${b}(${r}) : ${b}(${r}))`:(0,Te._)`${b}(${r})`,L=(0,Te._)`(typeof ${b} == "function" ? ${C} : ${b}.test(${r}))`;return(0,Te._)`${b} && ${b} !== true && ${g} === ${e} && !${L}`}}function y(){const f=p.formats[i];if(!f){_();return}if(f===!0)return;const[m,g,b]=S(f);m===e&&t.pass(C());function _(){if(c.strictSchema===!1){p.logger.warn(L());return}throw new Error(L());function L(){return`unknown format "${i}" ignored in schema at path "${l}"`}}function S(L){const K=L instanceof RegExp?(0,Te.regexpCode)(L):c.code.formats?(0,Te._)`${c.code.formats}${(0,Te.getProperty)(i)}`:void 0,D=n.scopeValue("formats",{key:i,ref:L,code:K});return typeof L=="object"&&!(L instanceof RegExp)?[L.type||"string",L.validate,(0,Te._)`${D}.validate`]:["string",L,D]}function C(){if(typeof f=="object"&&!(f instanceof RegExp)&&f.async){if(!u.$async)throw new Error("async format in sync schema");return(0,Te._)`await ${b}(${r})`}return typeof g=="function"?(0,Te._)`${b}(${r})`:(0,Te._)`${b}.test(${r})`}}}};Jf.default=NN;Object.defineProperty(Il,"__esModule",{value:!0});const AN=Jf,IN=[AN.default];Il.default=IN;var Os={};Object.defineProperty(Os,"__esModule",{value:!0});Os.contentVocabulary=Os.metadataVocabulary=void 0;Os.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Os.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(mf,"__esModule",{value:!0});const PN=Tl,kN=Ol,jN=Cl,LN=Uf,qN=zf,MN=Qf,FN=Il,Fm=Os,UN=[LN.default,PN.default,kN.default,(0,jN.default)(!0),FN.default,Fm.metadataVocabulary,Fm.contentVocabulary,qN.default,MN.default];mf.default=UN;var Pl={},kl={};Object.defineProperty(kl,"__esModule",{value:!0});kl.DiscrError=void 0;var Um;(function(t){t.Tag="tag",t.Mapping="mapping"})(Um||(kl.DiscrError=Um={}));Object.defineProperty(Pl,"__esModule",{value:!0});const Ws=ie,Hp=kl,Bm=ht,BN=js,DN=G,zN={message:({params:{discrError:t,tagName:e}})=>t===Hp.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:n}})=>(0,Ws._)`{error: ${t}, tag: ${n}, tagValue: ${e}}`},VN={keyword:"discriminator",type:"object",schemaType:"object",error:zN,code(t){const{gen:e,data:n,schema:r,parentSchema:s,it:i}=t,{oneOf:a}=s;if(!i.opts.discriminator)throw new Error("discriminator: requires discriminator option");const o=r.propertyName;if(typeof o!="string")throw new Error("discriminator: requires propertyName");if(r.mapping)throw new Error("discriminator: mapping is not supported");if(!a)throw new Error("discriminator: requires oneOf keyword");const c=e.let("valid",!1),l=e.const("tag",(0,Ws._)`${n}${(0,Ws.getProperty)(o)}`);e.if((0,Ws._)`typeof ${l} == "string"`,()=>u(),()=>t.error(!1,{discrError:Hp.DiscrError.Tag,tag:l,tagName:o})),t.ok(c);function u(){const y=h();e.if(!1);for(const f in y)e.elseIf((0,Ws._)`${l} === ${f}`),e.assign(c,p(y[f]));e.else(),t.error(!1,{discrError:Hp.DiscrError.Mapping,tag:l,tagName:o}),e.endIf()}function p(y){const f=e.name("valid"),m=t.subschema({keyword:"oneOf",schemaProp:y},f);return t.mergeEvaluated(m,Ws.Name),f}function h(){var y;const f={},m=b(s);let g=!0;for(let C=0;C<a.length;C++){let L=a[C];if(L!=null&&L.$ref&&!(0,DN.schemaHasRulesButRef)(L,i.self.RULES)){const D=L.$ref;if(L=Bm.resolveRef.call(i.self,i.schemaEnv.root,i.baseId,D),L instanceof Bm.SchemaEnv&&(L=L.schema),L===void 0)throw new BN.default(i.opts.uriResolver,i.baseId,D)}const K=(y=L==null?void 0:L.properties)===null||y===void 0?void 0:y[o];if(typeof K!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${o}"`);g=g&&(m||b(L)),_(K,C)}if(!g)throw new Error(`discriminator: "${o}" must be required`);return f;function b({required:C}){return Array.isArray(C)&&C.includes(o)}function _(C,L){if(C.const)S(C.const,L);else if(C.enum)for(const K of C.enum)S(K,L);else throw new Error(`discriminator: "properties/${o}" must have "const" or "enum"`)}function S(C,L){if(typeof C!="string"||C in f)throw new Error(`discriminator: "${o}" values must be unique strings`);f[C]=L}}}};Pl.default=VN;var Yf={};const GN="https://json-schema.org/draft/2020-12/schema",HN="https://json-schema.org/draft/2020-12/schema",QN={"https://json-schema.org/draft/2020-12/vocab/core":!0,"https://json-schema.org/draft/2020-12/vocab/applicator":!0,"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0,"https://json-schema.org/draft/2020-12/vocab/validation":!0,"https://json-schema.org/draft/2020-12/vocab/meta-data":!0,"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0,"https://json-schema.org/draft/2020-12/vocab/content":!0},WN="meta",KN="Core and Validation specifications meta-schema",JN=[{$ref:"meta/core"},{$ref:"meta/applicator"},{$ref:"meta/unevaluated"},{$ref:"meta/validation"},{$ref:"meta/meta-data"},{$ref:"meta/format-annotation"},{$ref:"meta/content"}],YN=["object","boolean"],XN="This meta-schema also defines keywords that have appeared in previous drafts in order to prevent incompatible extensions as they remain in common use.",ZN={definitions:{$comment:'"definitions" has been replaced by "$defs".',type:"object",additionalProperties:{$dynamicRef:"#meta"},deprecated:!0,default:{}},dependencies:{$comment:'"dependencies" has been split and replaced by "dependentSchemas" and "dependentRequired" in order to serve their differing semantics.',type:"object",additionalProperties:{anyOf:[{$dynamicRef:"#meta"},{$ref:"meta/validation#/$defs/stringArray"}]},deprecated:!0,default:{}},$recursiveAnchor:{$comment:'"$recursiveAnchor" has been replaced by "$dynamicAnchor".',$ref:"meta/core#/$defs/anchorString",deprecated:!0},$recursiveRef:{$comment:'"$recursiveRef" has been replaced by "$dynamicRef".',$ref:"meta/core#/$defs/uriReferenceString",deprecated:!0}},eA={$schema:GN,$id:HN,$vocabulary:QN,$dynamicAnchor:WN,title:KN,allOf:JN,type:YN,$comment:XN,properties:ZN},tA="https://json-schema.org/draft/2020-12/schema",nA="https://json-schema.org/draft/2020-12/meta/applicator",rA={"https://json-schema.org/draft/2020-12/vocab/applicator":!0},sA="meta",iA="Applicator vocabulary meta-schema",aA=["object","boolean"],oA={prefixItems:{$ref:"#/$defs/schemaArray"},items:{$dynamicRef:"#meta"},contains:{$dynamicRef:"#meta"},additionalProperties:{$dynamicRef:"#meta"},properties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},patternProperties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},propertyNames:{format:"regex"},default:{}},dependentSchemas:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},propertyNames:{$dynamicRef:"#meta"},if:{$dynamicRef:"#meta"},then:{$dynamicRef:"#meta"},else:{$dynamicRef:"#meta"},allOf:{$ref:"#/$defs/schemaArray"},anyOf:{$ref:"#/$defs/schemaArray"},oneOf:{$ref:"#/$defs/schemaArray"},not:{$dynamicRef:"#meta"}},cA={schemaArray:{type:"array",minItems:1,items:{$dynamicRef:"#meta"}}},lA={$schema:tA,$id:nA,$vocabulary:rA,$dynamicAnchor:sA,title:iA,type:aA,properties:oA,$defs:cA},uA="https://json-schema.org/draft/2020-12/schema",pA="https://json-schema.org/draft/2020-12/meta/unevaluated",dA={"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0},fA="meta",hA="Unevaluated applicator vocabulary meta-schema",mA=["object","boolean"],yA={unevaluatedItems:{$dynamicRef:"#meta"},unevaluatedProperties:{$dynamicRef:"#meta"}},gA={$schema:uA,$id:pA,$vocabulary:dA,$dynamicAnchor:fA,title:hA,type:mA,properties:yA},vA="https://json-schema.org/draft/2020-12/schema",bA="https://json-schema.org/draft/2020-12/meta/content",xA={"https://json-schema.org/draft/2020-12/vocab/content":!0},wA="meta",_A="Content vocabulary meta-schema",$A=["object","boolean"],SA={contentEncoding:{type:"string"},contentMediaType:{type:"string"},contentSchema:{$dynamicRef:"#meta"}},EA={$schema:vA,$id:bA,$vocabulary:xA,$dynamicAnchor:wA,title:_A,type:$A,properties:SA},RA="https://json-schema.org/draft/2020-12/schema",TA="https://json-schema.org/draft/2020-12/meta/core",OA={"https://json-schema.org/draft/2020-12/vocab/core":!0},CA="meta",NA="Core vocabulary meta-schema",AA=["object","boolean"],IA={$id:{$ref:"#/$defs/uriReferenceString",$comment:"Non-empty fragments not allowed.",pattern:"^[^#]*#?$"},$schema:{$ref:"#/$defs/uriString"},$ref:{$ref:"#/$defs/uriReferenceString"},$anchor:{$ref:"#/$defs/anchorString"},$dynamicRef:{$ref:"#/$defs/uriReferenceString"},$dynamicAnchor:{$ref:"#/$defs/anchorString"},$vocabulary:{type:"object",propertyNames:{$ref:"#/$defs/uriString"},additionalProperties:{type:"boolean"}},$comment:{type:"string"},$defs:{type:"object",additionalProperties:{$dynamicRef:"#meta"}}},PA={anchorString:{type:"string",pattern:"^[A-Za-z_][-A-Za-z0-9._]*$"},uriString:{type:"string",format:"uri"},uriReferenceString:{type:"string",format:"uri-reference"}},kA={$schema:RA,$id:TA,$vocabulary:OA,$dynamicAnchor:CA,title:NA,type:AA,properties:IA,$defs:PA},jA="https://json-schema.org/draft/2020-12/schema",LA="https://json-schema.org/draft/2020-12/meta/format-annotation",qA={"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0},MA="meta",FA="Format vocabulary meta-schema for annotation results",UA=["object","boolean"],BA={format:{type:"string"}},DA={$schema:jA,$id:LA,$vocabulary:qA,$dynamicAnchor:MA,title:FA,type:UA,properties:BA},zA="https://json-schema.org/draft/2020-12/schema",VA="https://json-schema.org/draft/2020-12/meta/meta-data",GA={"https://json-schema.org/draft/2020-12/vocab/meta-data":!0},HA="meta",QA="Meta-data vocabulary meta-schema",WA=["object","boolean"],KA={title:{type:"string"},description:{type:"string"},default:!0,deprecated:{type:"boolean",default:!1},readOnly:{type:"boolean",default:!1},writeOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0}},JA={$schema:zA,$id:VA,$vocabulary:GA,$dynamicAnchor:HA,title:QA,type:WA,properties:KA},YA="https://json-schema.org/draft/2020-12/schema",XA="https://json-schema.org/draft/2020-12/meta/validation",ZA={"https://json-schema.org/draft/2020-12/vocab/validation":!0},eI="meta",tI="Validation vocabulary meta-schema",nI=["object","boolean"],rI={type:{anyOf:[{$ref:"#/$defs/simpleTypes"},{type:"array",items:{$ref:"#/$defs/simpleTypes"},minItems:1,uniqueItems:!0}]},const:!0,enum:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/$defs/nonNegativeInteger"},minLength:{$ref:"#/$defs/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},maxItems:{$ref:"#/$defs/nonNegativeInteger"},minItems:{$ref:"#/$defs/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxContains:{$ref:"#/$defs/nonNegativeInteger"},minContains:{$ref:"#/$defs/nonNegativeInteger",default:1},maxProperties:{$ref:"#/$defs/nonNegativeInteger"},minProperties:{$ref:"#/$defs/nonNegativeIntegerDefault0"},required:{$ref:"#/$defs/stringArray"},dependentRequired:{type:"object",additionalProperties:{$ref:"#/$defs/stringArray"}}},sI={nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{$ref:"#/$defs/nonNegativeInteger",default:0},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},iI={$schema:YA,$id:XA,$vocabulary:ZA,$dynamicAnchor:eI,title:tI,type:nI,properties:rI,$defs:sI};Object.defineProperty(Yf,"__esModule",{value:!0});const aI=eA,oI=lA,cI=gA,lI=EA,uI=kA,pI=DA,dI=JA,fI=iI,hI=["/properties"];function mI(t){return[aI,oI,cI,lI,uI,e(this,pI),dI,e(this,fI)].forEach(n=>this.addMetaSchema(n,void 0,!1)),this;function e(n,r){return t?n.$dataMetaSchema(r,hI):r}}Yf.default=mI;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv2020=void 0;const n=ef,r=mf,s=Pl,i=Yf,a="https://json-schema.org/draft/2020-12/schema";class o extends n.default{constructor(y={}){super({...y,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),r.default.forEach(y=>this.addVocabulary(y)),this.opts.discriminator&&this.addKeyword(s.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();const{$data:y,meta:f}=this.opts;f&&(i.default.call(this,y),this.refs["http://json-schema.org/schema"]=a)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}e.Ajv2020=o,t.exports=e=o,t.exports.Ajv2020=o,Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var c=Ht;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var l=ie;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return l._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return l.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return l.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return l.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return l.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return l.CodeGen}});var u=Ji;Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return u.default}});var p=js;Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return p.default}})})(Fp,Fp.exports);var yI=Fp.exports,Qp={exports:{}},P_={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.formatNames=t.fastFormats=t.fullFormats=void 0;function e(J,X){return{validate:J,compare:X}}t.fullFormats={date:e(i,a),time:e(c(!0),l),"date-time":e(h(!0),y),"iso-time":e(c(),u),"iso-date-time":e(h(),f),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:b,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:ve,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:S,int32:{type:"number",validate:K},int64:{type:"number",validate:D},float:{type:"number",validate:Z},double:{type:"number",validate:Z},password:!0,binary:!0},t.fastFormats={...t.fullFormats,date:e(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,a),time:e(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,l),"date-time":e(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,y),"iso-time":e(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,u),"iso-date-time":e(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,f),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},t.formatNames=Object.keys(t.fullFormats);function n(J){return J%4===0&&(J%100!==0||J%400===0)}const r=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,s=[0,31,28,31,30,31,30,31,31,30,31,30,31];function i(J){const X=r.exec(J);if(!X)return!1;const ne=+X[1],A=+X[2],F=+X[3];return A>=1&&A<=12&&F>=1&&F<=(A===2&&n(ne)?29:s[A])}function a(J,X){if(J&&X)return J>X?1:J<X?-1:0}const o=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function c(J){return function(ne){const A=o.exec(ne);if(!A)return!1;const F=+A[1],V=+A[2],q=+A[3],M=A[4],z=A[5]==="-"?-1:1,I=+(A[6]||0),$=+(A[7]||0);if(I>23||$>59||J&&!M)return!1;if(F<=23&&V<=59&&q<60)return!0;const N=V-$*z,R=F-I*z-(N<0?1:0);return(R===23||R===-1)&&(N===59||N===-1)&&q<61}}function l(J,X){if(!(J&&X))return;const ne=new Date("2020-01-01T"+J).valueOf(),A=new Date("2020-01-01T"+X).valueOf();if(ne&&A)return ne-A}function u(J,X){if(!(J&&X))return;const ne=o.exec(J),A=o.exec(X);if(ne&&A)return J=ne[1]+ne[2]+ne[3],X=A[1]+A[2]+A[3],J>X?1:J<X?-1:0}const p=/t|\s/i;function h(J){const X=c(J);return function(A){const F=A.split(p);return F.length===2&&i(F[0])&&X(F[1])}}function y(J,X){if(!(J&&X))return;const ne=new Date(J).valueOf(),A=new Date(X).valueOf();if(ne&&A)return ne-A}function f(J,X){if(!(J&&X))return;const[ne,A]=J.split(p),[F,V]=X.split(p),q=a(ne,F);if(q!==void 0)return q||l(A,V)}const m=/\/|:/,g=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function b(J){return m.test(J)&&g.test(J)}const _=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function S(J){return _.lastIndex=0,_.test(J)}const C=-2147483648,L=2**31-1;function K(J){return Number.isInteger(J)&&J<=L&&J>=C}function D(J){return Number.isInteger(J)}function Z(){return!0}const se=/[^\\]\\Z/;function ve(J){if(se.test(J))return!1;try{return new RegExp(J),!0}catch{return!1}}})(P_);var k_={},Wp={exports:{}},Xf={};Object.defineProperty(Xf,"__esModule",{value:!0});const gI=Tl,vI=Ol,bI=Cl,xI=Il,Dm=Os,wI=[gI.default,vI.default,(0,bI.default)(),xI.default,Dm.metadataVocabulary,Dm.contentVocabulary];Xf.default=wI;const _I="http://json-schema.org/draft-07/schema#",$I="http://json-schema.org/draft-07/schema#",SI="Core schema meta-schema",EI={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},RI=["object","boolean"],TI={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},OI={$schema:_I,$id:$I,title:SI,definitions:EI,type:RI,properties:TI,default:!0};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv=void 0;const n=ef,r=Xf,s=Pl,i=OI,a=["/properties"],o="http://json-schema.org/draft-07/schema";class c extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(f=>this.addVocabulary(f)),this.opts.discriminator&&this.addKeyword(s.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const f=this.opts.$data?this.$dataMetaSchema(i,a):i;this.addMetaSchema(f,o,!1),this.refs["http://json-schema.org/schema"]=o}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(o)?o:void 0)}}e.Ajv=c,t.exports=e=c,t.exports.Ajv=c,Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var l=Ht;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var u=ie;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return u._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return u.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return u.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return u.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return u.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return u.CodeGen}});var p=Ji;Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return p.default}});var h=js;Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return h.default}})})(Wp,Wp.exports);var CI=Wp.exports;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.formatLimitDefinition=void 0;const e=CI,n=ie,r=n.operators,s={formatMaximum:{okStr:"<=",ok:r.LTE,fail:r.GT},formatMinimum:{okStr:">=",ok:r.GTE,fail:r.LT},formatExclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},formatExclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},i={message:({keyword:o,schemaCode:c})=>(0,n.str)`should be ${s[o].okStr} ${c}`,params:({keyword:o,schemaCode:c})=>(0,n._)`{comparison: ${s[o].okStr}, limit: ${c}}`};t.formatLimitDefinition={keyword:Object.keys(s),type:"string",schemaType:"string",$data:!0,error:i,code(o){const{gen:c,data:l,schemaCode:u,keyword:p,it:h}=o,{opts:y,self:f}=h;if(!y.validateFormats)return;const m=new e.KeywordCxt(h,f.RULES.all.format.definition,"format");m.$data?g():b();function g(){const S=c.scopeValue("formats",{ref:f.formats,code:y.code.formats}),C=c.const("fmt",(0,n._)`${S}[${m.schemaCode}]`);o.fail$data((0,n.or)((0,n._)`typeof ${C} != "object"`,(0,n._)`${C} instanceof RegExp`,(0,n._)`typeof ${C}.compare != "function"`,_(C)))}function b(){const S=m.schema,C=f.formats[S];if(!C||C===!0)return;if(typeof C!="object"||C instanceof RegExp||typeof C.compare!="function")throw new Error(`"${p}": format "${S}" does not define "compare" function`);const L=c.scopeValue("formats",{key:S,ref:C,code:y.code.formats?(0,n._)`${y.code.formats}${(0,n.getProperty)(S)}`:void 0});o.fail$data(_(L))}function _(S){return(0,n._)`${S}.compare(${l}, ${u}) ${s[p].fail} 0`}},dependencies:["format"]};const a=o=>(o.addKeyword(t.formatLimitDefinition),o);t.default=a})(k_);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});const n=P_,r=k_,s=ie,i=new s.Name("fullFormats"),a=new s.Name("fastFormats"),o=(l,u={keywords:!0})=>{if(Array.isArray(u))return c(l,u,n.fullFormats,i),l;const[p,h]=u.mode==="fast"?[n.fastFormats,a]:[n.fullFormats,i],y=u.formats||n.formatNames;return c(l,y,p,h),u.keywords&&(0,r.default)(l),l};o.get=(l,u="full")=>{const h=(u==="fast"?n.fastFormats:n.fullFormats)[l];if(!h)throw new Error(`Unknown format "${l}"`);return h};function c(l,u,p,h){var y,f;(y=(f=l.opts.code).formats)!==null&&y!==void 0||(f.formats=(0,s._)`require("ajv-formats/dist/formats").${h}`);for(const m of u)l.addFormat(m,p[m])}t.exports=e=o,Object.defineProperty(e,"__esModule",{value:!0}),e.default=o})(Qp,Qp.exports);var NI=Qp.exports;const AI=nr(NI),II=(t,e,n,r)=>{if(n==="length"||n==="prototype"||n==="arguments"||n==="caller")return;const s=Object.getOwnPropertyDescriptor(t,n),i=Object.getOwnPropertyDescriptor(e,n);!PI(s,i)&&r||Object.defineProperty(t,n,i)},PI=function(t,e){return t===void 0||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},kI=(t,e)=>{const n=Object.getPrototypeOf(e);n!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,n)},jI=(t,e)=>`/* Wrapped ${t}*/
${e}`,LI=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),qI=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),MI=(t,e,n)=>{const r=n===""?"":`with ${n.trim()}() `,s=jI.bind(null,r,e.toString());Object.defineProperty(s,"name",qI);const{writable:i,enumerable:a,configurable:o}=LI;Object.defineProperty(t,"toString",{value:s,writable:i,enumerable:a,configurable:o})};function FI(t,e,{ignoreNonConfigurable:n=!1}={}){const{name:r}=t;for(const s of Reflect.ownKeys(e))II(t,e,s,n);return kI(t,e),MI(t,e,r),t}const zm=(t,e={})=>{if(typeof t!="function")throw new TypeError(`Expected the first argument to be a function, got \`${typeof t}\``);const{wait:n=0,maxWait:r=Number.POSITIVE_INFINITY,before:s=!1,after:i=!0}=e;if(n<0||r<0)throw new RangeError("`wait` and `maxWait` must not be negative.");if(!s&&!i)throw new Error("Both `before` and `after` are false, function wouldn't be called.");let a,o,c;const l=function(...u){const p=this,h=()=>{a=void 0,o&&(clearTimeout(o),o=void 0),i&&(c=t.apply(p,u))},y=()=>{o=void 0,a&&(clearTimeout(a),a=void 0),i&&(c=t.apply(p,u))},f=s&&!a;return clearTimeout(a),a=setTimeout(h,n),r>0&&r!==Number.POSITIVE_INFINITY&&!o&&(o=setTimeout(y,r)),f&&(c=t.apply(p,u)),c};return FI(l,t),l.cancel=()=>{a&&(clearTimeout(a),a=void 0),o&&(clearTimeout(o),o=void 0)},l};var Kp={exports:{}};const UI="2.0.0",j_=256,BI=Number.MAX_SAFE_INTEGER||9007199254740991,DI=16,zI=j_-6,VI=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var jl={MAX_LENGTH:j_,MAX_SAFE_COMPONENT_LENGTH:DI,MAX_SAFE_BUILD_LENGTH:zI,MAX_SAFE_INTEGER:BI,RELEASE_TYPES:VI,SEMVER_SPEC_VERSION:UI,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const GI=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var Ll=GI;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:s}=jl,i=Ll;e=t.exports={};const a=e.re=[],o=e.safeRe=[],c=e.src=[],l=e.safeSrc=[],u=e.t={};let p=0;const h="[a-zA-Z0-9-]",y=[["\\s",1],["\\d",s],[h,r]],f=g=>{for(const[b,_]of y)g=g.split(`${b}*`).join(`${b}{0,${_}}`).split(`${b}+`).join(`${b}{1,${_}}`);return g},m=(g,b,_)=>{const S=f(b),C=p++;i(g,C,b),u[g]=C,c[C]=b,l[C]=S,a[C]=new RegExp(b,_?"g":void 0),o[C]=new RegExp(S,_?"g":void 0)};m("NUMERICIDENTIFIER","0|[1-9]\\d*"),m("NUMERICIDENTIFIERLOOSE","\\d+"),m("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${h}*`),m("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),m("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASEIDENTIFIER",`(?:${c[u.NONNUMERICIDENTIFIER]}|${c[u.NUMERICIDENTIFIER]})`),m("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NONNUMERICIDENTIFIER]}|${c[u.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),m("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),m("BUILDIDENTIFIER",`${h}+`),m("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),m("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),m("FULL",`^${c[u.FULLPLAIN]}$`),m("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),m("LOOSE",`^${c[u.LOOSEPLAIN]}$`),m("GTLT","((?:<|>)?=?)"),m("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),m("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),m("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),m("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),m("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),m("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),m("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),m("COERCE",`${c[u.COERCEPLAIN]}(?:$|[^\\d])`),m("COERCEFULL",c[u.COERCEPLAIN]+`(?:${c[u.PRERELEASE]})?(?:${c[u.BUILD]})?(?:$|[^\\d])`),m("COERCERTL",c[u.COERCE],!0),m("COERCERTLFULL",c[u.COERCEFULL],!0),m("LONETILDE","(?:~>?)"),m("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",m("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),m("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),m("LONECARET","(?:\\^)"),m("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",m("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),m("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),m("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),m("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),m("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",m("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),m("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),m("STAR","(<|>)?=?\\s*\\*"),m("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),m("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Kp,Kp.exports);var ho=Kp.exports;const HI=Object.freeze({loose:!0}),QI=Object.freeze({}),WI=t=>t?typeof t!="object"?HI:t:QI;var Zf=WI;const Vm=/^[0-9]+$/,L_=(t,e)=>{if(typeof t=="number"&&typeof e=="number")return t===e?0:t<e?-1:1;const n=Vm.test(t),r=Vm.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1},KI=(t,e)=>L_(e,t);var q_={compareIdentifiers:L_,rcompareIdentifiers:KI};const Do=Ll,{MAX_LENGTH:Gm,MAX_SAFE_INTEGER:zo}=jl,{safeRe:Vo,t:Go}=ho,JI=Zf,{compareIdentifiers:Fu}=q_;let YI=class yn{constructor(e,n){if(n=JI(n),e instanceof yn){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Gm)throw new TypeError(`version is longer than ${Gm} characters`);Do("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=e.trim().match(n.loose?Vo[Go.LOOSE]:Vo[Go.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>zo||this.major<0)throw new TypeError("Invalid major version");if(this.minor>zo||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>zo||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){const i=+s;if(i>=0&&i<zo)return i}return s}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Do("SemVer.compare",this.version,this.options,e),!(e instanceof yn)){if(typeof e=="string"&&e===this.version)return 0;e=new yn(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof yn||(e=new yn(e,this.options)),this.major<e.major?-1:this.major>e.major?1:this.minor<e.minor?-1:this.minor>e.minor?1:this.patch<e.patch?-1:this.patch>e.patch?1:0}comparePre(e){if(e instanceof yn||(e=new yn(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],s=e.prerelease[n];if(Do("prerelease compare",n,r,s),r===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(r===void 0)return-1;if(r===s)continue;return Fu(r,s)}while(++n)}compareBuild(e){e instanceof yn||(e=new yn(e,this.options));let n=0;do{const r=this.build[n],s=e.build[n];if(Do("build compare",n,r,s),r===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(r===void 0)return-1;if(r===s)continue;return Fu(r,s)}while(++n)}inc(e,n,r){if(e.startsWith("pre")){if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(n){const s=`-${n}`.match(this.options.loose?Vo[Go.PRERELEASELOOSE]:Vo[Go.PRERELEASE]);if(!s||s[1]!==n)throw new Error(`invalid identifier: ${n}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const s=Number(r)?1:0;if(this.prerelease.length===0)this.prerelease=[s];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(n){let i=[n,s];r===!1&&(i=[n]),Fu(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var yt=YI;const Hm=yt,XI=(t,e,n=!1)=>{if(t instanceof Hm)return t;try{return new Hm(t,e)}catch(r){if(!n)return null;throw r}};var ta=XI;const ZI=ta,eP=(t,e)=>{const n=ZI(t,e);return n?n.version:null};var tP=eP;const nP=ta,rP=(t,e)=>{const n=nP(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null};var sP=rP;const Qm=yt,iP=(t,e,n,r,s)=>{typeof n=="string"&&(s=r,r=n,n=void 0);try{return new Qm(t instanceof Qm?t.version:t,n).inc(e,r,s).version}catch{return null}};var aP=iP;const Wm=ta,oP=(t,e)=>{const n=Wm(t,null,!0),r=Wm(e,null,!0),s=n.compare(r);if(s===0)return null;const i=s>0,a=i?n:r,o=i?r:n,c=!!a.prerelease.length;if(!!o.prerelease.length&&!c){if(!o.patch&&!o.minor)return"major";if(o.compareMain(a)===0)return o.minor&&!o.patch?"minor":"patch"}const u=c?"pre":"";return n.major!==r.major?u+"major":n.minor!==r.minor?u+"minor":n.patch!==r.patch?u+"patch":"prerelease"};var cP=oP;const lP=yt,uP=(t,e)=>new lP(t,e).major;var pP=uP;const dP=yt,fP=(t,e)=>new dP(t,e).minor;var hP=fP;const mP=yt,yP=(t,e)=>new mP(t,e).patch;var gP=yP;const vP=ta,bP=(t,e)=>{const n=vP(t,e);return n&&n.prerelease.length?n.prerelease:null};var xP=bP;const Km=yt,wP=(t,e,n)=>new Km(t,n).compare(new Km(e,n));var un=wP;const _P=un,$P=(t,e,n)=>_P(e,t,n);var SP=$P;const EP=un,RP=(t,e)=>EP(t,e,!0);var TP=RP;const Jm=yt,OP=(t,e,n)=>{const r=new Jm(t,n),s=new Jm(e,n);return r.compare(s)||r.compareBuild(s)};var eh=OP;const CP=eh,NP=(t,e)=>t.sort((n,r)=>CP(n,r,e));var AP=NP;const IP=eh,PP=(t,e)=>t.sort((n,r)=>IP(r,n,e));var kP=PP;const jP=un,LP=(t,e,n)=>jP(t,e,n)>0;var ql=LP;const qP=un,MP=(t,e,n)=>qP(t,e,n)<0;var th=MP;const FP=un,UP=(t,e,n)=>FP(t,e,n)===0;var M_=UP;const BP=un,DP=(t,e,n)=>BP(t,e,n)!==0;var F_=DP;const zP=un,VP=(t,e,n)=>zP(t,e,n)>=0;var nh=VP;const GP=un,HP=(t,e,n)=>GP(t,e,n)<=0;var rh=HP;const QP=M_,WP=F_,KP=ql,JP=nh,YP=th,XP=rh,ZP=(t,e,n,r)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return QP(t,n,r);case"!=":return WP(t,n,r);case">":return KP(t,n,r);case">=":return JP(t,n,r);case"<":return YP(t,n,r);case"<=":return XP(t,n,r);default:throw new TypeError(`Invalid operator: ${e}`)}};var U_=ZP;const ek=yt,tk=ta,{safeRe:Ho,t:Qo}=ho,nk=(t,e)=>{if(t instanceof ek)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let n=null;if(!e.rtl)n=t.match(e.includePrerelease?Ho[Qo.COERCEFULL]:Ho[Qo.COERCE]);else{const c=e.includePrerelease?Ho[Qo.COERCERTLFULL]:Ho[Qo.COERCERTL];let l;for(;(l=c.exec(t))&&(!n||n.index+n[0].length!==t.length);)(!n||l.index+l[0].length!==n.index+n[0].length)&&(n=l),c.lastIndex=l.index+l[1].length+l[2].length;c.lastIndex=-1}if(n===null)return null;const r=n[2],s=n[3]||"0",i=n[4]||"0",a=e.includePrerelease&&n[5]?`-${n[5]}`:"",o=e.includePrerelease&&n[6]?`+${n[6]}`:"";return tk(`${r}.${s}.${i}${a}${o}`,e)};var rk=nk;class sk{constructor(){this.max=1e3,this.map=new Map}get(e){const n=this.map.get(e);if(n!==void 0)return this.map.delete(e),this.map.set(e,n),n}delete(e){return this.map.delete(e)}set(e,n){if(!this.delete(e)&&n!==void 0){if(this.map.size>=this.max){const s=this.map.keys().next().value;this.delete(s)}this.map.set(e,n)}return this}}var ik=sk,Uu,Ym;function pn(){if(Ym)return Uu;Ym=1;const t=/\s+/g;class e{constructor(F,V){if(V=s(V),F instanceof e)return F.loose===!!V.loose&&F.includePrerelease===!!V.includePrerelease?F:new e(F.raw,V);if(F instanceof i)return this.raw=F.value,this.set=[[F]],this.formatted=void 0,this;if(this.options=V,this.loose=!!V.loose,this.includePrerelease=!!V.includePrerelease,this.raw=F.trim().replace(t," "),this.set=this.raw.split("||").map(q=>this.parseRange(q.trim())).filter(q=>q.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const q=this.set[0];if(this.set=this.set.filter(M=>!m(M[0])),this.set.length===0)this.set=[q];else if(this.set.length>1){for(const M of this.set)if(M.length===1&&g(M[0])){this.set=[M];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let F=0;F<this.set.length;F++){F>0&&(this.formatted+="||");const V=this.set[F];for(let q=0;q<V.length;q++)q>0&&(this.formatted+=" "),this.formatted+=V[q].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(F){const q=((this.options.includePrerelease&&y)|(this.options.loose&&f))+":"+F,M=r.get(q);if(M)return M;const z=this.options.loose,I=z?c[l.HYPHENRANGELOOSE]:c[l.HYPHENRANGE];F=F.replace(I,X(this.options.includePrerelease)),a("hyphen replace",F),F=F.replace(c[l.COMPARATORTRIM],u),a("comparator trim",F),F=F.replace(c[l.TILDETRIM],p),a("tilde trim",F),F=F.replace(c[l.CARETTRIM],h),a("caret trim",F);let $=F.split(" ").map(w=>_(w,this.options)).join(" ").split(/\s+/).map(w=>J(w,this.options));z&&($=$.filter(w=>(a("loose invalid filter",w,this.options),!!w.match(c[l.COMPARATORLOOSE])))),a("range list",$);const N=new Map,R=$.map(w=>new i(w,this.options));for(const w of R){if(m(w))return[w];N.set(w.value,w)}N.size>1&&N.has("")&&N.delete("");const x=[...N.values()];return r.set(q,x),x}intersects(F,V){if(!(F instanceof e))throw new TypeError("a Range is required");return this.set.some(q=>b(q,V)&&F.set.some(M=>b(M,V)&&q.every(z=>M.every(I=>z.intersects(I,V)))))}test(F){if(!F)return!1;if(typeof F=="string")try{F=new o(F,this.options)}catch{return!1}for(let V=0;V<this.set.length;V++)if(ne(this.set[V],F,this.options))return!0;return!1}}Uu=e;const n=ik,r=new n,s=Zf,i=Ml(),a=Ll,o=yt,{safeRe:c,t:l,comparatorTrimReplace:u,tildeTrimReplace:p,caretTrimReplace:h}=ho,{FLAG_INCLUDE_PRERELEASE:y,FLAG_LOOSE:f}=jl,m=A=>A.value==="<0.0.0-0",g=A=>A.value==="",b=(A,F)=>{let V=!0;const q=A.slice();let M=q.pop();for(;V&&q.length;)V=q.every(z=>M.intersects(z,F)),M=q.pop();return V},_=(A,F)=>(A=A.replace(c[l.BUILD],""),a("comp",A,F),A=K(A,F),a("caret",A),A=C(A,F),a("tildes",A),A=Z(A,F),a("xrange",A),A=ve(A,F),a("stars",A),A),S=A=>!A||A.toLowerCase()==="x"||A==="*",C=(A,F)=>A.trim().split(/\s+/).map(V=>L(V,F)).join(" "),L=(A,F)=>{const V=F.loose?c[l.TILDELOOSE]:c[l.TILDE];return A.replace(V,(q,M,z,I,$)=>{a("tilde",A,q,M,z,I,$);let N;return S(M)?N="":S(z)?N=`>=${M}.0.0 <${+M+1}.0.0-0`:S(I)?N=`>=${M}.${z}.0 <${M}.${+z+1}.0-0`:$?(a("replaceTilde pr",$),N=`>=${M}.${z}.${I}-${$} <${M}.${+z+1}.0-0`):N=`>=${M}.${z}.${I} <${M}.${+z+1}.0-0`,a("tilde return",N),N})},K=(A,F)=>A.trim().split(/\s+/).map(V=>D(V,F)).join(" "),D=(A,F)=>{a("caret",A,F);const V=F.loose?c[l.CARETLOOSE]:c[l.CARET],q=F.includePrerelease?"-0":"";return A.replace(V,(M,z,I,$,N)=>{a("caret",A,M,z,I,$,N);let R;return S(z)?R="":S(I)?R=`>=${z}.0.0${q} <${+z+1}.0.0-0`:S($)?z==="0"?R=`>=${z}.${I}.0${q} <${z}.${+I+1}.0-0`:R=`>=${z}.${I}.0${q} <${+z+1}.0.0-0`:N?(a("replaceCaret pr",N),z==="0"?I==="0"?R=`>=${z}.${I}.${$}-${N} <${z}.${I}.${+$+1}-0`:R=`>=${z}.${I}.${$}-${N} <${z}.${+I+1}.0-0`:R=`>=${z}.${I}.${$}-${N} <${+z+1}.0.0-0`):(a("no pr"),z==="0"?I==="0"?R=`>=${z}.${I}.${$}${q} <${z}.${I}.${+$+1}-0`:R=`>=${z}.${I}.${$}${q} <${z}.${+I+1}.0-0`:R=`>=${z}.${I}.${$} <${+z+1}.0.0-0`),a("caret return",R),R})},Z=(A,F)=>(a("replaceXRanges",A,F),A.split(/\s+/).map(V=>se(V,F)).join(" ")),se=(A,F)=>{A=A.trim();const V=F.loose?c[l.XRANGELOOSE]:c[l.XRANGE];return A.replace(V,(q,M,z,I,$,N)=>{a("xRange",A,q,M,z,I,$,N);const R=S(z),x=R||S(I),w=x||S($),k=w;return M==="="&&k&&(M=""),N=F.includePrerelease?"-0":"",R?M===">"||M==="<"?q="<0.0.0-0":q="*":M&&k?(x&&(I=0),$=0,M===">"?(M=">=",x?(z=+z+1,I=0,$=0):(I=+I+1,$=0)):M==="<="&&(M="<",x?z=+z+1:I=+I+1),M==="<"&&(N="-0"),q=`${M+z}.${I}.${$}${N}`):x?q=`>=${z}.0.0${N} <${+z+1}.0.0-0`:w&&(q=`>=${z}.${I}.0${N} <${z}.${+I+1}.0-0`),a("xRange return",q),q})},ve=(A,F)=>(a("replaceStars",A,F),A.trim().replace(c[l.STAR],"")),J=(A,F)=>(a("replaceGTE0",A,F),A.trim().replace(c[F.includePrerelease?l.GTE0PRE:l.GTE0],"")),X=A=>(F,V,q,M,z,I,$,N,R,x,w,k)=>(S(q)?V="":S(M)?V=`>=${q}.0.0${A?"-0":""}`:S(z)?V=`>=${q}.${M}.0${A?"-0":""}`:I?V=`>=${V}`:V=`>=${V}${A?"-0":""}`,S(R)?N="":S(x)?N=`<${+R+1}.0.0-0`:S(w)?N=`<${R}.${+x+1}.0-0`:k?N=`<=${R}.${x}.${w}-${k}`:A?N=`<${R}.${x}.${+w+1}-0`:N=`<=${N}`,`${V} ${N}`.trim()),ne=(A,F,V)=>{for(let q=0;q<A.length;q++)if(!A[q].test(F))return!1;if(F.prerelease.length&&!V.includePrerelease){for(let q=0;q<A.length;q++)if(a(A[q].semver),A[q].semver!==i.ANY&&A[q].semver.prerelease.length>0){const M=A[q].semver;if(M.major===F.major&&M.minor===F.minor&&M.patch===F.patch)return!0}return!1}return!0};return Uu}var Bu,Xm;function Ml(){if(Xm)return Bu;Xm=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(u,p){if(p=n(p),u instanceof e){if(u.loose===!!p.loose)return u;u=u.value}u=u.trim().split(/\s+/).join(" "),a("comparator",u,p),this.options=p,this.loose=!!p.loose,this.parse(u),this.semver===t?this.value="":this.value=this.operator+this.semver.version,a("comp",this)}parse(u){const p=this.options.loose?r[s.COMPARATORLOOSE]:r[s.COMPARATOR],h=u.match(p);if(!h)throw new TypeError(`Invalid comparator: ${u}`);this.operator=h[1]!==void 0?h[1]:"",this.operator==="="&&(this.operator=""),h[2]?this.semver=new o(h[2],this.options.loose):this.semver=t}toString(){return this.value}test(u){if(a("Comparator.test",u,this.options.loose),this.semver===t||u===t)return!0;if(typeof u=="string")try{u=new o(u,this.options)}catch{return!1}return i(u,this.operator,this.semver,this.options)}intersects(u,p){if(!(u instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(u.value,p).test(this.value):u.operator===""?u.value===""?!0:new c(this.value,p).test(u.semver):(p=n(p),p.includePrerelease&&(this.value==="<0.0.0-0"||u.value==="<0.0.0-0")||!p.includePrerelease&&(this.value.startsWith("<0.0.0")||u.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&u.operator.startsWith(">")||this.operator.startsWith("<")&&u.operator.startsWith("<")||this.semver.version===u.semver.version&&this.operator.includes("=")&&u.operator.includes("=")||i(this.semver,"<",u.semver,p)&&this.operator.startsWith(">")&&u.operator.startsWith("<")||i(this.semver,">",u.semver,p)&&this.operator.startsWith("<")&&u.operator.startsWith(">")))}}Bu=e;const n=Zf,{safeRe:r,t:s}=ho,i=U_,a=Ll,o=yt,c=pn();return Bu}const ak=pn(),ok=(t,e,n)=>{try{e=new ak(e,n)}catch{return!1}return e.test(t)};var Fl=ok;const ck=pn(),lk=(t,e)=>new ck(t,e).set.map(n=>n.map(r=>r.value).join(" ").trim().split(" "));var uk=lk;const pk=yt,dk=pn(),fk=(t,e,n)=>{let r=null,s=null,i=null;try{i=new dk(e,n)}catch{return null}return t.forEach(a=>{i.test(a)&&(!r||s.compare(a)===-1)&&(r=a,s=new pk(r,n))}),r};var hk=fk;const mk=yt,yk=pn(),gk=(t,e,n)=>{let r=null,s=null,i=null;try{i=new yk(e,n)}catch{return null}return t.forEach(a=>{i.test(a)&&(!r||s.compare(a)===1)&&(r=a,s=new mk(r,n))}),r};var vk=gk;const Du=yt,bk=pn(),Zm=ql,xk=(t,e)=>{t=new bk(t,e);let n=new Du("0.0.0");if(t.test(n)||(n=new Du("0.0.0-0"),t.test(n)))return n;n=null;for(let r=0;r<t.set.length;++r){const s=t.set[r];let i=null;s.forEach(a=>{const o=new Du(a.semver.version);switch(a.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!i||Zm(o,i))&&(i=o);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),i&&(!n||Zm(n,i))&&(n=i)}return n&&t.test(n)?n:null};var wk=xk;const _k=pn(),$k=(t,e)=>{try{return new _k(t,e).range||"*"}catch{return null}};var Sk=$k;const Ek=yt,B_=Ml(),{ANY:Rk}=B_,Tk=pn(),Ok=Fl,ey=ql,ty=th,Ck=rh,Nk=nh,Ak=(t,e,n,r)=>{t=new Ek(t,r),e=new Tk(e,r);let s,i,a,o,c;switch(n){case">":s=ey,i=Ck,a=ty,o=">",c=">=";break;case"<":s=ty,i=Nk,a=ey,o="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Ok(t,e,r))return!1;for(let l=0;l<e.set.length;++l){const u=e.set[l];let p=null,h=null;if(u.forEach(y=>{y.semver===Rk&&(y=new B_(">=0.0.0")),p=p||y,h=h||y,s(y.semver,p.semver,r)?p=y:a(y.semver,h.semver,r)&&(h=y)}),p.operator===o||p.operator===c||(!h.operator||h.operator===o)&&i(t,h.semver))return!1;if(h.operator===c&&a(t,h.semver))return!1}return!0};var sh=Ak;const Ik=sh,Pk=(t,e,n)=>Ik(t,e,">",n);var kk=Pk;const jk=sh,Lk=(t,e,n)=>jk(t,e,"<",n);var qk=Lk;const ny=pn(),Mk=(t,e,n)=>(t=new ny(t,n),e=new ny(e,n),t.intersects(e,n));var Fk=Mk;const Uk=Fl,Bk=un;var Dk=(t,e,n)=>{const r=[];let s=null,i=null;const a=t.sort((u,p)=>Bk(u,p,n));for(const u of a)Uk(u,e,n)?(i=u,s||(s=u)):(i&&r.push([s,i]),i=null,s=null);s&&r.push([s,null]);const o=[];for(const[u,p]of r)u===p?o.push(u):!p&&u===a[0]?o.push("*"):p?u===a[0]?o.push(`<=${p}`):o.push(`${u} - ${p}`):o.push(`>=${u}`);const c=o.join(" || "),l=typeof e.raw=="string"?e.raw:String(e);return c.length<l.length?c:e};const ry=pn(),ih=Ml(),{ANY:zu}=ih,pa=Fl,ah=un,zk=(t,e,n={})=>{if(t===e)return!0;t=new ry(t,n),e=new ry(e,n);let r=!1;e:for(const s of t.set){for(const i of e.set){const a=Gk(s,i,n);if(r=r||a!==null,a)continue e}if(r)return!1}return!0},Vk=[new ih(">=0.0.0-0")],sy=[new ih(">=0.0.0")],Gk=(t,e,n)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===zu){if(e.length===1&&e[0].semver===zu)return!0;n.includePrerelease?t=Vk:t=sy}if(e.length===1&&e[0].semver===zu){if(n.includePrerelease)return!0;e=sy}const r=new Set;let s,i;for(const y of t)y.operator===">"||y.operator===">="?s=iy(s,y,n):y.operator==="<"||y.operator==="<="?i=ay(i,y,n):r.add(y.semver);if(r.size>1)return null;let a;if(s&&i){if(a=ah(s.semver,i.semver,n),a>0)return null;if(a===0&&(s.operator!==">="||i.operator!=="<="))return null}for(const y of r){if(s&&!pa(y,String(s),n)||i&&!pa(y,String(i),n))return null;for(const f of e)if(!pa(y,String(f),n))return!1;return!0}let o,c,l,u,p=i&&!n.includePrerelease&&i.semver.prerelease.length?i.semver:!1,h=s&&!n.includePrerelease&&s.semver.prerelease.length?s.semver:!1;p&&p.prerelease.length===1&&i.operator==="<"&&p.prerelease[0]===0&&(p=!1);for(const y of e){if(u=u||y.operator===">"||y.operator===">=",l=l||y.operator==="<"||y.operator==="<=",s){if(h&&y.semver.prerelease&&y.semver.prerelease.length&&y.semver.major===h.major&&y.semver.minor===h.minor&&y.semver.patch===h.patch&&(h=!1),y.operator===">"||y.operator===">="){if(o=iy(s,y,n),o===y&&o!==s)return!1}else if(s.operator===">="&&!pa(s.semver,String(y),n))return!1}if(i){if(p&&y.semver.prerelease&&y.semver.prerelease.length&&y.semver.major===p.major&&y.semver.minor===p.minor&&y.semver.patch===p.patch&&(p=!1),y.operator==="<"||y.operator==="<="){if(c=ay(i,y,n),c===y&&c!==i)return!1}else if(i.operator==="<="&&!pa(i.semver,String(y),n))return!1}if(!y.operator&&(i||s)&&a!==0)return!1}return!(s&&l&&!i&&a!==0||i&&u&&!s&&a!==0||h||p)},iy=(t,e,n)=>{if(!t)return e;const r=ah(t.semver,e.semver,n);return r>0?t:r<0||e.operator===">"&&t.operator===">="?e:t},ay=(t,e,n)=>{if(!t)return e;const r=ah(t.semver,e.semver,n);return r<0?t:r>0||e.operator==="<"&&t.operator==="<="?e:t};var Hk=zk;const Vu=ho,oy=jl,Qk=yt,cy=q_,Wk=ta,Kk=tP,Jk=sP,Yk=aP,Xk=cP,Zk=pP,ej=hP,tj=gP,nj=xP,rj=un,sj=SP,ij=TP,aj=eh,oj=AP,cj=kP,lj=ql,uj=th,pj=M_,dj=F_,fj=nh,hj=rh,mj=U_,yj=rk,gj=Ml(),vj=pn(),bj=Fl,xj=uk,wj=hk,_j=vk,$j=wk,Sj=Sk,Ej=sh,Rj=kk,Tj=qk,Oj=Fk,Cj=Dk,Nj=Hk;var Aj={parse:Wk,valid:Kk,clean:Jk,inc:Yk,diff:Xk,major:Zk,minor:ej,patch:tj,prerelease:nj,compare:rj,rcompare:sj,compareLoose:ij,compareBuild:aj,sort:oj,rsort:cj,gt:lj,lt:uj,eq:pj,neq:dj,gte:fj,lte:hj,cmp:mj,coerce:yj,Comparator:gj,Range:vj,satisfies:bj,toComparators:xj,maxSatisfying:wj,minSatisfying:_j,minVersion:$j,validRange:Sj,outside:Ej,gtr:Rj,ltr:Tj,intersects:Oj,simplifyRange:Cj,subset:Nj,SemVer:Qk,re:Vu.re,src:Vu.src,tokens:Vu.t,SEMVER_SPEC_VERSION:oy.SEMVER_SPEC_VERSION,RELEASE_TYPES:oy.RELEASE_TYPES,compareIdentifiers:cy.compareIdentifiers,rcompareIdentifiers:cy.rcompareIdentifiers};const Ds=nr(Aj),Ij=Object.prototype.toString,Pj="[object Uint8Array]",kj="[object ArrayBuffer]";function D_(t,e,n){return t?t.constructor===e?!0:Ij.call(t)===n:!1}function z_(t){return D_(t,Uint8Array,Pj)}function jj(t){return D_(t,ArrayBuffer,kj)}function Lj(t){return z_(t)||jj(t)}function qj(t){if(!z_(t))throw new TypeError(`Expected \`Uint8Array\`, got \`${typeof t}\``)}function Mj(t){if(!Lj(t))throw new TypeError(`Expected \`Uint8Array\` or \`ArrayBuffer\`, got \`${typeof t}\``)}function Gu(t,e){if(t.length===0)return new Uint8Array(0);e??(e=t.reduce((s,i)=>s+i.length,0));const n=new Uint8Array(e);let r=0;for(const s of t)qj(s),n.set(s,r),r+=s.length;return n}const Wo={utf8:new globalThis.TextDecoder("utf8")};function Ko(t,e="utf8"){return Mj(t),Wo[e]??(Wo[e]=new globalThis.TextDecoder(e)),Wo[e].decode(t)}function Fj(t){if(typeof t!="string")throw new TypeError(`Expected \`string\`, got \`${typeof t}\``)}const Uj=new globalThis.TextEncoder;function Jo(t){return Fj(t),Uj.encode(t)}Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));const Hu="aes-256-cbc",lr=()=>Object.create(null),ly=t=>t!==void 0,Qu=(t,e)=>{const n=new Set(["undefined","symbol","function"]),r=typeof e;if(n.has(r))throw new TypeError(`Setting a value of type \`${r}\` for key \`${t}\` is not allowed as it's not supported by JSON`)},dr="__internal__",Wu=`${dr}.migrations.version`;var vr,Xt,vt,zt,is,as,hi,vn,Ke,V_,G_,H_,Q_,W_,K_,J_,Y_;class Bj{constructor(e={}){j(this,Ke);v(this,"path");v(this,"events");j(this,vr);j(this,Xt);j(this,vt);j(this,zt,{});j(this,is,!1);j(this,as);j(this,hi);j(this,vn);v(this,"_deserialize",e=>JSON.parse(e));v(this,"_serialize",e=>JSON.stringify(e,void 0,"	"));const n=P(this,Ke,V_).call(this,e);E(this,vt,n),P(this,Ke,G_).call(this,n),P(this,Ke,Q_).call(this,n),P(this,Ke,W_).call(this,n),this.events=new EventTarget,E(this,Xt,n.encryptionKey),this.path=P(this,Ke,K_).call(this,n),P(this,Ke,J_).call(this,n),n.watch&&this._watch()}get(e,n){if(d(this,vt).accessPropertiesByDotNotation)return this._get(e,n);const{store:r}=this;return e in r?r[e]:n}set(e,n){if(typeof e!="string"&&typeof e!="object")throw new TypeError(`Expected \`key\` to be of type \`string\` or \`object\`, got ${typeof e}`);if(typeof e!="object"&&n===void 0)throw new TypeError("Use `delete()` to clear values");if(this._containsReservedKey(e))throw new TypeError(`Please don't use the ${dr} key, as it's used to manage this module internal operations.`);const{store:r}=this,s=(i,a)=>{if(Qu(i,a),d(this,vt).accessPropertiesByDotNotation)jo(r,i,a);else{if(i==="__proto__"||i==="constructor"||i==="prototype")return;r[i]=a}};if(typeof e=="object"){const i=e;for(const[a,o]of Object.entries(i))s(a,o)}else s(e,n);this.store=r}has(e){return d(this,vt).accessPropertiesByDotNotation?Au(this.store,e):e in this.store}appendToArray(e,n){Qu(e,n);const r=d(this,vt).accessPropertiesByDotNotation?this._get(e,[]):e in this.store?this.store[e]:[];if(!Array.isArray(r))throw new TypeError(`The key \`${e}\` is already set to a non-array value`);this.set(e,[...r,n])}reset(...e){for(const n of e)ly(d(this,zt)[n])&&this.set(n,d(this,zt)[n])}delete(e){const{store:n}=this;d(this,vt).accessPropertiesByDotNotation?c1(n,e):delete n[e],this.store=n}clear(){const e=lr();for(const n of Object.keys(d(this,zt)))ly(d(this,zt)[n])&&(Qu(n,d(this,zt)[n]),d(this,vt).accessPropertiesByDotNotation?jo(e,n,d(this,zt)[n]):e[n]=d(this,zt)[n]);this.store=e}onDidChange(e,n){if(typeof e!="string")throw new TypeError(`Expected \`key\` to be of type \`string\`, got ${typeof e}`);if(typeof n!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof n}`);return this._handleValueChange(()=>this.get(e),n)}onDidAnyChange(e){if(typeof e!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof e}`);return this._handleStoreChange(e)}get size(){return Object.keys(this.store).filter(n=>!this._isReservedKeyPath(n)).length}get store(){var e;try{const n=oe.readFileSync(this.path,d(this,Xt)?null:"utf8"),r=this._decryptData(n),s=this._deserialize(r);return d(this,is)||this._validate(s),Object.assign(lr(),s)}catch(n){if((n==null?void 0:n.code)==="ENOENT")return this._ensureDirectory(),lr();if(d(this,vt).clearInvalidConfig){const r=n;if(r.name==="SyntaxError"||(e=r.message)!=null&&e.startsWith("Config schema violation:"))return lr()}throw n}}set store(e){if(this._ensureDirectory(),!Au(e,dr))try{const n=oe.readFileSync(this.path,d(this,Xt)?null:"utf8"),r=this._decryptData(n),s=this._deserialize(r);Au(s,dr)&&jo(e,dr,lm(s,dr))}catch{}d(this,is)||this._validate(e),this._write(e),this.events.dispatchEvent(new Event("change"))}*[Symbol.iterator](){for(const[e,n]of Object.entries(this.store))this._isReservedKeyPath(e)||(yield[e,n])}_closeWatcher(){d(this,as)&&(d(this,as).close(),E(this,as,void 0)),d(this,hi)&&(oe.unwatchFile(this.path),E(this,hi,!1)),E(this,vn,void 0)}_decryptData(e){if(!d(this,Xt))return typeof e=="string"?e:Ko(e);try{const n=e.slice(0,16),r=ur.pbkdf2Sync(d(this,Xt),n,1e4,32,"sha512"),s=ur.createDecipheriv(Hu,r,n),i=e.slice(17),a=typeof i=="string"?Jo(i):i;return Ko(Gu([s.update(a),s.final()]))}catch{try{const n=e.slice(0,16),r=ur.pbkdf2Sync(d(this,Xt),n.toString(),1e4,32,"sha512"),s=ur.createDecipheriv(Hu,r,n),i=e.slice(17),a=typeof i=="string"?Jo(i):i;return Ko(Gu([s.update(a),s.final()]))}catch{}}return typeof e=="string"?e:Ko(e)}_handleStoreChange(e){let n=this.store;const r=()=>{const s=n,i=this.store;Be.isDeepStrictEqual(i,s)||(n=i,e.call(this,i,s))};return this.events.addEventListener("change",r),()=>{this.events.removeEventListener("change",r)}}_handleValueChange(e,n){let r=e();const s=()=>{const i=r,a=e();Be.isDeepStrictEqual(a,i)||(r=a,n.call(this,a,i))};return this.events.addEventListener("change",s),()=>{this.events.removeEventListener("change",s)}}_validate(e){if(!d(this,vr)||d(this,vr).call(this,e)||!d(this,vr).errors)return;const r=d(this,vr).errors.map(({instancePath:s,message:i=""})=>`\`${s.slice(1)}\` ${i}`);throw new Error("Config schema violation: "+r.join("; "))}_ensureDirectory(){oe.mkdirSync(me.dirname(this.path),{recursive:!0})}_write(e){let n=this._serialize(e);if(d(this,Xt)){const r=ur.randomBytes(16),s=ur.pbkdf2Sync(d(this,Xt),r,1e4,32,"sha512"),i=ur.createCipheriv(Hu,s,r);n=Gu([r,Jo(":"),i.update(Jo(n)),i.final()])}if(Ie.env.SNAP)oe.writeFileSync(this.path,n,{mode:d(this,vt).configFileMode});else try{kw(this.path,n,{mode:d(this,vt).configFileMode})}catch(r){if((r==null?void 0:r.code)==="EXDEV"){oe.writeFileSync(this.path,n,{mode:d(this,vt).configFileMode});return}throw r}}_watch(){if(this._ensureDirectory(),oe.existsSync(this.path)||this._write(lr()),Ie.platform==="win32"||Ie.platform==="darwin"){d(this,vn)??E(this,vn,zm(()=>{this.events.dispatchEvent(new Event("change"))},{wait:100}));const e=me.dirname(this.path),n=me.basename(this.path);E(this,as,oe.watch(e,{persistent:!1,encoding:"utf8"},(r,s)=>{s&&s!==n||typeof d(this,vn)=="function"&&d(this,vn).call(this)}))}else d(this,vn)??E(this,vn,zm(()=>{this.events.dispatchEvent(new Event("change"))},{wait:1e3})),oe.watchFile(this.path,{persistent:!1},(e,n)=>{typeof d(this,vn)=="function"&&d(this,vn).call(this)}),E(this,hi,!0)}_migrate(e,n,r){let s=this._get(Wu,"0.0.0");const i=Object.keys(e).filter(o=>this._shouldPerformMigration(o,s,n));let a=structuredClone(this.store);for(const o of i)try{r&&r(this,{fromVersion:s,toVersion:o,finalVersion:n,versions:i});const c=e[o];c==null||c(this),this._set(Wu,o),s=o,a=structuredClone(this.store)}catch(c){this.store=a;try{this._write(a)}catch{}const l=c instanceof Error?c.message:String(c);throw new Error(`Something went wrong during the migration! Changes applied to the store until this failed migration will be restored. ${l}`)}(this._isVersionInRangeFormat(s)||!Ds.eq(s,n))&&this._set(Wu,n)}_containsReservedKey(e){return typeof e=="string"?this._isReservedKeyPath(e):!e||typeof e!="object"?!1:this._objectContainsReservedKey(e)}_objectContainsReservedKey(e){if(!e||typeof e!="object")return!1;for(const[n,r]of Object.entries(e))if(this._isReservedKeyPath(n)||this._objectContainsReservedKey(r))return!0;return!1}_isReservedKeyPath(e){return e===dr||e.startsWith(`${dr}.`)}_isVersionInRangeFormat(e){return Ds.clean(e)===null}_shouldPerformMigration(e,n,r){return this._isVersionInRangeFormat(e)?n!=="0.0.0"&&Ds.satisfies(n,e)?!1:Ds.satisfies(r,e):!(Ds.lte(e,n)||Ds.gt(e,r))}_get(e,n){return lm(this.store,e,n)}_set(e,n){const{store:r}=this;jo(r,e,n),this.store=r}}vr=new WeakMap,Xt=new WeakMap,vt=new WeakMap,zt=new WeakMap,is=new WeakMap,as=new WeakMap,hi=new WeakMap,vn=new WeakMap,Ke=new WeakSet,V_=function(e){const n={configName:"config",fileExtension:"json",projectSuffix:"nodejs",clearInvalidConfig:!1,accessPropertiesByDotNotation:!0,configFileMode:438,...e};if(!n.cwd){if(!n.projectName)throw new Error("Please specify the `projectName` option.");n.cwd=d1(n.projectName,{suffix:n.projectSuffix}).config}return typeof n.fileExtension=="string"&&(n.fileExtension=n.fileExtension.replace(/^\.+/,"")),n},G_=function(e){if(!(e.schema??e.ajvOptions??e.rootSchema))return;if(e.schema&&typeof e.schema!="object")throw new TypeError("The `schema` option must be an object.");const n=AI.default,r=new yI.Ajv2020({allErrors:!0,useDefaults:!0,...e.ajvOptions});n(r);const s={...e.rootSchema,type:"object",properties:e.schema};E(this,vr,r.compile(s)),P(this,Ke,H_).call(this,e.schema)},H_=function(e){const n=Object.entries(e??{});for(const[r,s]of n){if(!s||typeof s!="object"||!Object.hasOwn(s,"default"))continue;const{default:i}=s;i!==void 0&&(d(this,zt)[r]=i)}},Q_=function(e){e.defaults&&Object.assign(d(this,zt),e.defaults)},W_=function(e){e.serialize&&(this._serialize=e.serialize),e.deserialize&&(this._deserialize=e.deserialize)},K_=function(e){const n=typeof e.fileExtension=="string"?e.fileExtension:void 0,r=n?`.${n}`:"";return me.resolve(e.cwd,`${e.configName??"config"}${r}`)},J_=function(e){if(e.migrations){P(this,Ke,Y_).call(this,e),this._validate(this.store);return}const n=this.store,r=Object.assign(lr(),e.defaults??{},n);this._validate(r);try{nm.deepEqual(n,r)}catch{this.store=r}},Y_=function(e){const{migrations:n,projectVersion:r}=e;if(n){if(!r)throw new Error("Please specify the `projectVersion` option.");E(this,is,!0);try{const s=this.store,i=Object.assign(lr(),e.defaults??{},s);try{nm.deepEqual(s,i)}catch{this._write(i)}this._migrate(n,r,e.beforeEachMigration)}finally{E(this,is,!1)}}};const{app:yc,ipcMain:Jp,shell:Dj}=ke;let uy=!1;const py=()=>{if(!Jp||!yc)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");const t={defaultCwd:yc.getPath("userData"),appVersion:yc.getVersion()};return uy||(Jp.on("electron-store-get-data",e=>{e.returnValue=t}),uy=!0),t};class zj extends Bj{constructor(e){let n,r;if(Ie.type==="renderer"){const s=ke.ipcRenderer.sendSync("electron-store-get-data");if(!s)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");({defaultCwd:n,appVersion:r}=s)}else Jp&&yc&&({defaultCwd:n,appVersion:r}=py());e={name:"config",...e},e.projectVersion||(e.projectVersion=r),e.cwd?e.cwd=me.isAbsolute(e.cwd)?e.cwd:me.join(n,e.cwd):e.cwd=n,e.configName=e.name,delete e.name,super(e)}static initRenderer(){py()}async openInEditor(){const e=await Dj.openPath(this.path);if(e)throw new Error(e)}}const X_=new zj;function Z_(t){return X_.get(t)}function Vj(t,e){return X_.set(t,e)}function e0(t,e){return function(){return t.apply(e,arguments)}}const{toString:Gj}=Object.prototype,{getPrototypeOf:oh}=Object,{iterator:Ul,toStringTag:t0}=Symbol,Bl=(t=>e=>{const n=Gj.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),dn=t=>(t=t.toLowerCase(),e=>Bl(e)===t),Dl=t=>e=>typeof e===t,{isArray:na}=Array,qi=Dl("undefined");function mo(t){return t!==null&&!qi(t)&&t.constructor!==null&&!qi(t.constructor)&&Tt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const n0=dn("ArrayBuffer");function Hj(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&n0(t.buffer),e}const Qj=Dl("string"),Tt=Dl("function"),r0=Dl("number"),yo=t=>t!==null&&typeof t=="object",Wj=t=>t===!0||t===!1,gc=t=>{if(Bl(t)!=="object")return!1;const e=oh(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(t0 in t)&&!(Ul in t)},Kj=t=>{if(!yo(t)||mo(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Jj=dn("Date"),Yj=dn("File"),Xj=dn("Blob"),Zj=dn("FileList"),eL=t=>yo(t)&&Tt(t.pipe),tL=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Tt(t.append)&&((e=Bl(t))==="formdata"||e==="object"&&Tt(t.toString)&&t.toString()==="[object FormData]"))},nL=dn("URLSearchParams"),[rL,sL,iL,aL]=["ReadableStream","Request","Response","Headers"].map(dn),oL=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function go(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),na(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{if(mo(t))return;const i=n?Object.getOwnPropertyNames(t):Object.keys(t),a=i.length;let o;for(r=0;r<a;r++)o=i[r],e.call(null,t[o],o,t)}}function s0(t,e){if(mo(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const ts=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,i0=t=>!qi(t)&&t!==ts;function Yp(){const{caseless:t,skipUndefined:e}=i0(this)&&this||{},n={},r=(s,i)=>{const a=t&&s0(n,i)||i;gc(n[a])&&gc(s)?n[a]=Yp(n[a],s):gc(s)?n[a]=Yp({},s):na(s)?n[a]=s.slice():(!e||!qi(s))&&(n[a]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&go(arguments[s],r);return n}const cL=(t,e,n,{allOwnKeys:r}={})=>(go(e,(s,i)=>{n&&Tt(s)?t[i]=e0(s,n):t[i]=s},{allOwnKeys:r}),t),lL=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),uL=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},pL=(t,e,n,r)=>{let s,i,a;const o={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)a=s[i],(!r||r(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=n!==!1&&oh(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},dL=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},fL=t=>{if(!t)return null;if(na(t))return t;let e=t.length;if(!r0(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},hL=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&oh(Uint8Array)),mL=(t,e)=>{const r=(t&&t[Ul]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},yL=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},gL=dn("HTMLFormElement"),vL=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),dy=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),bL=dn("RegExp"),a0=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};go(n,(s,i)=>{let a;(a=e(s,i,t))!==!1&&(r[i]=a||s)}),Object.defineProperties(t,r)},xL=t=>{a0(t,(e,n)=>{if(Tt(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Tt(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},wL=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return na(t)?r(t):r(String(t).split(e)),n},_L=()=>{},$L=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function SL(t){return!!(t&&Tt(t.append)&&t[t0]==="FormData"&&t[Ul])}const EL=t=>{const e=new Array(10),n=(r,s)=>{if(yo(r)){if(e.indexOf(r)>=0)return;if(mo(r))return r;if(!("toJSON"in r)){e[s]=r;const i=na(r)?[]:{};return go(r,(a,o)=>{const c=n(a,s+1);!qi(c)&&(i[o]=c)}),e[s]=void 0,i}}return r};return n(t,0)},RL=dn("AsyncFunction"),TL=t=>t&&(yo(t)||Tt(t))&&Tt(t.then)&&Tt(t.catch),o0=((t,e)=>t?setImmediate:e?((n,r)=>(ts.addEventListener("message",({source:s,data:i})=>{s===ts&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),ts.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Tt(ts.postMessage)),OL=typeof queueMicrotask<"u"?queueMicrotask.bind(ts):typeof process<"u"&&process.nextTick||o0,CL=t=>t!=null&&Tt(t[Ul]),T={isArray:na,isArrayBuffer:n0,isBuffer:mo,isFormData:tL,isArrayBufferView:Hj,isString:Qj,isNumber:r0,isBoolean:Wj,isObject:yo,isPlainObject:gc,isEmptyObject:Kj,isReadableStream:rL,isRequest:sL,isResponse:iL,isHeaders:aL,isUndefined:qi,isDate:Jj,isFile:Yj,isBlob:Xj,isRegExp:bL,isFunction:Tt,isStream:eL,isURLSearchParams:nL,isTypedArray:hL,isFileList:Zj,forEach:go,merge:Yp,extend:cL,trim:oL,stripBOM:lL,inherits:uL,toFlatObject:pL,kindOf:Bl,kindOfTest:dn,endsWith:dL,toArray:fL,forEachEntry:mL,matchAll:yL,isHTMLForm:gL,hasOwnProperty:dy,hasOwnProp:dy,reduceDescriptors:a0,freezeMethods:xL,toObjectSet:wL,toCamelCase:vL,noop:_L,toFiniteNumber:$L,findKey:s0,global:ts,isContextDefined:i0,isSpecCompliantForm:SL,toJSONObject:EL,isAsyncFn:RL,isThenable:TL,setImmediate:o0,asap:OL,isIterable:CL};function W(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}T.inherits(W,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:T.toJSONObject(this.config),code:this.code,status:this.status}}});const c0=W.prototype,l0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{l0[t]={value:t}});Object.defineProperties(W,l0);Object.defineProperty(c0,"isAxiosError",{value:!0});W.from=(t,e,n,r,s,i)=>{const a=Object.create(c0);T.toFlatObject(t,a,function(u){return u!==Error.prototype},l=>l!=="isAxiosError");const o=t&&t.message?t.message:"Error",c=e==null&&t?t.code:e;return W.call(a,o,c,n,r,s),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",i&&Object.assign(a,i),a};var u0=Me.Stream,NL=ks,AL=fn;function fn(){this.source=null,this.dataSize=0,this.maxDataSize=1024*1024,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}NL.inherits(fn,u0);fn.create=function(t,e){var n=new this;e=e||{};for(var r in e)n[r]=e[r];n.source=t;var s=t.emit;return t.emit=function(){return n._handleEmit(arguments),s.apply(t,arguments)},t.on("error",function(){}),n.pauseStream&&t.pause(),n};Object.defineProperty(fn.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}});fn.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)};fn.prototype.resume=function(){this._released||this.release(),this.source.resume()};fn.prototype.pause=function(){this.source.pause()};fn.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach((function(t){this.emit.apply(this,t)}).bind(this)),this._bufferedEvents=[]};fn.prototype.pipe=function(){var t=u0.prototype.pipe.apply(this,arguments);return this.resume(),t};fn.prototype._handleEmit=function(t){if(this._released){this.emit.apply(this,t);return}t[0]==="data"&&(this.dataSize+=t[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(t)};fn.prototype._checkIfMaxDataSizeExceeded=function(){if(!this._maxDataSizeExceeded&&!(this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var t="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",new Error(t))}};var IL=ks,p0=Me.Stream,fy=AL,PL=Ee;function Ee(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2*1024*1024,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}IL.inherits(Ee,p0);Ee.create=function(t){var e=new this;t=t||{};for(var n in t)e[n]=t[n];return e};Ee.isStreamLike=function(t){return typeof t!="function"&&typeof t!="string"&&typeof t!="boolean"&&typeof t!="number"&&!Buffer.isBuffer(t)};Ee.prototype.append=function(t){var e=Ee.isStreamLike(t);if(e){if(!(t instanceof fy)){var n=fy.create(t,{maxDataSize:1/0,pauseStream:this.pauseStreams});t.on("data",this._checkDataSize.bind(this)),t=n}this._handleErrors(t),this.pauseStreams&&t.pause()}return this._streams.push(t),this};Ee.prototype.pipe=function(t,e){return p0.prototype.pipe.call(this,t,e),this.resume(),t};Ee.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop){this._pendingNext=!0;return}this._insideLoop=!0;try{do this._pendingNext=!1,this._realGetNext();while(this._pendingNext)}finally{this._insideLoop=!1}};Ee.prototype._realGetNext=function(){var t=this._streams.shift();if(typeof t>"u"){this.end();return}if(typeof t!="function"){this._pipeNext(t);return}var e=t;e((function(n){var r=Ee.isStreamLike(n);r&&(n.on("data",this._checkDataSize.bind(this)),this._handleErrors(n)),this._pipeNext(n)}).bind(this))};Ee.prototype._pipeNext=function(t){this._currentStream=t;var e=Ee.isStreamLike(t);if(e){t.on("end",this._getNext.bind(this)),t.pipe(this,{end:!1});return}var n=t;this.write(n),this._getNext()};Ee.prototype._handleErrors=function(t){var e=this;t.on("error",function(n){e._emitError(n)})};Ee.prototype.write=function(t){this.emit("data",t)};Ee.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&typeof this._currentStream.pause=="function"&&this._currentStream.pause(),this.emit("pause"))};Ee.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&typeof this._currentStream.resume=="function"&&this._currentStream.resume(),this.emit("resume")};Ee.prototype.end=function(){this._reset(),this.emit("end")};Ee.prototype.destroy=function(){this._reset(),this.emit("close")};Ee.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null};Ee.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var t="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(new Error(t))}};Ee.prototype._updateDataSize=function(){this.dataSize=0;var t=this;this._streams.forEach(function(e){e.dataSize&&(t.dataSize+=e.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)};Ee.prototype._emitError=function(t){this._reset(),this.emit("error",t)};var d0={};const kL={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/city+json":{source:"iana",compressible:!0},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0,extensions:["cpl"]},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dash-patch+xml":{source:"iana",compressible:!0,extensions:["mpp"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0,extensions:["mpf"]},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/oblivious-dns-message":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana",extensions:["asc"]},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.eclipse.ditto+json":{source:"iana",compressible:!0},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eu.kasparian.car+json":{source:"iana",compressible:!0},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.familysearch.gedcom+zip":{source:"iana",compressible:!1},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hl7cda+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hl7v2+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxar.archive.3tz+zip":{source:"iana",compressible:!1},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.syft+json":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0,extensions:["wif"]},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana",extensions:["avci"]},"image/avcs":{source:"iana",extensions:["avcs"]},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}};/*!
 * mime-db
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015-2022 Douglas Christopher Wilson
 * MIT Licensed
 */var jL=kL;/*!
 * mime-types
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */(function(t){var e=jL,n=qr.extname,r=/^\s*([^;\s]*)(?:;|\s|$)/,s=/^text\//i;t.charset=i,t.charsets={lookup:i},t.contentType=a,t.extension=o,t.extensions=Object.create(null),t.lookup=c,t.types=Object.create(null),l(t.extensions,t.types);function i(u){if(!u||typeof u!="string")return!1;var p=r.exec(u),h=p&&e[p[1].toLowerCase()];return h&&h.charset?h.charset:p&&s.test(p[1])?"UTF-8":!1}function a(u){if(!u||typeof u!="string")return!1;var p=u.indexOf("/")===-1?t.lookup(u):u;if(!p)return!1;if(p.indexOf("charset")===-1){var h=t.charset(p);h&&(p+="; charset="+h.toLowerCase())}return p}function o(u){if(!u||typeof u!="string")return!1;var p=r.exec(u),h=p&&t.extensions[p[1].toLowerCase()];return!h||!h.length?!1:h[0]}function c(u){if(!u||typeof u!="string")return!1;var p=n("x."+u).toLowerCase().substr(1);return p&&t.types[p]||!1}function l(u,p){var h=["nginx","apache",void 0,"iana"];Object.keys(e).forEach(function(f){var m=e[f],g=m.extensions;if(!(!g||!g.length)){u[f]=g;for(var b=0;b<g.length;b++){var _=g[b];if(p[_]){var S=h.indexOf(e[p[_]].source),C=h.indexOf(m.source);if(p[_]!=="application/octet-stream"&&(S>C||S===C&&p[_].substr(0,12)==="application/"))continue}p[_]=f}}})}})(d0);var LL=qL;function qL(t){var e=typeof setImmediate=="function"?setImmediate:typeof process=="object"&&typeof process.nextTick=="function"?process.nextTick:null;e?e(t):setTimeout(t,0)}var hy=LL,f0=ML;function ML(t){var e=!1;return hy(function(){e=!0}),function(r,s){e?t(r,s):hy(function(){t(r,s)})}}var h0=FL;function FL(t){Object.keys(t.jobs).forEach(UL.bind(t)),t.jobs={}}function UL(t){typeof this.jobs[t]=="function"&&this.jobs[t]()}var my=f0,BL=h0,m0=DL;function DL(t,e,n,r){var s=n.keyedList?n.keyedList[n.index]:n.index;n.jobs[s]=zL(e,s,t[s],function(i,a){s in n.jobs&&(delete n.jobs[s],i?BL(n):n.results[s]=a,r(i,n.results))})}function zL(t,e,n,r){var s;return t.length==2?s=t(n,my(r)):s=t(n,e,my(r)),s}var y0=VL;function VL(t,e){var n=!Array.isArray(t),r={index:0,keyedList:n||e?Object.keys(t):null,jobs:{},results:n?{}:[],size:n?Object.keys(t).length:t.length};return e&&r.keyedList.sort(n?e:function(s,i){return e(t[s],t[i])}),r}var GL=h0,HL=f0,g0=QL;function QL(t){Object.keys(this.jobs).length&&(this.index=this.size,GL(this),HL(t)(null,this.results))}var WL=m0,KL=y0,JL=g0,YL=XL;function XL(t,e,n){for(var r=KL(t);r.index<(r.keyedList||t).length;)WL(t,e,r,function(s,i){if(s){n(s,i);return}if(Object.keys(r.jobs).length===0){n(null,r.results);return}}),r.index++;return JL.bind(r,n)}var zl={exports:{}},yy=m0,ZL=y0,e2=g0;zl.exports=t2;zl.exports.ascending=v0;zl.exports.descending=n2;function t2(t,e,n,r){var s=ZL(t,n);return yy(t,e,s,function i(a,o){if(a){r(a,o);return}if(s.index++,s.index<(s.keyedList||t).length){yy(t,e,s,i);return}r(null,s.results)}),e2.bind(s,r)}function v0(t,e){return t<e?-1:t>e?1:0}function n2(t,e){return-1*v0(t,e)}var b0=zl.exports,r2=b0,s2=i2;function i2(t,e,n){return r2(t,e,null,n)}var a2={parallel:YL,serial:s2,serialOrdered:b0},x0=Object,o2=Error,c2=EvalError,l2=RangeError,u2=ReferenceError,p2=SyntaxError,ch=TypeError,d2=URIError,f2=Math.abs,h2=Math.floor,m2=Math.max,y2=Math.min,g2=Math.pow,v2=Math.round,b2=Number.isNaN||function(e){return e!==e},x2=b2,w2=function(e){return x2(e)||e===0?e:e<0?-1:1},_2=Object.getOwnPropertyDescriptor,vc=_2;if(vc)try{vc([],"length")}catch{vc=null}var w0=vc,bc=Object.defineProperty||!1;if(bc)try{bc({},"a",{value:1})}catch{bc=!1}var $2=bc,Ku,gy;function _0(){return gy||(gy=1,Ku=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var s=42;e[n]=s;for(var i in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,n);if(o.value!==s||o.enumerable!==!0)return!1}return!0}),Ku}var Ju,vy;function S2(){if(vy)return Ju;vy=1;var t=typeof Symbol<"u"&&Symbol,e=_0();return Ju=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Ju}var Yu,by;function $0(){return by||(by=1,Yu=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Yu}var Xu,xy;function S0(){if(xy)return Xu;xy=1;var t=x0;return Xu=t.getPrototypeOf||null,Xu}var E2="Function.prototype.bind called on incompatible ",R2=Object.prototype.toString,T2=Math.max,O2="[object Function]",wy=function(e,n){for(var r=[],s=0;s<e.length;s+=1)r[s]=e[s];for(var i=0;i<n.length;i+=1)r[i+e.length]=n[i];return r},C2=function(e,n){for(var r=[],s=n,i=0;s<e.length;s+=1,i+=1)r[i]=e[s];return r},N2=function(t,e){for(var n="",r=0;r<t.length;r+=1)n+=t[r],r+1<t.length&&(n+=e);return n},A2=function(e){var n=this;if(typeof n!="function"||R2.apply(n)!==O2)throw new TypeError(E2+n);for(var r=C2(arguments,1),s,i=function(){if(this instanceof s){var u=n.apply(this,wy(r,arguments));return Object(u)===u?u:this}return n.apply(e,wy(r,arguments))},a=T2(0,n.length-r.length),o=[],c=0;c<a;c++)o[c]="$"+c;if(s=Function("binder","return function ("+N2(o,",")+"){ return binder.apply(this,arguments); }")(i),n.prototype){var l=function(){};l.prototype=n.prototype,s.prototype=new l,l.prototype=null}return s},I2=A2,Vl=Function.prototype.bind||I2,Zu,_y;function lh(){return _y||(_y=1,Zu=Function.prototype.call),Zu}var ep,$y;function E0(){return $y||($y=1,ep=Function.prototype.apply),ep}var tp,Sy;function P2(){return Sy||(Sy=1,tp=typeof Reflect<"u"&&Reflect&&Reflect.apply),tp}var np,Ey;function k2(){if(Ey)return np;Ey=1;var t=Vl,e=E0(),n=lh(),r=P2();return np=r||t.call(n,e),np}var rp,Ry;function j2(){if(Ry)return rp;Ry=1;var t=Vl,e=ch,n=lh(),r=k2();return rp=function(i){if(i.length<1||typeof i[0]!="function")throw new e("a function is required");return r(t,n,i)},rp}var sp,Ty;function L2(){if(Ty)return sp;Ty=1;var t=j2(),e=w0,n;try{n=[].__proto__===Array.prototype}catch(a){if(!a||typeof a!="object"||!("code"in a)||a.code!=="ERR_PROTO_ACCESS")throw a}var r=!!n&&e&&e(Object.prototype,"__proto__"),s=Object,i=s.getPrototypeOf;return sp=r&&typeof r.get=="function"?t([r.get]):typeof i=="function"?function(o){return i(o==null?o:s(o))}:!1,sp}var ip,Oy;function q2(){if(Oy)return ip;Oy=1;var t=$0(),e=S0(),n=L2();return ip=t?function(s){return t(s)}:e?function(s){if(!s||typeof s!="object"&&typeof s!="function")throw new TypeError("getProto: not an object");return e(s)}:n?function(s){return n(s)}:null,ip}var M2=Function.prototype.call,F2=Object.prototype.hasOwnProperty,U2=Vl,uh=U2.call(M2,F2),ue,B2=x0,D2=o2,z2=c2,V2=l2,G2=u2,Mi=p2,ui=ch,H2=d2,Q2=f2,W2=h2,K2=m2,J2=y2,Y2=g2,X2=v2,Z2=w2,R0=Function,ap=function(t){try{return R0('"use strict"; return ('+t+").constructor;")()}catch{}},za=w0,eq=$2,op=function(){throw new ui},tq=za?function(){try{return arguments.callee,op}catch{try{return za(arguments,"callee").get}catch{return op}}}():op,zs=S2()(),Ge=q2(),nq=S0(),rq=$0(),T0=E0(),vo=lh(),Ks={},sq=typeof Uint8Array>"u"||!Ge?ue:Ge(Uint8Array),vs={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?ue:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?ue:ArrayBuffer,"%ArrayIteratorPrototype%":zs&&Ge?Ge([][Symbol.iterator]()):ue,"%AsyncFromSyncIteratorPrototype%":ue,"%AsyncFunction%":Ks,"%AsyncGenerator%":Ks,"%AsyncGeneratorFunction%":Ks,"%AsyncIteratorPrototype%":Ks,"%Atomics%":typeof Atomics>"u"?ue:Atomics,"%BigInt%":typeof BigInt>"u"?ue:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?ue:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?ue:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?ue:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":D2,"%eval%":eval,"%EvalError%":z2,"%Float16Array%":typeof Float16Array>"u"?ue:Float16Array,"%Float32Array%":typeof Float32Array>"u"?ue:Float32Array,"%Float64Array%":typeof Float64Array>"u"?ue:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?ue:FinalizationRegistry,"%Function%":R0,"%GeneratorFunction%":Ks,"%Int8Array%":typeof Int8Array>"u"?ue:Int8Array,"%Int16Array%":typeof Int16Array>"u"?ue:Int16Array,"%Int32Array%":typeof Int32Array>"u"?ue:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":zs&&Ge?Ge(Ge([][Symbol.iterator]())):ue,"%JSON%":typeof JSON=="object"?JSON:ue,"%Map%":typeof Map>"u"?ue:Map,"%MapIteratorPrototype%":typeof Map>"u"||!zs||!Ge?ue:Ge(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":B2,"%Object.getOwnPropertyDescriptor%":za,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?ue:Promise,"%Proxy%":typeof Proxy>"u"?ue:Proxy,"%RangeError%":V2,"%ReferenceError%":G2,"%Reflect%":typeof Reflect>"u"?ue:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?ue:Set,"%SetIteratorPrototype%":typeof Set>"u"||!zs||!Ge?ue:Ge(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?ue:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":zs&&Ge?Ge(""[Symbol.iterator]()):ue,"%Symbol%":zs?Symbol:ue,"%SyntaxError%":Mi,"%ThrowTypeError%":tq,"%TypedArray%":sq,"%TypeError%":ui,"%Uint8Array%":typeof Uint8Array>"u"?ue:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?ue:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?ue:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?ue:Uint32Array,"%URIError%":H2,"%WeakMap%":typeof WeakMap>"u"?ue:WeakMap,"%WeakRef%":typeof WeakRef>"u"?ue:WeakRef,"%WeakSet%":typeof WeakSet>"u"?ue:WeakSet,"%Function.prototype.call%":vo,"%Function.prototype.apply%":T0,"%Object.defineProperty%":eq,"%Object.getPrototypeOf%":nq,"%Math.abs%":Q2,"%Math.floor%":W2,"%Math.max%":K2,"%Math.min%":J2,"%Math.pow%":Y2,"%Math.round%":X2,"%Math.sign%":Z2,"%Reflect.getPrototypeOf%":rq};if(Ge)try{null.error}catch(t){var iq=Ge(Ge(t));vs["%Error.prototype%"]=iq}var aq=function t(e){var n;if(e==="%AsyncFunction%")n=ap("async function () {}");else if(e==="%GeneratorFunction%")n=ap("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=ap("async function* () {}");else if(e==="%AsyncGenerator%"){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var s=t("%AsyncGenerator%");s&&Ge&&(n=Ge(s.prototype))}return vs[e]=n,n},Cy={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bo=Vl,Mc=uh,oq=bo.call(vo,Array.prototype.concat),cq=bo.call(T0,Array.prototype.splice),Ny=bo.call(vo,String.prototype.replace),Fc=bo.call(vo,String.prototype.slice),lq=bo.call(vo,RegExp.prototype.exec),uq=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,pq=/\\(\\)?/g,dq=function(e){var n=Fc(e,0,1),r=Fc(e,-1);if(n==="%"&&r!=="%")throw new Mi("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new Mi("invalid intrinsic syntax, expected opening `%`");var s=[];return Ny(e,uq,function(i,a,o,c){s[s.length]=o?Ny(c,pq,"$1"):a||i}),s},fq=function(e,n){var r=e,s;if(Mc(Cy,r)&&(s=Cy[r],r="%"+s[0]+"%"),Mc(vs,r)){var i=vs[r];if(i===Ks&&(i=aq(r)),typeof i>"u"&&!n)throw new ui("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:s,name:r,value:i}}throw new Mi("intrinsic "+e+" does not exist!")},hq=function(e,n){if(typeof e!="string"||e.length===0)throw new ui("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new ui('"allowMissing" argument must be a boolean');if(lq(/^%?[^%]*%?$/,e)===null)throw new Mi("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=dq(e),s=r.length>0?r[0]:"",i=fq("%"+s+"%",n),a=i.name,o=i.value,c=!1,l=i.alias;l&&(s=l[0],cq(r,oq([0,1],l)));for(var u=1,p=!0;u<r.length;u+=1){var h=r[u],y=Fc(h,0,1),f=Fc(h,-1);if((y==='"'||y==="'"||y==="`"||f==='"'||f==="'"||f==="`")&&y!==f)throw new Mi("property names with quotes must have matching quotes");if((h==="constructor"||!p)&&(c=!0),s+="."+h,a="%"+s+"%",Mc(vs,a))o=vs[a];else if(o!=null){if(!(h in o)){if(!n)throw new ui("base intrinsic for "+e+" exists, but the property is not available.");return}if(za&&u+1>=r.length){var m=za(o,h);p=!!m,p&&"get"in m&&!("originalValue"in m.get)?o=m.get:o=o[h]}else p=Mc(o,h),o=o[h];p&&!c&&(vs[a]=o)}}return o},cp,Ay;function mq(){if(Ay)return cp;Ay=1;var t=_0();return cp=function(){return t()&&!!Symbol.toStringTag},cp}var yq=hq,Iy=yq("%Object.defineProperty%",!0),gq=mq()(),vq=uh,bq=ch,Yo=gq?Symbol.toStringTag:null,xq=function(e,n){var r=arguments.length>2&&!!arguments[2]&&arguments[2].force,s=arguments.length>2&&!!arguments[2]&&arguments[2].nonConfigurable;if(typeof r<"u"&&typeof r!="boolean"||typeof s<"u"&&typeof s!="boolean")throw new bq("if provided, the `overrideIfSet` and `nonConfigurable` options must be booleans");Yo&&(r||!vq(e,Yo))&&(Iy?Iy(e,Yo,{configurable:!s,enumerable:!1,value:n,writable:!1}):e[Yo]=n)},wq=function(t,e){return Object.keys(e).forEach(function(n){t[n]=t[n]||e[n]}),t},ph=PL,_q=ks,lp=qr,$q=xl,Sq=wl,Eq=Ki.parse,Rq=vl,Tq=Me.Stream,Oq=uo,up=d0,Cq=a2,Nq=xq,Ar=uh,Xp=wq;function he(t){if(!(this instanceof he))return new he(t);this._overheadLength=0,this._valueLength=0,this._valuesToMeasure=[],ph.call(this),t=t||{};for(var e in t)this[e]=t[e]}_q.inherits(he,ph);he.LINE_BREAK=`\r
`;he.DEFAULT_CONTENT_TYPE="application/octet-stream";he.prototype.append=function(t,e,n){n=n||{},typeof n=="string"&&(n={filename:n});var r=ph.prototype.append.bind(this);if((typeof e=="number"||e==null)&&(e=String(e)),Array.isArray(e)){this._error(new Error("Arrays are not supported."));return}var s=this._multiPartHeader(t,e,n),i=this._multiPartFooter();r(s),r(e),r(i),this._trackLength(s,e,n)};he.prototype._trackLength=function(t,e,n){var r=0;n.knownLength!=null?r+=Number(n.knownLength):Buffer.isBuffer(e)?r=e.length:typeof e=="string"&&(r=Buffer.byteLength(e)),this._valueLength+=r,this._overheadLength+=Buffer.byteLength(t)+he.LINE_BREAK.length,!(!e||!e.path&&!(e.readable&&Ar(e,"httpVersion"))&&!(e instanceof Tq))&&(n.knownLength||this._valuesToMeasure.push(e))};he.prototype._lengthRetriever=function(t,e){Ar(t,"fd")?t.end!=null&&t.end!=1/0&&t.start!=null?e(null,t.end+1-(t.start?t.start:0)):Rq.stat(t.path,function(n,r){if(n){e(n);return}var s=r.size-(t.start?t.start:0);e(null,s)}):Ar(t,"httpVersion")?e(null,Number(t.headers["content-length"])):Ar(t,"httpModule")?(t.on("response",function(n){t.pause(),e(null,Number(n.headers["content-length"]))}),t.resume()):e("Unknown stream")};he.prototype._multiPartHeader=function(t,e,n){if(typeof n.header=="string")return n.header;var r=this._getContentDisposition(e,n),s=this._getContentType(e,n),i="",a={"Content-Disposition":["form-data",'name="'+t+'"'].concat(r||[]),"Content-Type":[].concat(s||[])};typeof n.header=="object"&&Xp(a,n.header);var o;for(var c in a)if(Ar(a,c)){if(o=a[c],o==null)continue;Array.isArray(o)||(o=[o]),o.length&&(i+=c+": "+o.join("; ")+he.LINE_BREAK)}return"--"+this.getBoundary()+he.LINE_BREAK+i+he.LINE_BREAK};he.prototype._getContentDisposition=function(t,e){var n;if(typeof e.filepath=="string"?n=lp.normalize(e.filepath).replace(/\\/g,"/"):e.filename||t&&(t.name||t.path)?n=lp.basename(e.filename||t&&(t.name||t.path)):t&&t.readable&&Ar(t,"httpVersion")&&(n=lp.basename(t.client._httpMessage.path||"")),n)return'filename="'+n+'"'};he.prototype._getContentType=function(t,e){var n=e.contentType;return!n&&t&&t.name&&(n=up.lookup(t.name)),!n&&t&&t.path&&(n=up.lookup(t.path)),!n&&t&&t.readable&&Ar(t,"httpVersion")&&(n=t.headers["content-type"]),!n&&(e.filepath||e.filename)&&(n=up.lookup(e.filepath||e.filename)),!n&&t&&typeof t=="object"&&(n=he.DEFAULT_CONTENT_TYPE),n};he.prototype._multiPartFooter=function(){return(function(t){var e=he.LINE_BREAK,n=this._streams.length===0;n&&(e+=this._lastBoundary()),t(e)}).bind(this)};he.prototype._lastBoundary=function(){return"--"+this.getBoundary()+"--"+he.LINE_BREAK};he.prototype.getHeaders=function(t){var e,n={"content-type":"multipart/form-data; boundary="+this.getBoundary()};for(e in t)Ar(t,e)&&(n[e.toLowerCase()]=t[e]);return n};he.prototype.setBoundary=function(t){if(typeof t!="string")throw new TypeError("FormData boundary must be a string");this._boundary=t};he.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary};he.prototype.getBuffer=function(){for(var t=new Buffer.alloc(0),e=this.getBoundary(),n=0,r=this._streams.length;n<r;n++)typeof this._streams[n]!="function"&&(Buffer.isBuffer(this._streams[n])?t=Buffer.concat([t,this._streams[n]]):t=Buffer.concat([t,Buffer.from(this._streams[n])]),(typeof this._streams[n]!="string"||this._streams[n].substring(2,e.length+2)!==e)&&(t=Buffer.concat([t,Buffer.from(he.LINE_BREAK)])));return Buffer.concat([t,Buffer.from(this._lastBoundary())])};he.prototype._generateBoundary=function(){this._boundary="--------------------------"+Oq.randomBytes(12).toString("hex")};he.prototype.getLengthSync=function(){var t=this._overheadLength+this._valueLength;return this._streams.length&&(t+=this._lastBoundary().length),this.hasKnownLength()||this._error(new Error("Cannot calculate proper length in synchronous way.")),t};he.prototype.hasKnownLength=function(){var t=!0;return this._valuesToMeasure.length&&(t=!1),t};he.prototype.getLength=function(t){var e=this._overheadLength+this._valueLength;if(this._streams.length&&(e+=this._lastBoundary().length),!this._valuesToMeasure.length){process.nextTick(t.bind(this,null,e));return}Cq.parallel(this._valuesToMeasure,this._lengthRetriever,function(n,r){if(n){t(n);return}r.forEach(function(s){e+=s}),t(null,e)})};he.prototype.submit=function(t,e){var n,r,s={method:"post"};return typeof t=="string"?(t=Eq(t),r=Xp({port:t.port,path:t.pathname,host:t.hostname,protocol:t.protocol},s)):(r=Xp(t,s),r.port||(r.port=r.protocol==="https:"?443:80)),r.headers=this.getHeaders(t.headers),r.protocol==="https:"?n=Sq.request(r):n=$q.request(r),this.getLength((function(i,a){if(i&&i!=="Unknown stream"){this._error(i);return}if(a&&n.setHeader("Content-Length",a),this.pipe(n),e){var o,c=function(l,u){return n.removeListener("error",c),n.removeListener("response",o),e.call(this,l,u)};o=c.bind(this,null),n.on("error",c),n.on("response",o)}}).bind(this)),n};he.prototype._error=function(t){this.error||(this.error=t,this.pause(),this.emit("error",t))};he.prototype.toString=function(){return"[object FormData]"};Nq(he,"FormData");var Aq=he;const O0=nr(Aq);function Zp(t){return T.isPlainObject(t)||T.isArray(t)}function C0(t){return T.endsWith(t,"[]")?t.slice(0,-2):t}function Py(t,e,n){return t?t.concat(e).map(function(s,i){return s=C0(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function Iq(t){return T.isArray(t)&&!t.some(Zp)}const Pq=T.toFlatObject(T,{},null,function(e){return/^is[A-Z]/.test(e)});function Gl(t,e,n){if(!T.isObject(t))throw new TypeError("target must be an object");e=e||new(O0||FormData),n=T.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,g){return!T.isUndefined(g[m])});const r=n.metaTokens,s=n.visitor||u,i=n.dots,a=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&T.isSpecCompliantForm(e);if(!T.isFunction(s))throw new TypeError("visitor must be a function");function l(f){if(f===null)return"";if(T.isDate(f))return f.toISOString();if(T.isBoolean(f))return f.toString();if(!c&&T.isBlob(f))throw new W("Blob is not supported. Use a Buffer instead.");return T.isArrayBuffer(f)||T.isTypedArray(f)?c&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function u(f,m,g){let b=f;if(f&&!g&&typeof f=="object"){if(T.endsWith(m,"{}"))m=r?m:m.slice(0,-2),f=JSON.stringify(f);else if(T.isArray(f)&&Iq(f)||(T.isFileList(f)||T.endsWith(m,"[]"))&&(b=T.toArray(f)))return m=C0(m),b.forEach(function(S,C){!(T.isUndefined(S)||S===null)&&e.append(a===!0?Py([m],C,i):a===null?m:m+"[]",l(S))}),!1}return Zp(f)?!0:(e.append(Py(g,m,i),l(f)),!1)}const p=[],h=Object.assign(Pq,{defaultVisitor:u,convertValue:l,isVisitable:Zp});function y(f,m){if(!T.isUndefined(f)){if(p.indexOf(f)!==-1)throw Error("Circular reference detected in "+m.join("."));p.push(f),T.forEach(f,function(b,_){(!(T.isUndefined(b)||b===null)&&s.call(e,b,T.isString(_)?_.trim():_,m,h))===!0&&y(b,m?m.concat(_):[_])}),p.pop()}}if(!T.isObject(t))throw new TypeError("data must be an object");return y(t),e}function ky(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function N0(t,e){this._pairs=[],t&&Gl(t,this,e)}const A0=N0.prototype;A0.append=function(e,n){this._pairs.push([e,n])};A0.toString=function(e){const n=e?function(r){return e.call(this,r,ky)}:ky;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function kq(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function dh(t,e,n){if(!e)return t;const r=n&&n.encode||kq;T.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(e,n):i=T.isURLSearchParams(e)?e.toString():new N0(e,n).toString(r),i){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class jy{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){T.forEach(this.handlers,function(r){r!==null&&e(r)})}}const fh={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},jq=Ki.URLSearchParams,pp="abcdefghijklmnopqrstuvwxyz",Ly="0123456789",I0={DIGIT:Ly,ALPHA:pp,ALPHA_DIGIT:pp+pp.toUpperCase()+Ly},Lq=(t=16,e=I0.ALPHA_DIGIT)=>{let n="";const{length:r}=e,s=new Uint32Array(t);uo.randomFillSync(s);for(let i=0;i<t;i++)n+=e[s[i]%r];return n},qq={isNode:!0,classes:{URLSearchParams:jq,FormData:O0,Blob:typeof Blob<"u"&&Blob||null},ALPHABET:I0,generateString:Lq,protocols:["http","https","file","data"]},hh=typeof window<"u"&&typeof document<"u",ed=typeof navigator=="object"&&navigator||void 0,Mq=hh&&(!ed||["ReactNative","NativeScript","NS"].indexOf(ed.product)<0),Fq=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Uq=hh&&window.location.href||"http://localhost",Bq=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:hh,hasStandardBrowserEnv:Mq,hasStandardBrowserWebWorkerEnv:Fq,navigator:ed,origin:Uq},Symbol.toStringTag,{value:"Module"})),Se={...Bq,...qq};function Dq(t,e){return Gl(t,new Se.classes.URLSearchParams,{visitor:function(n,r,s,i){return Se.isNode&&T.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function zq(t){return T.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Vq(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function P0(t){function e(n,r,s,i){let a=n[i++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),c=i>=n.length;return a=!a&&T.isArray(s)?s.length:a,c?(T.hasOwnProp(s,a)?s[a]=[s[a],r]:s[a]=r,!o):((!s[a]||!T.isObject(s[a]))&&(s[a]=[]),e(n,r,s[a],i)&&T.isArray(s[a])&&(s[a]=Vq(s[a])),!o)}if(T.isFormData(t)&&T.isFunction(t.entries)){const n={};return T.forEachEntry(t,(r,s)=>{e(zq(r),s,n,0)}),n}return null}function Gq(t,e,n){if(T.isString(t))try{return(e||JSON.parse)(t),T.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const xo={transitional:fh,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=T.isObject(e);if(i&&T.isHTMLForm(e)&&(e=new FormData(e)),T.isFormData(e))return s?JSON.stringify(P0(e)):e;if(T.isArrayBuffer(e)||T.isBuffer(e)||T.isStream(e)||T.isFile(e)||T.isBlob(e)||T.isReadableStream(e))return e;if(T.isArrayBufferView(e))return e.buffer;if(T.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Dq(e,this.formSerializer).toString();if((o=T.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Gl(o?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),Gq(e)):e}],transformResponse:[function(e){const n=this.transitional||xo.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(T.isResponse(e)||T.isReadableStream(e))return e;if(e&&T.isString(e)&&(r&&!this.responseType||s)){const a=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(o){if(a)throw o.name==="SyntaxError"?W.from(o,W.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Se.classes.FormData,Blob:Se.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};T.forEach(["delete","get","head","post","put","patch"],t=>{xo.headers[t]={}});const Hq=T.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Qq=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(a){s=a.indexOf(":"),n=a.substring(0,s).trim().toLowerCase(),r=a.substring(s+1).trim(),!(!n||e[n]&&Hq[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},qy=Symbol("internals");function da(t){return t&&String(t).trim().toLowerCase()}function xc(t){return t===!1||t==null?t:T.isArray(t)?t.map(xc):String(t)}function Wq(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const Kq=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function dp(t,e,n,r,s){if(T.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!T.isString(e)){if(T.isString(r))return e.indexOf(r)!==-1;if(T.isRegExp(r))return r.test(e)}}function Jq(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Yq(t,e){const n=T.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,a){return this[r].call(this,e,s,i,a)},configurable:!0})})}let et=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(o,c,l){const u=da(c);if(!u)throw new Error("header name must be a non-empty string");const p=T.findKey(s,u);(!p||s[p]===void 0||l===!0||l===void 0&&s[p]!==!1)&&(s[p||c]=xc(o))}const a=(o,c)=>T.forEach(o,(l,u)=>i(l,u,c));if(T.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(T.isString(e)&&(e=e.trim())&&!Kq(e))a(Qq(e),n);else if(T.isObject(e)&&T.isIterable(e)){let o={},c,l;for(const u of e){if(!T.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[l=u[0]]=(c=o[l])?T.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}a(o,n)}else e!=null&&i(n,e,r);return this}get(e,n){if(e=da(e),e){const r=T.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return Wq(s);if(T.isFunction(n))return n.call(this,s,r);if(T.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=da(e),e){const r=T.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||dp(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(a){if(a=da(a),a){const o=T.findKey(r,a);o&&(!n||dp(r,r[o],o,n))&&(delete r[o],s=!0)}}return T.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||dp(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return T.forEach(this,(s,i)=>{const a=T.findKey(r,i);if(a){n[a]=xc(s),delete n[i];return}const o=e?Jq(i):String(i).trim();o!==i&&delete n[i],n[o]=xc(s),r[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return T.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&T.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[qy]=this[qy]={accessors:{}}).accessors,s=this.prototype;function i(a){const o=da(a);r[o]||(Yq(s,a),r[o]=!0)}return T.isArray(e)?e.forEach(i):i(e),this}};et.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);T.reduceDescriptors(et.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});T.freezeMethods(et);function fp(t,e){const n=this||xo,r=e||n,s=et.from(r.headers);let i=r.data;return T.forEach(t,function(o){i=o.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function k0(t){return!!(t&&t.__CANCEL__)}function Pr(t,e,n){W.call(this,t??"canceled",W.ERR_CANCELED,e,n),this.name="CanceledError"}T.inherits(Pr,W,{__CANCEL__:!0});function ti(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new W("Request failed with status code "+n.status,[W.ERR_BAD_REQUEST,W.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Xq(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Zq(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function mh(t,e,n){let r=!Xq(e);return t&&(r||n==!1)?Zq(t,e):e}var j0={},eM=Ki.parse,tM={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},nM=String.prototype.endsWith||function(t){return t.length<=this.length&&this.indexOf(t,this.length-t.length)!==-1};function rM(t){var e=typeof t=="string"?eM(t):t||{},n=e.protocol,r=e.host,s=e.port;if(typeof r!="string"||!r||typeof n!="string"||(n=n.split(":",1)[0],r=r.replace(/:\d*$/,""),s=parseInt(s)||tM[n]||0,!sM(r,s)))return"";var i=ni("npm_config_"+n+"_proxy")||ni(n+"_proxy")||ni("npm_config_proxy")||ni("all_proxy");return i&&i.indexOf("://")===-1&&(i=n+"://"+i),i}function sM(t,e){var n=(ni("npm_config_no_proxy")||ni("no_proxy")).toLowerCase();return n?n==="*"?!1:n.split(/[,\s]/).every(function(r){if(!r)return!0;var s=r.match(/^(.+):(\d+)$/),i=s?s[1]:r,a=s?parseInt(s[2]):0;return a&&a!==e?!0:/^[.*]/.test(i)?(i.charAt(0)==="*"&&(i=i.slice(1)),!nM.call(t,i)):t!==i}):!0}function ni(t){return process.env[t.toLowerCase()]||process.env[t.toUpperCase()]||""}j0.getProxyForUrl=rM;var yh={exports:{}},Xo={exports:{}},Zo={exports:{}},hp,My;function iM(){if(My)return hp;My=1;var t=1e3,e=t*60,n=e*60,r=n*24,s=r*7,i=r*365.25;hp=function(u,p){p=p||{};var h=typeof u;if(h==="string"&&u.length>0)return a(u);if(h==="number"&&isFinite(u))return p.long?c(u):o(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function a(u){if(u=String(u),!(u.length>100)){var p=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(p){var h=parseFloat(p[1]),y=(p[2]||"ms").toLowerCase();switch(y){case"years":case"year":case"yrs":case"yr":case"y":return h*i;case"weeks":case"week":case"w":return h*s;case"days":case"day":case"d":return h*r;case"hours":case"hour":case"hrs":case"hr":case"h":return h*n;case"minutes":case"minute":case"mins":case"min":case"m":return h*e;case"seconds":case"second":case"secs":case"sec":case"s":return h*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}function o(u){var p=Math.abs(u);return p>=r?Math.round(u/r)+"d":p>=n?Math.round(u/n)+"h":p>=e?Math.round(u/e)+"m":p>=t?Math.round(u/t)+"s":u+"ms"}function c(u){var p=Math.abs(u);return p>=r?l(u,p,r,"day"):p>=n?l(u,p,n,"hour"):p>=e?l(u,p,e,"minute"):p>=t?l(u,p,t,"second"):u+" ms"}function l(u,p,h,y){var f=p>=h*1.5;return Math.round(u/h)+" "+y+(f?"s":"")}return hp}var mp,Fy;function L0(){if(Fy)return mp;Fy=1;function t(e){r.debug=r,r.default=r,r.coerce=l,r.disable=o,r.enable=i,r.enabled=c,r.humanize=iM(),r.destroy=u,Object.keys(e).forEach(p=>{r[p]=e[p]}),r.names=[],r.skips=[],r.formatters={};function n(p){let h=0;for(let y=0;y<p.length;y++)h=(h<<5)-h+p.charCodeAt(y),h|=0;return r.colors[Math.abs(h)%r.colors.length]}r.selectColor=n;function r(p){let h,y=null,f,m;function g(...b){if(!g.enabled)return;const _=g,S=Number(new Date),C=S-(h||S);_.diff=C,_.prev=h,_.curr=S,h=S,b[0]=r.coerce(b[0]),typeof b[0]!="string"&&b.unshift("%O");let L=0;b[0]=b[0].replace(/%([a-zA-Z%])/g,(D,Z)=>{if(D==="%%")return"%";L++;const se=r.formatters[Z];if(typeof se=="function"){const ve=b[L];D=se.call(_,ve),b.splice(L,1),L--}return D}),r.formatArgs.call(_,b),(_.log||r.log).apply(_,b)}return g.namespace=p,g.useColors=r.useColors(),g.color=r.selectColor(p),g.extend=s,g.destroy=r.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>y!==null?y:(f!==r.namespaces&&(f=r.namespaces,m=r.enabled(p)),m),set:b=>{y=b}}),typeof r.init=="function"&&r.init(g),g}function s(p,h){const y=r(this.namespace+(typeof h>"u"?":":h)+p);return y.log=this.log,y}function i(p){r.save(p),r.namespaces=p,r.names=[],r.skips=[];const h=(typeof p=="string"?p:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const y of h)y[0]==="-"?r.skips.push(y.slice(1)):r.names.push(y)}function a(p,h){let y=0,f=0,m=-1,g=0;for(;y<p.length;)if(f<h.length&&(h[f]===p[y]||h[f]==="*"))h[f]==="*"?(m=f,g=y,f++):(y++,f++);else if(m!==-1)f=m+1,g++,y=g;else return!1;for(;f<h.length&&h[f]==="*";)f++;return f===h.length}function o(){const p=[...r.names,...r.skips.map(h=>"-"+h)].join(",");return r.enable(""),p}function c(p){for(const h of r.skips)if(a(p,h))return!1;for(const h of r.names)if(a(p,h))return!0;return!1}function l(p){return p instanceof Error?p.stack||p.message:p}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}return mp=t,mp}var Uy;function aM(){return Uy||(Uy=1,function(t,e){e.formatArgs=r,e.save=s,e.load=i,e.useColors=n,e.storage=a(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let c;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(c=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(c[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const l="color: "+this.color;c.splice(1,0,l,"color: inherit");let u=0,p=0;c[0].replace(/%[a-zA-Z%]/g,h=>{h!=="%%"&&(u++,h==="%c"&&(p=u))}),c.splice(p,0,l)}e.log=console.debug||console.log||(()=>{});function s(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function i(){let c;try{c=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=process.env.DEBUG),c}function a(){try{return localStorage}catch{}}t.exports=L0()(e);const{formatters:o}=t.exports;o.j=function(c){try{return JSON.stringify(c)}catch(l){return"[UnexpectedJSONParseError]: "+l.message}}}(Zo,Zo.exports)),Zo.exports}var ec={exports:{}},yp,By;function oM(){return By||(By=1,yp=(t,e=process.argv)=>{const n=t.startsWith("-")?"":t.length===1?"-":"--",r=e.indexOf(n+t),s=e.indexOf("--");return r!==-1&&(s===-1||r<s)}),yp}var gp,Dy;function cM(){if(Dy)return gp;Dy=1;const t=QE,e=Jd,n=oM(),{env:r}=process;let s;n("no-color")||n("no-colors")||n("color=false")||n("color=never")?s=0:(n("color")||n("colors")||n("color=true")||n("color=always"))&&(s=1),"FORCE_COLOR"in r&&(r.FORCE_COLOR==="true"?s=1:r.FORCE_COLOR==="false"?s=0:s=r.FORCE_COLOR.length===0?1:Math.min(parseInt(r.FORCE_COLOR,10),3));function i(c){return c===0?!1:{level:c,hasBasic:!0,has256:c>=2,has16m:c>=3}}function a(c,l){if(s===0)return 0;if(n("color=16m")||n("color=full")||n("color=truecolor"))return 3;if(n("color=256"))return 2;if(c&&!l&&s===void 0)return 0;const u=s||0;if(r.TERM==="dumb")return u;if(process.platform==="win32"){const p=t.release().split(".");return Number(p[0])>=10&&Number(p[2])>=10586?Number(p[2])>=14931?3:2:1}if("CI"in r)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(p=>p in r)||r.CI_NAME==="codeship"?1:u;if("TEAMCITY_VERSION"in r)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(r.TEAMCITY_VERSION)?1:0;if(r.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in r){const p=parseInt((r.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(r.TERM_PROGRAM){case"iTerm.app":return p>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(r.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(r.TERM)||"COLORTERM"in r?1:u}function o(c){const l=a(c,c&&c.isTTY);return i(l)}return gp={supportsColor:o,stdout:i(a(!0,e.isatty(1))),stderr:i(a(!0,e.isatty(2)))},gp}var zy;function lM(){return zy||(zy=1,function(t,e){const n=Jd,r=ks;e.init=u,e.log=o,e.formatArgs=i,e.save=c,e.load=l,e.useColors=s,e.destroy=r.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),e.colors=[6,2,3,4,5,1];try{const h=cM();h&&(h.stderr||h).level>=2&&(e.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}e.inspectOpts=Object.keys(process.env).filter(h=>/^debug_/i.test(h)).reduce((h,y)=>{const f=y.substring(6).toLowerCase().replace(/_([a-z])/g,(g,b)=>b.toUpperCase());let m=process.env[y];return/^(yes|on|true|enabled)$/i.test(m)?m=!0:/^(no|off|false|disabled)$/i.test(m)?m=!1:m==="null"?m=null:m=Number(m),h[f]=m,h},{});function s(){return"colors"in e.inspectOpts?!!e.inspectOpts.colors:n.isatty(process.stderr.fd)}function i(h){const{namespace:y,useColors:f}=this;if(f){const m=this.color,g="\x1B[3"+(m<8?m:"8;5;"+m),b=`  ${g};1m${y} \x1B[0m`;h[0]=b+h[0].split(`
`).join(`
`+b),h.push(g+"m+"+t.exports.humanize(this.diff)+"\x1B[0m")}else h[0]=a()+y+" "+h[0]}function a(){return e.inspectOpts.hideDate?"":new Date().toISOString()+" "}function o(...h){return process.stderr.write(r.formatWithOptions(e.inspectOpts,...h)+`
`)}function c(h){h?process.env.DEBUG=h:delete process.env.DEBUG}function l(){return process.env.DEBUG}function u(h){h.inspectOpts={};const y=Object.keys(e.inspectOpts);for(let f=0;f<y.length;f++)h.inspectOpts[y[f]]=e.inspectOpts[y[f]]}t.exports=L0()(e);const{formatters:p}=t.exports;p.o=function(h){return this.inspectOpts.colors=this.useColors,r.inspect(h,this.inspectOpts).split(`
`).map(y=>y.trim()).join(" ")},p.O=function(h){return this.inspectOpts.colors=this.useColors,r.inspect(h,this.inspectOpts)}}(ec,ec.exports)),ec.exports}var Vy;function uM(){return Vy||(Vy=1,typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Xo.exports=aM():Xo.exports=lM()),Xo.exports}var fa,pM=function(){if(!fa){try{fa=uM()("follow-redirects")}catch{}typeof fa!="function"&&(fa=function(){})}fa.apply(null,arguments)},wo=Ki,Va=wo.URL,dM=xl,fM=wl,gh=Me.Writable,vh=HE,q0=pM;(function(){var e=typeof process<"u",n=typeof window<"u"&&typeof document<"u",r=Cs(Error.captureStackTrace);!e&&(n||!r)&&console.warn("The follow-redirects package should be excluded from browser builds.")})();var bh=!1;try{vh(new Va(""))}catch(t){bh=t.code==="ERR_INVALID_URL"}var hM=["auth","host","hostname","href","path","pathname","port","protocol","query","search","hash"],xh=["abort","aborted","connect","error","socket","timeout"],wh=Object.create(null);xh.forEach(function(t){wh[t]=function(e,n,r){this._redirectable.emit(t,e,n,r)}});var td=_o("ERR_INVALID_URL","Invalid URL",TypeError),nd=_o("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),mM=_o("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded",nd),yM=_o("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),gM=_o("ERR_STREAM_WRITE_AFTER_END","write after end"),vM=gh.prototype.destroy||F0;function Ct(t,e){gh.call(this),this._sanitizeOptions(t),this._options=t,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],e&&this.on("response",e);var n=this;this._onNativeResponse=function(r){try{n._processResponse(r)}catch(s){n.emit("error",s instanceof nd?s:new nd({cause:s}))}},this._performRequest()}Ct.prototype=Object.create(gh.prototype);Ct.prototype.abort=function(){$h(this._currentRequest),this._currentRequest.abort(),this.emit("abort")};Ct.prototype.destroy=function(t){return $h(this._currentRequest,t),vM.call(this,t),this};Ct.prototype.write=function(t,e,n){if(this._ending)throw new gM;if(!bs(t)&&!wM(t))throw new TypeError("data should be a string, Buffer or Uint8Array");if(Cs(e)&&(n=e,e=null),t.length===0){n&&n();return}this._requestBodyLength+t.length<=this._options.maxBodyLength?(this._requestBodyLength+=t.length,this._requestBodyBuffers.push({data:t,encoding:e}),this._currentRequest.write(t,e,n)):(this.emit("error",new yM),this.abort())};Ct.prototype.end=function(t,e,n){if(Cs(t)?(n=t,t=e=null):Cs(e)&&(n=e,e=null),!t)this._ended=this._ending=!0,this._currentRequest.end(null,null,n);else{var r=this,s=this._currentRequest;this.write(t,e,function(){r._ended=!0,s.end(null,null,n)}),this._ending=!0}};Ct.prototype.setHeader=function(t,e){this._options.headers[t]=e,this._currentRequest.setHeader(t,e)};Ct.prototype.removeHeader=function(t){delete this._options.headers[t],this._currentRequest.removeHeader(t)};Ct.prototype.setTimeout=function(t,e){var n=this;function r(a){a.setTimeout(t),a.removeListener("timeout",a.destroy),a.addListener("timeout",a.destroy)}function s(a){n._timeout&&clearTimeout(n._timeout),n._timeout=setTimeout(function(){n.emit("timeout"),i()},t),r(a)}function i(){n._timeout&&(clearTimeout(n._timeout),n._timeout=null),n.removeListener("abort",i),n.removeListener("error",i),n.removeListener("response",i),n.removeListener("close",i),e&&n.removeListener("timeout",e),n.socket||n._currentRequest.removeListener("socket",s)}return e&&this.on("timeout",e),this.socket?s(this.socket):this._currentRequest.once("socket",s),this.on("socket",r),this.on("abort",i),this.on("error",i),this.on("response",i),this.on("close",i),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(t){Ct.prototype[t]=function(e,n){return this._currentRequest[t](e,n)}});["aborted","connection","socket"].forEach(function(t){Object.defineProperty(Ct.prototype,t,{get:function(){return this._currentRequest[t]}})});Ct.prototype._sanitizeOptions=function(t){if(t.headers||(t.headers={}),t.host&&(t.hostname||(t.hostname=t.host),delete t.host),!t.pathname&&t.path){var e=t.path.indexOf("?");e<0?t.pathname=t.path:(t.pathname=t.path.substring(0,e),t.search=t.path.substring(e))}};Ct.prototype._performRequest=function(){var t=this._options.protocol,e=this._options.nativeProtocols[t];if(!e)throw new TypeError("Unsupported protocol "+t);if(this._options.agents){var n=t.slice(0,-1);this._options.agent=this._options.agents[n]}var r=this._currentRequest=e.request(this._options,this._onNativeResponse);r._redirectable=this;for(var s of xh)r.on(s,wh[s]);if(this._currentUrl=/^\//.test(this._options.path)?wo.format(this._options):this._options.path,this._isRedirect){var i=0,a=this,o=this._requestBodyBuffers;(function c(l){if(r===a._currentRequest)if(l)a.emit("error",l);else if(i<o.length){var u=o[i++];r.finished||r.write(u.data,u.encoding,c)}else a._ended&&r.end()})()}};Ct.prototype._processResponse=function(t){var e=t.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:t.headers,statusCode:e});var n=t.headers.location;if(!n||this._options.followRedirects===!1||e<300||e>=400){t.responseUrl=this._currentUrl,t.redirects=this._redirects,this.emit("response",t),this._requestBodyBuffers=[];return}if($h(this._currentRequest),t.destroy(),++this._redirectCount>this._options.maxRedirects)throw new mM;var r,s=this._options.beforeRedirect;s&&(r=Object.assign({Host:t.req.getHeader("host")},this._options.headers));var i=this._options.method;((e===301||e===302)&&this._options.method==="POST"||e===303&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],vp(/^content-/i,this._options.headers));var a=vp(/^host$/i,this._options.headers),o=_h(this._currentUrl),c=a||o.host,l=/^\w+:/.test(n)?this._currentUrl:wo.format(Object.assign(o,{host:c})),u=bM(n,l);if(q0("redirecting to",u.href),this._isRedirect=!0,rd(u,this._options),(u.protocol!==o.protocol&&u.protocol!=="https:"||u.host!==c&&!xM(u.host,c))&&vp(/^(?:(?:proxy-)?authorization|cookie)$/i,this._options.headers),Cs(s)){var p={headers:t.headers,statusCode:e},h={url:l,method:i,headers:r};s(this._options,p,h),this._sanitizeOptions(this._options)}this._performRequest()};function M0(t){var e={maxRedirects:21,maxBodyLength:10485760},n={};return Object.keys(t).forEach(function(r){var s=r+":",i=n[s]=t[r],a=e[r]=Object.create(i);function o(l,u,p){return _M(l)?l=rd(l):bs(l)?l=rd(_h(l)):(p=u,u=U0(l),l={protocol:s}),Cs(u)&&(p=u,u=null),u=Object.assign({maxRedirects:e.maxRedirects,maxBodyLength:e.maxBodyLength},l,u),u.nativeProtocols=n,!bs(u.host)&&!bs(u.hostname)&&(u.hostname="::1"),vh.equal(u.protocol,s,"protocol mismatch"),q0("options",u),new Ct(u,p)}function c(l,u,p){var h=a.request(l,u,p);return h.end(),h}Object.defineProperties(a,{request:{value:o,configurable:!0,enumerable:!0,writable:!0},get:{value:c,configurable:!0,enumerable:!0,writable:!0}})}),e}function F0(){}function _h(t){var e;if(bh)e=new Va(t);else if(e=U0(wo.parse(t)),!bs(e.protocol))throw new td({input:t});return e}function bM(t,e){return bh?new Va(t,e):_h(wo.resolve(e,t))}function U0(t){if(/^\[/.test(t.hostname)&&!/^\[[:0-9a-f]+\]$/i.test(t.hostname))throw new td({input:t.href||t});if(/^\[/.test(t.host)&&!/^\[[:0-9a-f]+\](:\d+)?$/i.test(t.host))throw new td({input:t.href||t});return t}function rd(t,e){var n=e||{};for(var r of hM)n[r]=t[r];return n.hostname.startsWith("[")&&(n.hostname=n.hostname.slice(1,-1)),n.port!==""&&(n.port=Number(n.port)),n.path=n.search?n.pathname+n.search:n.pathname,n}function vp(t,e){var n;for(var r in e)t.test(r)&&(n=e[r],delete e[r]);return n===null||typeof n>"u"?void 0:String(n).trim()}function _o(t,e,n){function r(s){Cs(Error.captureStackTrace)&&Error.captureStackTrace(this,this.constructor),Object.assign(this,s||{}),this.code=t,this.message=this.cause?e+": "+this.cause.message:e}return r.prototype=new(n||Error),Object.defineProperties(r.prototype,{constructor:{value:r,enumerable:!1},name:{value:"Error ["+t+"]",enumerable:!1}}),r}function $h(t,e){for(var n of xh)t.removeListener(n,wh[n]);t.on("error",F0),t.destroy(e)}function xM(t,e){vh(bs(t)&&bs(e));var n=t.length-e.length-1;return n>0&&t[n]==="."&&t.endsWith(e)}function bs(t){return typeof t=="string"||t instanceof String}function Cs(t){return typeof t=="function"}function wM(t){return typeof t=="object"&&"length"in t}function _M(t){return Va&&t instanceof Va}yh.exports=M0({http:dM,https:fM});yh.exports.wrap=M0;var $M=yh.exports;const SM=nr($M),Uc="1.12.2";function B0(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}const EM=/^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\s\S]*)$/;function RM(t,e,n){const r=n&&n.Blob||Se.classes.Blob,s=B0(t);if(e===void 0&&r&&(e=!0),s==="data"){t=s.length?t.slice(s.length+1):t;const i=EM.exec(t);if(!i)throw new W("Invalid URL",W.ERR_INVALID_URL);const a=i[1],o=i[2],c=i[3],l=Buffer.from(decodeURIComponent(c),o?"base64":"utf8");if(e){if(!r)throw new W("Blob is not supported",W.ERR_NOT_SUPPORT);return new r([l],{type:a})}return l}throw new W("Unsupported protocol "+s,W.ERR_NOT_SUPPORT)}const bp=Symbol("internals");class Gy extends Me.Transform{constructor(e){e=T.toFlatObject(e,{maxRate:0,chunkSize:64*1024,minChunkSize:100,timeWindow:500,ticksRate:2,samplesCount:15},null,(r,s)=>!T.isUndefined(s[r])),super({readableHighWaterMark:e.chunkSize});const n=this[bp]={timeWindow:e.timeWindow,chunkSize:e.chunkSize,maxRate:e.maxRate,minChunkSize:e.minChunkSize,bytesSeen:0,isCaptured:!1,notifiedBytesLoaded:0,ts:Date.now(),bytes:0,onReadCallback:null};this.on("newListener",r=>{r==="progress"&&(n.isCaptured||(n.isCaptured=!0))})}_read(e){const n=this[bp];return n.onReadCallback&&n.onReadCallback(),super._read(e)}_transform(e,n,r){const s=this[bp],i=s.maxRate,a=this.readableHighWaterMark,o=s.timeWindow,c=1e3/o,l=i/c,u=s.minChunkSize!==!1?Math.max(s.minChunkSize,l*.01):0,p=(y,f)=>{const m=Buffer.byteLength(y);s.bytesSeen+=m,s.bytes+=m,s.isCaptured&&this.emit("progress",s.bytesSeen),this.push(y)?process.nextTick(f):s.onReadCallback=()=>{s.onReadCallback=null,process.nextTick(f)}},h=(y,f)=>{const m=Buffer.byteLength(y);let g=null,b=a,_,S=0;if(i){const C=Date.now();(!s.ts||(S=C-s.ts)>=o)&&(s.ts=C,_=l-s.bytes,s.bytes=_<0?-_:0,S=0),_=l-s.bytes}if(i){if(_<=0)return setTimeout(()=>{f(null,y)},o-S);_<b&&(b=_)}b&&m>b&&m-b>u&&(g=y.subarray(b),y=y.subarray(0,b)),p(y,g?()=>{process.nextTick(f,null,g)}:f)};h(e,function y(f,m){if(f)return r(f);m?h(m,y):r(null)})}}const{asyncIterator:Hy}=Symbol,D0=async function*(t){t.stream?yield*t.stream():t.arrayBuffer?yield await t.arrayBuffer():t[Hy]?yield*t[Hy]():yield t},TM=Se.ALPHABET.ALPHA_DIGIT+"-_",Ga=typeof TextEncoder=="function"?new TextEncoder:new ks.TextEncoder,ns=`\r
`,OM=Ga.encode(ns),CM=2;class NM{constructor(e,n){const{escapeName:r}=this.constructor,s=T.isString(n);let i=`Content-Disposition: form-data; name="${r(e)}"${!s&&n.name?`; filename="${r(n.name)}"`:""}${ns}`;s?n=Ga.encode(String(n).replace(/\r?\n|\r\n?/g,ns)):i+=`Content-Type: ${n.type||"application/octet-stream"}${ns}`,this.headers=Ga.encode(i+ns),this.contentLength=s?n.byteLength:n.size,this.size=this.headers.byteLength+this.contentLength+CM,this.name=e,this.value=n}async*encode(){yield this.headers;const{value:e}=this;T.isTypedArray(e)?yield e:yield*D0(e),yield OM}static escapeName(e){return String(e).replace(/[\r\n"]/g,n=>({"\r":"%0D","\n":"%0A",'"':"%22"})[n])}}const AM=(t,e,n)=>{const{tag:r="form-data-boundary",size:s=25,boundary:i=r+"-"+Se.generateString(s,TM)}=n||{};if(!T.isFormData(t))throw TypeError("FormData instance required");if(i.length<1||i.length>70)throw Error("boundary must be 10-70 characters long");const a=Ga.encode("--"+i+ns),o=Ga.encode("--"+i+"--"+ns);let c=o.byteLength;const l=Array.from(t.entries()).map(([p,h])=>{const y=new NM(p,h);return c+=y.size,y});c+=a.byteLength*l.length,c=T.toFiniteNumber(c);const u={"Content-Type":`multipart/form-data; boundary=${i}`};return Number.isFinite(c)&&(u["Content-Length"]=c),e&&e(u),Me.Readable.from(async function*(){for(const p of l)yield a,yield*p.encode();yield o}())};class IM extends Me.Transform{__transform(e,n,r){this.push(e),r()}_transform(e,n,r){if(e.length!==0&&(this._transform=this.__transform,e[0]!==120)){const s=Buffer.alloc(2);s[0]=120,s[1]=156,this.push(s,n)}this.__transform(e,n,r)}}const PM=(t,e)=>T.isAsyncFn(t)?function(...n){const r=n.pop();t.apply(this,n).then(s=>{try{e?r(null,...e(s)):r(null,s)}catch(i){r(i)}},r)}:t;function kM(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,a;return e=e!==void 0?e:1e3,function(c){const l=Date.now(),u=r[i];a||(a=l),n[s]=c,r[s]=l;let p=i,h=0;for(;p!==s;)h+=n[p++],p=p%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),l-a<e)return;const y=u&&l-u;return y?Math.round(h*1e3/y):void 0}}function jM(t,e){let n=0,r=1e3/e,s,i;const a=(l,u=Date.now())=>{n=u,s=null,i&&(clearTimeout(i),i=null),t(...l)};return[(...l)=>{const u=Date.now(),p=u-n;p>=r?a(l,u):(s=l,i||(i=setTimeout(()=>{i=null,a(s)},r-p)))},()=>s&&a(s)]}const Fi=(t,e,n=3)=>{let r=0;const s=kM(50,250);return jM(i=>{const a=i.loaded,o=i.lengthComputable?i.total:void 0,c=a-r,l=s(c),u=a<=o;r=a;const p={loaded:a,total:o,progress:o?a/o:void 0,bytes:c,rate:l||void 0,estimated:l&&o&&u?(o-a)/l:void 0,event:i,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(p)},n)},Bc=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},Dc=t=>(...e)=>T.asap(()=>t(...e));function LM(t){if(!t||typeof t!="string"||!t.startsWith("data:"))return 0;const e=t.indexOf(",");if(e<0)return 0;const n=t.slice(5,e),r=t.slice(e+1);if(/;base64/i.test(n)){let i=r.length;const a=r.length;for(let h=0;h<a;h++)if(r.charCodeAt(h)===37&&h+2<a){const y=r.charCodeAt(h+1),f=r.charCodeAt(h+2);(y>=48&&y<=57||y>=65&&y<=70||y>=97&&y<=102)&&(f>=48&&f<=57||f>=65&&f<=70||f>=97&&f<=102)&&(i-=2,h+=2)}let o=0,c=a-1;const l=h=>h>=2&&r.charCodeAt(h-2)===37&&r.charCodeAt(h-1)===51&&(r.charCodeAt(h)===68||r.charCodeAt(h)===100);c>=0&&(r.charCodeAt(c)===61?(o++,c--):l(c)&&(o++,c-=3)),o===1&&c>=0&&(r.charCodeAt(c)===61||l(c))&&o++;const p=Math.floor(i/4)*3-(o||0);return p>0?p:0}return Buffer.byteLength(r,"utf8")}const Qy={flush:Wn.constants.Z_SYNC_FLUSH,finishFlush:Wn.constants.Z_SYNC_FLUSH},qM={flush:Wn.constants.BROTLI_OPERATION_FLUSH,finishFlush:Wn.constants.BROTLI_OPERATION_FLUSH},Wy=T.isFunction(Wn.createBrotliDecompress),{http:MM,https:FM}=SM,UM=/https:?/,Ky=Se.protocols.map(t=>t+":"),Jy=(t,[e,n])=>(t.on("end",n).on("error",n),e);function BM(t,e){t.beforeRedirects.proxy&&t.beforeRedirects.proxy(t),t.beforeRedirects.config&&t.beforeRedirects.config(t,e)}function z0(t,e,n){let r=e;if(!r&&r!==!1){const s=j0.getProxyForUrl(n);s&&(r=new URL(s))}if(r){if(r.username&&(r.auth=(r.username||"")+":"+(r.password||"")),r.auth){(r.auth.username||r.auth.password)&&(r.auth=(r.auth.username||"")+":"+(r.auth.password||""));const i=Buffer.from(r.auth,"utf8").toString("base64");t.headers["Proxy-Authorization"]="Basic "+i}t.headers.host=t.hostname+(t.port?":"+t.port:"");const s=r.hostname||r.host;t.hostname=s,t.host=s,t.port=r.port,t.path=n,r.protocol&&(t.protocol=r.protocol.includes(":")?r.protocol:`${r.protocol}:`)}t.beforeRedirects.proxy=function(i){z0(i,e,i.href)}}const DM=typeof process<"u"&&T.kindOf(process)==="process",zM=t=>new Promise((e,n)=>{let r,s;const i=(c,l)=>{s||(s=!0,r&&r(c,l))},a=c=>{i(c),e(c)},o=c=>{i(c,!0),n(c)};t(a,o,c=>r=c).catch(o)}),VM=({address:t,family:e})=>{if(!T.isString(t))throw TypeError("address must be a string");return{address:t,family:e||(t.indexOf(".")<0?6:4)}},Yy=(t,e)=>VM(T.isObject(t)?t:{address:t,family:e}),GM=DM&&function(e){return zM(async function(r,s,i){let{data:a,lookup:o,family:c}=e;const{responseType:l,responseEncoding:u}=e,p=e.method.toUpperCase();let h,y=!1,f;if(o){const q=PM(o,M=>T.isArray(M)?M:[M]);o=(M,z,I)=>{q(M,z,($,N,R)=>{if($)return I($);const x=T.isArray(N)?N.map(w=>Yy(w)):[Yy(N,R)];z.all?I($,x):I($,x[0].address,x[0].family)})}}const m=new Yd.EventEmitter,g=()=>{e.cancelToken&&e.cancelToken.unsubscribe(b),e.signal&&e.signal.removeEventListener("abort",b),m.removeAllListeners()};i((q,M)=>{h=!0,M&&(y=!0,g())});function b(q){m.emit("abort",!q||q.type?new Pr(null,e,f):q)}m.once("abort",s),(e.cancelToken||e.signal)&&(e.cancelToken&&e.cancelToken.subscribe(b),e.signal&&(e.signal.aborted?b():e.signal.addEventListener("abort",b)));const _=mh(e.baseURL,e.url,e.allowAbsoluteUrls),S=new URL(_,Se.hasBrowserEnv?Se.origin:void 0),C=S.protocol||Ky[0];if(C==="data:"){if(e.maxContentLength>-1){const M=String(e.url||_||"");if(LM(M)>e.maxContentLength)return s(new W("maxContentLength size of "+e.maxContentLength+" exceeded",W.ERR_BAD_RESPONSE,e))}let q;if(p!=="GET")return ti(r,s,{status:405,statusText:"method not allowed",headers:{},config:e});try{q=RM(e.url,l==="blob",{Blob:e.env&&e.env.Blob})}catch(M){throw W.from(M,W.ERR_BAD_REQUEST,e)}return l==="text"?(q=q.toString(u),(!u||u==="utf8")&&(q=T.stripBOM(q))):l==="stream"&&(q=Me.Readable.from(q)),ti(r,s,{data:q,status:200,statusText:"OK",headers:new et,config:e})}if(Ky.indexOf(C)===-1)return s(new W("Unsupported protocol "+C,W.ERR_BAD_REQUEST,e));const L=et.from(e.headers).normalize();L.set("User-Agent","axios/"+Uc,!1);const{onUploadProgress:K,onDownloadProgress:D}=e,Z=e.maxRate;let se,ve;if(T.isSpecCompliantForm(a)){const q=L.getContentType(/boundary=([-_\w\d]{10,70})/i);a=AM(a,M=>{L.set(M)},{tag:`axios-${Uc}-boundary`,boundary:q&&q[1]||void 0})}else if(T.isFormData(a)&&T.isFunction(a.getHeaders)){if(L.set(a.getHeaders()),!L.hasContentLength())try{const q=await ks.promisify(a.getLength).call(a);Number.isFinite(q)&&q>=0&&L.setContentLength(q)}catch{}}else if(T.isBlob(a)||T.isFile(a))a.size&&L.setContentType(a.type||"application/octet-stream"),L.setContentLength(a.size||0),a=Me.Readable.from(D0(a));else if(a&&!T.isStream(a)){if(!Buffer.isBuffer(a))if(T.isArrayBuffer(a))a=Buffer.from(new Uint8Array(a));else if(T.isString(a))a=Buffer.from(a,"utf-8");else return s(new W("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",W.ERR_BAD_REQUEST,e));if(L.setContentLength(a.length,!1),e.maxBodyLength>-1&&a.length>e.maxBodyLength)return s(new W("Request body larger than maxBodyLength limit",W.ERR_BAD_REQUEST,e))}const J=T.toFiniteNumber(L.getContentLength());T.isArray(Z)?(se=Z[0],ve=Z[1]):se=ve=Z,a&&(K||se)&&(T.isStream(a)||(a=Me.Readable.from(a,{objectMode:!1})),a=Me.pipeline([a,new Gy({maxRate:T.toFiniteNumber(se)})],T.noop),K&&a.on("progress",Jy(a,Bc(J,Fi(Dc(K),!1,3)))));let X;if(e.auth){const q=e.auth.username||"",M=e.auth.password||"";X=q+":"+M}if(!X&&S.username){const q=S.username,M=S.password;X=q+":"+M}X&&L.delete("authorization");let ne;try{ne=dh(S.pathname+S.search,e.params,e.paramsSerializer).replace(/^\?/,"")}catch(q){const M=new Error(q.message);return M.config=e,M.url=e.url,M.exists=!0,s(M)}L.set("Accept-Encoding","gzip, compress, deflate"+(Wy?", br":""),!1);const A={path:ne,method:p,headers:L.toJSON(),agents:{http:e.httpAgent,https:e.httpsAgent},auth:X,protocol:C,family:c,beforeRedirect:BM,beforeRedirects:{}};!T.isUndefined(o)&&(A.lookup=o),e.socketPath?A.socketPath=e.socketPath:(A.hostname=S.hostname.startsWith("[")?S.hostname.slice(1,-1):S.hostname,A.port=S.port,z0(A,e.proxy,C+"//"+S.hostname+(S.port?":"+S.port:"")+A.path));let F;const V=UM.test(A.protocol);if(A.agent=V?e.httpsAgent:e.httpAgent,e.transport?F=e.transport:e.maxRedirects===0?F=V?wl:xl:(e.maxRedirects&&(A.maxRedirects=e.maxRedirects),e.beforeRedirect&&(A.beforeRedirects.config=e.beforeRedirect),F=V?FM:MM),e.maxBodyLength>-1?A.maxBodyLength=e.maxBodyLength:A.maxBodyLength=1/0,e.insecureHTTPParser&&(A.insecureHTTPParser=e.insecureHTTPParser),f=F.request(A,function(M){if(f.destroyed)return;const z=[M],I=+M.headers["content-length"];if(D||ve){const w=new Gy({maxRate:T.toFiniteNumber(ve)});D&&w.on("progress",Jy(w,Bc(I,Fi(Dc(D),!0,3)))),z.push(w)}let $=M;const N=M.req||f;if(e.decompress!==!1&&M.headers["content-encoding"])switch((p==="HEAD"||M.statusCode===204)&&delete M.headers["content-encoding"],(M.headers["content-encoding"]||"").toLowerCase()){case"gzip":case"x-gzip":case"compress":case"x-compress":z.push(Wn.createUnzip(Qy)),delete M.headers["content-encoding"];break;case"deflate":z.push(new IM),z.push(Wn.createUnzip(Qy)),delete M.headers["content-encoding"];break;case"br":Wy&&(z.push(Wn.createBrotliDecompress(qM)),delete M.headers["content-encoding"])}$=z.length>1?Me.pipeline(z,T.noop):z[0];const R=Me.finished($,()=>{R(),g()}),x={status:M.statusCode,statusText:M.statusMessage,headers:new et(M.headers),config:e,request:N};if(l==="stream")x.data=$,ti(r,s,x);else{const w=[];let k=0;$.on("data",function(Q){w.push(Q),k+=Q.length,e.maxContentLength>-1&&k>e.maxContentLength&&(y=!0,$.destroy(),s(new W("maxContentLength size of "+e.maxContentLength+" exceeded",W.ERR_BAD_RESPONSE,e,N)))}),$.on("aborted",function(){if(y)return;const Q=new W("stream has been aborted",W.ERR_BAD_RESPONSE,e,N);$.destroy(Q),s(Q)}),$.on("error",function(Q){f.destroyed||s(W.from(Q,null,e,N))}),$.on("end",function(){try{let Q=w.length===1?w[0]:Buffer.concat(w);l!=="arraybuffer"&&(Q=Q.toString(u),(!u||u==="utf8")&&(Q=T.stripBOM(Q))),x.data=Q}catch(Q){return s(W.from(Q,null,e,x.request,x))}ti(r,s,x)})}m.once("abort",w=>{$.destroyed||($.emit("error",w),$.destroy())})}),m.once("abort",q=>{s(q),f.destroy(q)}),f.on("error",function(M){s(W.from(M,null,e,f))}),f.on("socket",function(M){M.setKeepAlive(!0,1e3*60)}),e.timeout){const q=parseInt(e.timeout,10);if(Number.isNaN(q)){s(new W("error trying to parse `config.timeout` to int",W.ERR_BAD_OPTION_VALUE,e,f));return}f.setTimeout(q,function(){if(h)return;let z=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const I=e.transitional||fh;e.timeoutErrorMessage&&(z=e.timeoutErrorMessage),s(new W(z,I.clarifyTimeoutError?W.ETIMEDOUT:W.ECONNABORTED,e,f)),b()})}if(T.isStream(a)){let q=!1,M=!1;a.on("end",()=>{q=!0}),a.once("error",z=>{M=!0,f.destroy(z)}),a.on("close",()=>{!q&&!M&&b(new Pr("Request stream has been aborted",e,f))}),a.pipe(f)}else f.end(a)})},HM=Se.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Se.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Se.origin),Se.navigator&&/(msie|trident)/i.test(Se.navigator.userAgent)):()=>!0,QM=Se.hasStandardBrowserEnv?{write(t,e,n,r,s,i){const a=[t+"="+encodeURIComponent(e)];T.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),T.isString(r)&&a.push("path="+r),T.isString(s)&&a.push("domain="+s),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}},Xy=t=>t instanceof et?{...t}:t;function Ns(t,e){e=e||{};const n={};function r(l,u,p,h){return T.isPlainObject(l)&&T.isPlainObject(u)?T.merge.call({caseless:h},l,u):T.isPlainObject(u)?T.merge({},u):T.isArray(u)?u.slice():u}function s(l,u,p,h){if(T.isUndefined(u)){if(!T.isUndefined(l))return r(void 0,l,p,h)}else return r(l,u,p,h)}function i(l,u){if(!T.isUndefined(u))return r(void 0,u)}function a(l,u){if(T.isUndefined(u)){if(!T.isUndefined(l))return r(void 0,l)}else return r(void 0,u)}function o(l,u,p){if(p in e)return r(l,u);if(p in t)return r(void 0,l)}const c={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(l,u,p)=>s(Xy(l),Xy(u),p,!0)};return T.forEach(Object.keys({...t,...e}),function(u){const p=c[u]||s,h=p(t[u],e[u],u);T.isUndefined(h)&&p!==o||(n[u]=h)}),n}const V0=t=>{const e=Ns({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:o}=e;if(e.headers=a=et.from(a),e.url=dh(mh(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),T.isFormData(n)){if(Se.hasStandardBrowserEnv||Se.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(T.isFunction(n.getHeaders)){const c=n.getHeaders(),l=["content-type","content-length"];Object.entries(c).forEach(([u,p])=>{l.includes(u.toLowerCase())&&a.set(u,p)})}}if(Se.hasStandardBrowserEnv&&(r&&T.isFunction(r)&&(r=r(e)),r||r!==!1&&HM(e.url))){const c=s&&i&&QM.read(i);c&&a.set(s,c)}return e},WM=typeof XMLHttpRequest<"u",KM=WM&&function(t){return new Promise(function(n,r){const s=V0(t);let i=s.data;const a=et.from(s.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:l}=s,u,p,h,y,f;function m(){y&&y(),f&&f(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let g=new XMLHttpRequest;g.open(s.method.toUpperCase(),s.url,!0),g.timeout=s.timeout;function b(){if(!g)return;const S=et.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),L={data:!o||o==="text"||o==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:S,config:t,request:g};ti(function(D){n(D),m()},function(D){r(D),m()},L),g=null}"onloadend"in g?g.onloadend=b:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(b)},g.onabort=function(){g&&(r(new W("Request aborted",W.ECONNABORTED,t,g)),g=null)},g.onerror=function(C){const L=C&&C.message?C.message:"Network Error",K=new W(L,W.ERR_NETWORK,t,g);K.event=C||null,r(K),g=null},g.ontimeout=function(){let C=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const L=s.transitional||fh;s.timeoutErrorMessage&&(C=s.timeoutErrorMessage),r(new W(C,L.clarifyTimeoutError?W.ETIMEDOUT:W.ECONNABORTED,t,g)),g=null},i===void 0&&a.setContentType(null),"setRequestHeader"in g&&T.forEach(a.toJSON(),function(C,L){g.setRequestHeader(L,C)}),T.isUndefined(s.withCredentials)||(g.withCredentials=!!s.withCredentials),o&&o!=="json"&&(g.responseType=s.responseType),l&&([h,f]=Fi(l,!0),g.addEventListener("progress",h)),c&&g.upload&&([p,y]=Fi(c),g.upload.addEventListener("progress",p),g.upload.addEventListener("loadend",y)),(s.cancelToken||s.signal)&&(u=S=>{g&&(r(!S||S.type?new Pr(null,t,g):S),g.abort(),g=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const _=B0(s.url);if(_&&Se.protocols.indexOf(_)===-1){r(new W("Unsupported protocol "+_+":",W.ERR_BAD_REQUEST,t));return}g.send(i||null)})},JM=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const i=function(l){if(!s){s=!0,o();const u=l instanceof Error?l:this.reason;r.abort(u instanceof W?u:new Pr(u instanceof Error?u.message:u))}};let a=e&&setTimeout(()=>{a=null,i(new W(`timeout ${e} of ms exceeded`,W.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(l=>{l.unsubscribe?l.unsubscribe(i):l.removeEventListener("abort",i)}),t=null)};t.forEach(l=>l.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>T.asap(o),c}},YM=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},XM=async function*(t,e){for await(const n of ZM(t))yield*YM(n,e)},ZM=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},Zy=(t,e,n,r)=>{const s=XM(t,e);let i=0,a,o=c=>{a||(a=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:l,value:u}=await s.next();if(l){o(),c.close();return}let p=u.byteLength;if(n){let h=i+=p;n(h)}c.enqueue(new Uint8Array(u))}catch(l){throw o(l),l}},cancel(c){return o(c),s.return()}},{highWaterMark:2})},eg=64*1024,{isFunction:tc}=T,eF=(({Request:t,Response:e})=>({Request:t,Response:e}))(T.global),{ReadableStream:tg,TextEncoder:ng}=T.global,rg=(t,...e)=>{try{return!!t(...e)}catch{return!1}},tF=t=>{t=T.merge.call({skipUndefined:!0},eF,t);const{fetch:e,Request:n,Response:r}=t,s=e?tc(e):typeof fetch=="function",i=tc(n),a=tc(r);if(!s)return!1;const o=s&&tc(tg),c=s&&(typeof ng=="function"?(f=>m=>f.encode(m))(new ng):async f=>new Uint8Array(await new n(f).arrayBuffer())),l=i&&o&&rg(()=>{let f=!1;const m=new n(Se.origin,{body:new tg,method:"POST",get duplex(){return f=!0,"half"}}).headers.has("Content-Type");return f&&!m}),u=a&&o&&rg(()=>T.isReadableStream(new r("").body)),p={stream:u&&(f=>f.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(f=>{!p[f]&&(p[f]=(m,g)=>{let b=m&&m[f];if(b)return b.call(m);throw new W(`Response type '${f}' is not supported`,W.ERR_NOT_SUPPORT,g)})});const h=async f=>{if(f==null)return 0;if(T.isBlob(f))return f.size;if(T.isSpecCompliantForm(f))return(await new n(Se.origin,{method:"POST",body:f}).arrayBuffer()).byteLength;if(T.isArrayBufferView(f)||T.isArrayBuffer(f))return f.byteLength;if(T.isURLSearchParams(f)&&(f=f+""),T.isString(f))return(await c(f)).byteLength},y=async(f,m)=>{const g=T.toFiniteNumber(f.getContentLength());return g??h(m)};return async f=>{let{url:m,method:g,data:b,signal:_,cancelToken:S,timeout:C,onDownloadProgress:L,onUploadProgress:K,responseType:D,headers:Z,withCredentials:se="same-origin",fetchOptions:ve}=V0(f),J=e||fetch;D=D?(D+"").toLowerCase():"text";let X=JM([_,S&&S.toAbortSignal()],C),ne=null;const A=X&&X.unsubscribe&&(()=>{X.unsubscribe()});let F;try{if(K&&l&&g!=="get"&&g!=="head"&&(F=await y(Z,b))!==0){let $=new n(m,{method:"POST",body:b,duplex:"half"}),N;if(T.isFormData(b)&&(N=$.headers.get("content-type"))&&Z.setContentType(N),$.body){const[R,x]=Bc(F,Fi(Dc(K)));b=Zy($.body,eg,R,x)}}T.isString(se)||(se=se?"include":"omit");const V=i&&"credentials"in n.prototype,q={...ve,signal:X,method:g.toUpperCase(),headers:Z.normalize().toJSON(),body:b,duplex:"half",credentials:V?se:void 0};ne=i&&new n(m,q);let M=await(i?J(ne,ve):J(m,q));const z=u&&(D==="stream"||D==="response");if(u&&(L||z&&A)){const $={};["status","statusText","headers"].forEach(w=>{$[w]=M[w]});const N=T.toFiniteNumber(M.headers.get("content-length")),[R,x]=L&&Bc(N,Fi(Dc(L),!0))||[];M=new r(Zy(M.body,eg,R,()=>{x&&x(),A&&A()}),$)}D=D||"text";let I=await p[T.findKey(p,D)||"text"](M,f);return!z&&A&&A(),await new Promise(($,N)=>{ti($,N,{data:I,headers:et.from(M.headers),status:M.status,statusText:M.statusText,config:f,request:ne})})}catch(V){throw A&&A(),V&&V.name==="TypeError"&&/Load failed|fetch/i.test(V.message)?Object.assign(new W("Network Error",W.ERR_NETWORK,f,ne),{cause:V.cause||V}):W.from(V,V&&V.code,f,ne)}}},nF=new Map,G0=t=>{let e=t?t.env:{};const{fetch:n,Request:r,Response:s}=e,i=[r,s,n];let a=i.length,o=a,c,l,u=nF;for(;o--;)c=i[o],l=u.get(c),l===void 0&&u.set(c,l=o?new Map:tF(e)),u=l;return l};G0();const sd={http:GM,xhr:KM,fetch:{get:G0}};T.forEach(sd,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const sg=t=>`- ${t}`,rF=t=>T.isFunction(t)||t===null||t===!1,H0={getAdapter:(t,e)=>{t=T.isArray(t)?t:[t];const{length:n}=t;let r,s;const i={};for(let a=0;a<n;a++){r=t[a];let o;if(s=r,!rF(r)&&(s=sd[(o=String(r)).toLowerCase()],s===void 0))throw new W(`Unknown adapter '${o}'`);if(s&&(T.isFunction(s)||(s=s.get(e))))break;i[o||"#"+a]=s}if(!s){const a=Object.entries(i).map(([c,l])=>`adapter ${c} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=n?a.length>1?`since :
`+a.map(sg).join(`
`):" "+sg(a[0]):"as no adapter specified";throw new W("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:sd};function xp(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Pr(null,t)}function ig(t){return xp(t),t.headers=et.from(t.headers),t.data=fp.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),H0.getAdapter(t.adapter||xo.adapter,t)(t).then(function(r){return xp(t),r.data=fp.call(t,t.transformResponse,r),r.headers=et.from(r.headers),r},function(r){return k0(r)||(xp(t),r&&r.response&&(r.response.data=fp.call(t,t.transformResponse,r.response),r.response.headers=et.from(r.response.headers))),Promise.reject(r)})}const Hl={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Hl[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const ag={};Hl.transitional=function(e,n,r){function s(i,a){return"[Axios v"+Uc+"] Transitional option '"+i+"'"+a+(r?". "+r:"")}return(i,a,o)=>{if(e===!1)throw new W(s(a," has been removed"+(n?" in "+n:"")),W.ERR_DEPRECATED);return n&&!ag[a]&&(ag[a]=!0,console.warn(s(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,a,o):!0}};Hl.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function sF(t,e,n){if(typeof t!="object")throw new W("options must be an object",W.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],a=e[i];if(a){const o=t[i],c=o===void 0||a(o,i,t);if(c!==!0)throw new W("option "+i+" must be "+c,W.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new W("Unknown option "+i,W.ERR_BAD_OPTION)}}const wc={assertOptions:sF,validators:Hl},hn=wc.validators;let xs=class{constructor(e){this.defaults=e||{},this.interceptors={request:new jy,response:new jy}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ns(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&wc.assertOptions(r,{silentJSONParsing:hn.transitional(hn.boolean),forcedJSONParsing:hn.transitional(hn.boolean),clarifyTimeoutError:hn.transitional(hn.boolean)},!1),s!=null&&(T.isFunction(s)?n.paramsSerializer={serialize:s}:wc.assertOptions(s,{encode:hn.function,serialize:hn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),wc.assertOptions(n,{baseUrl:hn.spelling("baseURL"),withXsrfToken:hn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=i&&T.merge(i.common,i[n.method]);i&&T.forEach(["delete","get","head","post","put","patch","common"],f=>{delete i[f]}),n.headers=et.concat(a,i);const o=[];let c=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(c=c&&m.synchronous,o.unshift(m.fulfilled,m.rejected))});const l=[];this.interceptors.response.forEach(function(m){l.push(m.fulfilled,m.rejected)});let u,p=0,h;if(!c){const f=[ig.bind(this),void 0];for(f.unshift(...o),f.push(...l),h=f.length,u=Promise.resolve(n);p<h;)u=u.then(f[p++],f[p++]);return u}h=o.length;let y=n;for(;p<h;){const f=o[p++],m=o[p++];try{y=f(y)}catch(g){m.call(this,g);break}}try{u=ig.call(this,y)}catch(f){return Promise.reject(f)}for(p=0,h=l.length;p<h;)u=u.then(l[p++],l[p++]);return u}getUri(e){e=Ns(this.defaults,e);const n=mh(e.baseURL,e.url,e.allowAbsoluteUrls);return dh(n,e.params,e.paramsSerializer)}};T.forEach(["delete","get","head","options"],function(e){xs.prototype[e]=function(n,r){return this.request(Ns(r||{},{method:e,url:n,data:(r||{}).data}))}});T.forEach(["post","put","patch"],function(e){function n(r){return function(i,a,o){return this.request(Ns(o||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}xs.prototype[e]=n(),xs.prototype[e+"Form"]=n(!0)});let iF=class Q0{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(o=>{r.subscribe(o),i=o}).then(s);return a.cancel=function(){r.unsubscribe(i)},a},e(function(i,a,o){r.reason||(r.reason=new Pr(i,a,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Q0(function(s){e=s}),cancel:e}}};function aF(t){return function(n){return t.apply(null,n)}}function oF(t){return T.isObject(t)&&t.isAxiosError===!0}const id={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(id).forEach(([t,e])=>{id[e]=t});function W0(t){const e=new xs(t),n=e0(xs.prototype.request,e);return T.extend(n,xs.prototype,e,{allOwnKeys:!0}),T.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return W0(Ns(t,s))},n}const Re=W0(xo);Re.Axios=xs;Re.CanceledError=Pr;Re.CancelToken=iF;Re.isCancel=k0;Re.VERSION=Uc;Re.toFormData=Gl;Re.AxiosError=W;Re.Cancel=Re.CanceledError;Re.all=function(e){return Promise.all(e)};Re.spread=aF;Re.isAxiosError=oF;Re.mergeConfig=Ns;Re.AxiosHeaders=et;Re.formToJSON=t=>P0(T.isHTMLForm(t)?new FormData(t):t);Re.getAdapter=H0.getAdapter;Re.HttpStatusCode=id;Re.default=Re;const{Axios:S6,AxiosError:E6,CanceledError:R6,isCancel:T6,CancelToken:O6,VERSION:C6,all:N6,Cancel:A6,isAxiosError:I6,spread:P6,toFormData:k6,AxiosHeaders:j6,HttpStatusCode:L6,formToJSON:q6,getAdapter:M6,mergeConfig:F6}=Re,cF=Re.create({timeout:5*60*1e3,headers:{"Content-Type":"application/json"}}),Sh=Re.create({baseURL:"https://my.prom.ua/api/v1/",timeout:2*60*1e3,headers:{"Content-Type":"application/json"}});Sh.interceptors.request.use(t=>(t.headers.Authorization=`Bearer ${Z_("promApiKey")}`,t));async function lF(){return await Sh.get("products/list",{params:{limit:1}})}function uF(t,e){const n=[];for(let r=0;r<t.length;r+=e)n.push(t.slice(r,r+e));return n}async function K0(t){const e=[];for(const n of uF(t,100)){const r=await Sh.post("products/edit_by_external_id",n.map(s=>({id:s.offerId,presence:"available",price:s.newPrice,oldprice:s.oldPrice})));if(r.status!==200)throw new Error("Failed to update products");if(r.data.errors){console.log(Object.entries(r.data.errors).map(([s,i])=>{var a,o;return{offerId:s,newPrice:(a=n.find(c=>c.offerId===s))==null?void 0:a.newPrice,oldPrice:(o=n.find(c=>c.offerId===s))==null?void 0:o.oldPrice,error:i}}));for(const s of n)e.push({offerId:s.offerId,isSuccess:!r.data.errors.hasOwnProperty(s.offerId)})}}return e}async function J0(){try{const t=await lF();switch(console.log(t.status),t.status){case 200:return!0;default:return!1}}catch(t){return console.log(t),!1}}async function pF(t){const e=Z_("promApiKey");return{isSuccess:!0,data:{promApiKey:e,isValid:e&&await J0()}}}async function dF(t,e){return e.promApiKey.length===0?{isSuccess:!1,error:{promApiKey:{message:"API key is missing"}}}:(Vj("promApiKey",e.promApiKey),{isSuccess:!0,data:{promApiKey:e.promApiKey,isValid:await J0()}})}const Y0=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",fF=Y0+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",hF="["+Y0+"]["+fF+"]*",mF=new RegExp("^"+hF+"$");function X0(t,e){const n=[];let r=e.exec(t);for(;r;){const s=[];s.startIndex=e.lastIndex-r[0].length;const i=r.length;for(let a=0;a<i;a++)s.push(r[a]);n.push(s),r=e.exec(t)}return n}const Ql=function(t){const e=mF.exec(t);return!(e===null||typeof e>"u")};function yF(t){return typeof t<"u"}const gF={allowBooleanAttributes:!1,unpairedTags:[]};function vF(t,e){e=Object.assign({},gF,e);const n=[];let r=!1,s=!1;t[0]==="\uFEFF"&&(t=t.substr(1));for(let i=0;i<t.length;i++)if(t[i]==="<"&&t[i+1]==="?"){if(i+=2,i=cg(t,i),i.err)return i}else if(t[i]==="<"){let a=i;if(i++,t[i]==="!"){i=lg(t,i);continue}else{let o=!1;t[i]==="/"&&(o=!0,i++);let c="";for(;i<t.length&&t[i]!==">"&&t[i]!==" "&&t[i]!=="	"&&t[i]!==`
`&&t[i]!=="\r";i++)c+=t[i];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),i--),!RF(c)){let p;return c.trim().length===0?p="Invalid space after '<'.":p="Tag '"+c+"' is an invalid name.",Oe("InvalidTag",p,ct(t,i))}const l=wF(t,i);if(l===!1)return Oe("InvalidAttr","Attributes for '"+c+"' have open quote.",ct(t,i));let u=l.value;if(i=l.index,u[u.length-1]==="/"){const p=i-u.length;u=u.substring(0,u.length-1);const h=ug(u,e);if(h===!0)r=!0;else return Oe(h.err.code,h.err.msg,ct(t,p+h.err.line))}else if(o)if(l.tagClosed){if(u.trim().length>0)return Oe("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",ct(t,a));if(n.length===0)return Oe("InvalidTag","Closing tag '"+c+"' has not been opened.",ct(t,a));{const p=n.pop();if(c!==p.tagName){let h=ct(t,p.tagStartPos);return Oe("InvalidTag","Expected closing tag '"+p.tagName+"' (opened in line "+h.line+", col "+h.col+") instead of closing tag '"+c+"'.",ct(t,a))}n.length==0&&(s=!0)}}else return Oe("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",ct(t,i));else{const p=ug(u,e);if(p!==!0)return Oe(p.err.code,p.err.msg,ct(t,i-u.length+p.err.line));if(s===!0)return Oe("InvalidXml","Multiple possible root nodes found.",ct(t,i));e.unpairedTags.indexOf(c)!==-1||n.push({tagName:c,tagStartPos:a}),r=!0}for(i++;i<t.length;i++)if(t[i]==="<")if(t[i+1]==="!"){i++,i=lg(t,i);continue}else if(t[i+1]==="?"){if(i=cg(t,++i),i.err)return i}else break;else if(t[i]==="&"){const p=SF(t,i);if(p==-1)return Oe("InvalidChar","char '&' is not expected.",ct(t,i));i=p}else if(s===!0&&!og(t[i]))return Oe("InvalidXml","Extra text at the end",ct(t,i));t[i]==="<"&&i--}}else{if(og(t[i]))continue;return Oe("InvalidChar","char '"+t[i]+"' is not expected.",ct(t,i))}if(r){if(n.length==1)return Oe("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",ct(t,n[0].tagStartPos));if(n.length>0)return Oe("InvalidXml","Invalid '"+JSON.stringify(n.map(i=>i.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return Oe("InvalidXml","Start tag expected.",1);return!0}function og(t){return t===" "||t==="	"||t===`
`||t==="\r"}function cg(t,e){const n=e;for(;e<t.length;e++)if(t[e]=="?"||t[e]==" "){const r=t.substr(n,e-n);if(e>5&&r==="xml")return Oe("InvalidXml","XML declaration allowed only at the start of the document.",ct(t,e));if(t[e]=="?"&&t[e+1]==">"){e++;break}else continue}return e}function lg(t,e){if(t.length>e+5&&t[e+1]==="-"&&t[e+2]==="-"){for(e+=3;e<t.length;e++)if(t[e]==="-"&&t[e+1]==="-"&&t[e+2]===">"){e+=2;break}}else if(t.length>e+8&&t[e+1]==="D"&&t[e+2]==="O"&&t[e+3]==="C"&&t[e+4]==="T"&&t[e+5]==="Y"&&t[e+6]==="P"&&t[e+7]==="E"){let n=1;for(e+=8;e<t.length;e++)if(t[e]==="<")n++;else if(t[e]===">"&&(n--,n===0))break}else if(t.length>e+9&&t[e+1]==="["&&t[e+2]==="C"&&t[e+3]==="D"&&t[e+4]==="A"&&t[e+5]==="T"&&t[e+6]==="A"&&t[e+7]==="["){for(e+=8;e<t.length;e++)if(t[e]==="]"&&t[e+1]==="]"&&t[e+2]===">"){e+=2;break}}return e}const bF='"',xF="'";function wF(t,e){let n="",r="",s=!1;for(;e<t.length;e++){if(t[e]===bF||t[e]===xF)r===""?r=t[e]:r!==t[e]||(r="");else if(t[e]===">"&&r===""){s=!0;break}n+=t[e]}return r!==""?!1:{value:n,index:e,tagClosed:s}}const _F=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function ug(t,e){const n=X0(t,_F),r={};for(let s=0;s<n.length;s++){if(n[s][1].length===0)return Oe("InvalidAttr","Attribute '"+n[s][2]+"' has no space in starting.",ha(n[s]));if(n[s][3]!==void 0&&n[s][4]===void 0)return Oe("InvalidAttr","Attribute '"+n[s][2]+"' is without value.",ha(n[s]));if(n[s][3]===void 0&&!e.allowBooleanAttributes)return Oe("InvalidAttr","boolean attribute '"+n[s][2]+"' is not allowed.",ha(n[s]));const i=n[s][2];if(!EF(i))return Oe("InvalidAttr","Attribute '"+i+"' is an invalid name.",ha(n[s]));if(!r.hasOwnProperty(i))r[i]=1;else return Oe("InvalidAttr","Attribute '"+i+"' is repeated.",ha(n[s]))}return!0}function $F(t,e){let n=/\d/;for(t[e]==="x"&&(e++,n=/[\da-fA-F]/);e<t.length;e++){if(t[e]===";")return e;if(!t[e].match(n))break}return-1}function SF(t,e){if(e++,t[e]===";")return-1;if(t[e]==="#")return e++,$F(t,e);let n=0;for(;e<t.length;e++,n++)if(!(t[e].match(/\w/)&&n<20)){if(t[e]===";")break;return-1}return e}function Oe(t,e,n){return{err:{code:t,msg:e,line:n.line||n,col:n.col}}}function EF(t){return Ql(t)}function RF(t){return Ql(t)}function ct(t,e){const n=t.substring(0,e).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function ha(t){return t.startIndex+t[1].length}const TF={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,e,n){return t},captureMetaData:!1},OF=function(t){return Object.assign({},TF,t)};let zc;typeof Symbol!="function"?zc="@@xmlMetadata":zc=Symbol("XML Node Metadata");class Zr{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,n){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:n})}addChild(e,n){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child}),n!==void 0&&(this.child[this.child.length-1][zc]={startIndex:n})}static getMetaDataSymbol(){return zc}}class CF{constructor(e){this.suppressValidationErr=!e}readDocType(e,n){const r={};if(e[n+3]==="O"&&e[n+4]==="C"&&e[n+5]==="T"&&e[n+6]==="Y"&&e[n+7]==="P"&&e[n+8]==="E"){n=n+9;let s=1,i=!1,a=!1,o="";for(;n<e.length;n++)if(e[n]==="<"&&!a){if(i&&Br(e,"!ENTITY",n)){n+=7;let c,l;[c,l,n]=this.readEntityExp(e,n+1,this.suppressValidationErr),l.indexOf("&")===-1&&(r[c]={regx:RegExp(`&${c};`,"g"),val:l})}else if(i&&Br(e,"!ELEMENT",n)){n+=8;const{index:c}=this.readElementExp(e,n+1);n=c}else if(i&&Br(e,"!ATTLIST",n))n+=8;else if(i&&Br(e,"!NOTATION",n)){n+=9;const{index:c}=this.readNotationExp(e,n+1,this.suppressValidationErr);n=c}else if(Br(e,"!--",n))a=!0;else throw new Error("Invalid DOCTYPE");s++,o=""}else if(e[n]===">"){if(a?e[n-1]==="-"&&e[n-2]==="-"&&(a=!1,s--):s--,s===0)break}else e[n]==="["?i=!0:o+=e[n];if(s!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:n}}readEntityExp(e,n){n=gt(e,n);let r="";for(;n<e.length&&!/\s/.test(e[n])&&e[n]!=='"'&&e[n]!=="'";)r+=e[n],n++;if(ma(r),n=gt(e,n),!this.suppressValidationErr){if(e.substring(n,n+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(e[n]==="%")throw new Error("Parameter entities are not supported")}let s="";return[n,s]=this.readIdentifierVal(e,n,"entity"),n--,[r,s,n]}readNotationExp(e,n){n=gt(e,n);let r="";for(;n<e.length&&!/\s/.test(e[n]);)r+=e[n],n++;!this.suppressValidationErr&&ma(r),n=gt(e,n);const s=e.substring(n,n+6).toUpperCase();if(!this.suppressValidationErr&&s!=="SYSTEM"&&s!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${s}"`);n+=s.length,n=gt(e,n);let i=null,a=null;if(s==="PUBLIC")[n,i]=this.readIdentifierVal(e,n,"publicIdentifier"),n=gt(e,n),(e[n]==='"'||e[n]==="'")&&([n,a]=this.readIdentifierVal(e,n,"systemIdentifier"));else if(s==="SYSTEM"&&([n,a]=this.readIdentifierVal(e,n,"systemIdentifier"),!this.suppressValidationErr&&!a))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:r,publicIdentifier:i,systemIdentifier:a,index:--n}}readIdentifierVal(e,n,r){let s="";const i=e[n];if(i!=='"'&&i!=="'")throw new Error(`Expected quoted string, found "${i}"`);for(n++;n<e.length&&e[n]!==i;)s+=e[n],n++;if(e[n]!==i)throw new Error(`Unterminated ${r} value`);return n++,[n,s]}readElementExp(e,n){n=gt(e,n);let r="";for(;n<e.length&&!/\s/.test(e[n]);)r+=e[n],n++;if(!this.suppressValidationErr&&!Ql(r))throw new Error(`Invalid element name: "${r}"`);n=gt(e,n);let s="";if(e[n]==="E"&&Br(e,"MPTY",n))n+=4;else if(e[n]==="A"&&Br(e,"NY",n))n+=2;else if(e[n]==="("){for(n++;n<e.length&&e[n]!==")";)s+=e[n],n++;if(e[n]!==")")throw new Error("Unterminated content model")}else if(!this.suppressValidationErr)throw new Error(`Invalid Element Expression, found "${e[n]}"`);return{elementName:r,contentModel:s.trim(),index:n}}readAttlistExp(e,n){n=gt(e,n);let r="";for(;n<e.length&&!/\s/.test(e[n]);)r+=e[n],n++;ma(r),n=gt(e,n);let s="";for(;n<e.length&&!/\s/.test(e[n]);)s+=e[n],n++;if(!ma(s))throw new Error(`Invalid attribute name: "${s}"`);n=gt(e,n);let i="";if(e.substring(n,n+8).toUpperCase()==="NOTATION"){if(i="NOTATION",n+=8,n=gt(e,n),e[n]!=="(")throw new Error(`Expected '(', found "${e[n]}"`);n++;let o=[];for(;n<e.length&&e[n]!==")";){let c="";for(;n<e.length&&e[n]!=="|"&&e[n]!==")";)c+=e[n],n++;if(c=c.trim(),!ma(c))throw new Error(`Invalid notation name: "${c}"`);o.push(c),e[n]==="|"&&(n++,n=gt(e,n))}if(e[n]!==")")throw new Error("Unterminated list of notations");n++,i+=" ("+o.join("|")+")"}else{for(;n<e.length&&!/\s/.test(e[n]);)i+=e[n],n++;const o=["CDATA","ID","IDREF","IDREFS","ENTITY","ENTITIES","NMTOKEN","NMTOKENS"];if(!this.suppressValidationErr&&!o.includes(i.toUpperCase()))throw new Error(`Invalid attribute type: "${i}"`)}n=gt(e,n);let a="";return e.substring(n,n+8).toUpperCase()==="#REQUIRED"?(a="#REQUIRED",n+=8):e.substring(n,n+7).toUpperCase()==="#IMPLIED"?(a="#IMPLIED",n+=7):[n,a]=this.readIdentifierVal(e,n,"ATTLIST"),{elementName:r,attributeName:s,attributeType:i,defaultValue:a,index:n}}}const gt=(t,e)=>{for(;e<t.length&&/\s/.test(t[e]);)e++;return e};function Br(t,e,n){for(let r=0;r<e.length;r++)if(e[r]!==t[n+r+1])return!1;return!0}function ma(t){if(Ql(t))return t;throw new Error(`Invalid entity name ${t}`)}const NF=/^[-+]?0x[a-fA-F0-9]+$/,AF=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,IF={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function PF(t,e={}){if(e=Object.assign({},IF,e),!t||typeof t!="string")return t;let n=t.trim();if(e.skipLike!==void 0&&e.skipLike.test(n))return t;if(t==="0")return 0;if(e.hex&&NF.test(n))return qF(n,16);if(n.search(/.+[eE].+/)!==-1)return jF(t,n,e);{const r=AF.exec(n);if(r){const s=r[1]||"",i=r[2];let a=LF(r[3]);const o=s?t[i.length+1]===".":t[i.length]===".";if(!e.leadingZeros&&(i.length>1||i.length===1&&!o))return t;{const c=Number(n),l=String(c);if(c===0)return c;if(l.search(/[eE]/)!==-1)return e.eNotation?c:t;if(n.indexOf(".")!==-1)return l==="0"||l===a||l===`${s}${a}`?c:t;let u=i?a:n;return i?u===l||s+u===l?c:t:u===l||u===s+l?c:t}}else return t}}const kF=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function jF(t,e,n){if(!n.eNotation)return t;const r=e.match(kF);if(r){let s=r[1]||"";const i=r[3].indexOf("e")===-1?"E":"e",a=r[2],o=s?t[a.length+1]===i:t[a.length]===i;return a.length>1&&o?t:a.length===1&&(r[3].startsWith(`.${i}`)||r[3][0]===i)?Number(e):n.leadingZeros&&!o?(e=(r[1]||"")+r[3],Number(e)):t}else return t}function LF(t){return t&&t.indexOf(".")!==-1&&(t=t.replace(/0+$/,""),t==="."?t="0":t[0]==="."?t="0"+t:t[t.length-1]==="."&&(t=t.substring(0,t.length-1))),t}function qF(t,e){if(parseInt)return parseInt(t,e);if(Number.parseInt)return Number.parseInt(t,e);if(window&&window.parseInt)return window.parseInt(t,e);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}function MF(t){return typeof t=="function"?t:Array.isArray(t)?e=>{for(const n of t)if(typeof n=="string"&&e===n||n instanceof RegExp&&n.test(e))return!0}:()=>!1}class FF{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(n,r)=>String.fromCodePoint(Number.parseInt(r,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(n,r)=>String.fromCodePoint(Number.parseInt(r,16))}},this.addExternalEntities=UF,this.parseXml=GF,this.parseTextData=BF,this.resolveNameSpace=DF,this.buildAttributesMap=VF,this.isItStopNode=KF,this.replaceEntitiesValue=QF,this.readStopNodeData=YF,this.saveTextToParentTag=WF,this.addChild=HF,this.ignoreAttributesFn=MF(this.options.ignoreAttributes)}}function UF(t){const e=Object.keys(t);for(let n=0;n<e.length;n++){const r=e[n];this.lastEntities[r]={regex:new RegExp("&"+r+";","g"),val:t[r]}}}function BF(t,e,n,r,s,i,a){if(t!==void 0&&(this.options.trimValues&&!r&&(t=t.trim()),t.length>0)){a||(t=this.replaceEntitiesValue(t));const o=this.options.tagValueProcessor(e,t,n,s,i);return o==null?t:typeof o!=typeof t||o!==t?o:this.options.trimValues?od(t,this.options.parseTagValue,this.options.numberParseOptions):t.trim()===t?od(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function DF(t){if(this.options.removeNSPrefix){const e=t.split(":"),n=t.charAt(0)==="/"?"/":"";if(e[0]==="xmlns")return"";e.length===2&&(t=n+e[1])}return t}const zF=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function VF(t,e,n){if(this.options.ignoreAttributes!==!0&&typeof t=="string"){const r=X0(t,zF),s=r.length,i={};for(let a=0;a<s;a++){const o=this.resolveNameSpace(r[a][1]);if(this.ignoreAttributesFn(o,e))continue;let c=r[a][4],l=this.options.attributeNamePrefix+o;if(o.length)if(this.options.transformAttributeName&&(l=this.options.transformAttributeName(l)),l==="__proto__"&&(l="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);const u=this.options.attributeValueProcessor(o,c,e);u==null?i[l]=c:typeof u!=typeof c||u!==c?i[l]=u:i[l]=od(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(i[l]=!0)}if(!Object.keys(i).length)return;if(this.options.attributesGroupName){const a={};return a[this.options.attributesGroupName]=i,a}return i}}const GF=function(t){t=t.replace(/\r\n?/g,`
`);const e=new Zr("!xml");let n=e,r="",s="";const i=new CF(this.options.processEntities);for(let a=0;a<t.length;a++)if(t[a]==="<")if(t[a+1]==="/"){const c=rs(t,">",a,"Closing Tag is not closed.");let l=t.substring(a+2,c).trim();if(this.options.removeNSPrefix){const h=l.indexOf(":");h!==-1&&(l=l.substr(h+1))}this.options.transformTagName&&(l=this.options.transformTagName(l)),n&&(r=this.saveTextToParentTag(r,n,s));const u=s.substring(s.lastIndexOf(".")+1);if(l&&this.options.unpairedTags.indexOf(l)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${l}>`);let p=0;u&&this.options.unpairedTags.indexOf(u)!==-1?(p=s.lastIndexOf(".",s.lastIndexOf(".")-1),this.tagsNodeStack.pop()):p=s.lastIndexOf("."),s=s.substring(0,p),n=this.tagsNodeStack.pop(),r="",a=c}else if(t[a+1]==="?"){let c=ad(t,a,!1,"?>");if(!c)throw new Error("Pi Tag is not closed.");if(r=this.saveTextToParentTag(r,n,s),!(this.options.ignoreDeclaration&&c.tagName==="?xml"||this.options.ignorePiTags)){const l=new Zr(c.tagName);l.add(this.options.textNodeName,""),c.tagName!==c.tagExp&&c.attrExpPresent&&(l[":@"]=this.buildAttributesMap(c.tagExp,s,c.tagName)),this.addChild(n,l,s,a)}a=c.closeIndex+1}else if(t.substr(a+1,3)==="!--"){const c=rs(t,"-->",a+4,"Comment is not closed.");if(this.options.commentPropName){const l=t.substring(a+4,c-2);r=this.saveTextToParentTag(r,n,s),n.add(this.options.commentPropName,[{[this.options.textNodeName]:l}])}a=c}else if(t.substr(a+1,2)==="!D"){const c=i.readDocType(t,a);this.docTypeEntities=c.entities,a=c.i}else if(t.substr(a+1,2)==="!["){const c=rs(t,"]]>",a,"CDATA is not closed.")-2,l=t.substring(a+9,c);r=this.saveTextToParentTag(r,n,s);let u=this.parseTextData(l,n.tagname,s,!0,!1,!0,!0);u==null&&(u=""),this.options.cdataPropName?n.add(this.options.cdataPropName,[{[this.options.textNodeName]:l}]):n.add(this.options.textNodeName,u),a=c+2}else{let c=ad(t,a,this.options.removeNSPrefix),l=c.tagName;const u=c.rawTagName;let p=c.tagExp,h=c.attrExpPresent,y=c.closeIndex;this.options.transformTagName&&(l=this.options.transformTagName(l)),n&&r&&n.tagname!=="!xml"&&(r=this.saveTextToParentTag(r,n,s,!1));const f=n;f&&this.options.unpairedTags.indexOf(f.tagname)!==-1&&(n=this.tagsNodeStack.pop(),s=s.substring(0,s.lastIndexOf("."))),l!==e.tagname&&(s+=s?"."+l:l);const m=a;if(this.isItStopNode(this.options.stopNodes,s,l)){let g="";if(p.length>0&&p.lastIndexOf("/")===p.length-1)l[l.length-1]==="/"?(l=l.substr(0,l.length-1),s=s.substr(0,s.length-1),p=l):p=p.substr(0,p.length-1),a=c.closeIndex;else if(this.options.unpairedTags.indexOf(l)!==-1)a=c.closeIndex;else{const _=this.readStopNodeData(t,u,y+1);if(!_)throw new Error(`Unexpected end of ${u}`);a=_.i,g=_.tagContent}const b=new Zr(l);l!==p&&h&&(b[":@"]=this.buildAttributesMap(p,s,l)),g&&(g=this.parseTextData(g,l,s,!0,h,!0,!0)),s=s.substr(0,s.lastIndexOf(".")),b.add(this.options.textNodeName,g),this.addChild(n,b,s,m)}else{if(p.length>0&&p.lastIndexOf("/")===p.length-1){l[l.length-1]==="/"?(l=l.substr(0,l.length-1),s=s.substr(0,s.length-1),p=l):p=p.substr(0,p.length-1),this.options.transformTagName&&(l=this.options.transformTagName(l));const g=new Zr(l);l!==p&&h&&(g[":@"]=this.buildAttributesMap(p,s,l)),this.addChild(n,g,s,m),s=s.substr(0,s.lastIndexOf("."))}else{const g=new Zr(l);this.tagsNodeStack.push(n),l!==p&&h&&(g[":@"]=this.buildAttributesMap(p,s,l)),this.addChild(n,g,s,m),n=g}r="",a=y}}else r+=t[a];return e.child};function HF(t,e,n,r){this.options.captureMetaData||(r=void 0);const s=this.options.updateTag(e.tagname,n,e[":@"]);s===!1||(typeof s=="string"&&(e.tagname=s),t.addChild(e,r))}const QF=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){const n=this.docTypeEntities[e];t=t.replace(n.regx,n.val)}for(let e in this.lastEntities){const n=this.lastEntities[e];t=t.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){const n=this.htmlEntities[e];t=t.replace(n.regex,n.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t};function WF(t,e,n,r){return t&&(r===void 0&&(r=e.child.length===0),t=this.parseTextData(t,e.tagname,n,!1,e[":@"]?Object.keys(e[":@"]).length!==0:!1,r),t!==void 0&&t!==""&&e.add(this.options.textNodeName,t),t=""),t}function KF(t,e,n){const r="*."+n;for(const s in t){const i=t[s];if(r===i||e===i)return!0}return!1}function JF(t,e,n=">"){let r,s="";for(let i=e;i<t.length;i++){let a=t[i];if(r)a===r&&(r="");else if(a==='"'||a==="'")r=a;else if(a===n[0])if(n[1]){if(t[i+1]===n[1])return{data:s,index:i}}else return{data:s,index:i};else a==="	"&&(a=" ");s+=a}}function rs(t,e,n,r){const s=t.indexOf(e,n);if(s===-1)throw new Error(r);return s+e.length-1}function ad(t,e,n,r=">"){const s=JF(t,e+1,r);if(!s)return;let i=s.data;const a=s.index,o=i.search(/\s/);let c=i,l=!0;o!==-1&&(c=i.substring(0,o),i=i.substring(o+1).trimStart());const u=c;if(n){const p=c.indexOf(":");p!==-1&&(c=c.substr(p+1),l=c!==s.data.substr(p+1))}return{tagName:c,tagExp:i,closeIndex:a,attrExpPresent:l,rawTagName:u}}function YF(t,e,n){const r=n;let s=1;for(;n<t.length;n++)if(t[n]==="<")if(t[n+1]==="/"){const i=rs(t,">",n,`${e} is not closed`);if(t.substring(n+2,i).trim()===e&&(s--,s===0))return{tagContent:t.substring(r,n),i};n=i}else if(t[n+1]==="?")n=rs(t,"?>",n+1,"StopNode is not closed.");else if(t.substr(n+1,3)==="!--")n=rs(t,"-->",n+3,"StopNode is not closed.");else if(t.substr(n+1,2)==="![")n=rs(t,"]]>",n,"StopNode is not closed.")-2;else{const i=ad(t,n,">");i&&((i&&i.tagName)===e&&i.tagExp[i.tagExp.length-1]!=="/"&&s++,n=i.closeIndex)}}function od(t,e,n){if(e&&typeof t=="string"){const r=t.trim();return r==="true"?!0:r==="false"?!1:PF(t,n)}else return yF(t)?t:""}const wp=Zr.getMetaDataSymbol();function XF(t,e){return Z0(t,e)}function Z0(t,e,n){let r;const s={};for(let i=0;i<t.length;i++){const a=t[i],o=ZF(a);let c="";if(n===void 0?c=o:c=n+"."+o,o===e.textNodeName)r===void 0?r=a[o]:r+=""+a[o];else{if(o===void 0)continue;if(a[o]){let l=Z0(a[o],e,c);const u=tU(l,e);a[wp]!==void 0&&(l[wp]=a[wp]),a[":@"]?eU(l,a[":@"],c,e):Object.keys(l).length===1&&l[e.textNodeName]!==void 0&&!e.alwaysCreateTextNode?l=l[e.textNodeName]:Object.keys(l).length===0&&(e.alwaysCreateTextNode?l[e.textNodeName]="":l=""),s[o]!==void 0&&s.hasOwnProperty(o)?(Array.isArray(s[o])||(s[o]=[s[o]]),s[o].push(l)):e.isArray(o,c,u)?s[o]=[l]:s[o]=l}}}return typeof r=="string"?r.length>0&&(s[e.textNodeName]=r):r!==void 0&&(s[e.textNodeName]=r),s}function ZF(t){const e=Object.keys(t);for(let n=0;n<e.length;n++){const r=e[n];if(r!==":@")return r}}function eU(t,e,n,r){if(e){const s=Object.keys(e),i=s.length;for(let a=0;a<i;a++){const o=s[a];r.isArray(o,n+"."+o,!0,!0)?t[o]=[e[o]]:t[o]=e[o]}}}function tU(t,e){const{textNodeName:n}=e,r=Object.keys(t).length;return!!(r===0||r===1&&(t[n]||typeof t[n]=="boolean"||t[n]===0))}class nU{constructor(e){this.externalEntities={},this.options=OF(e)}parse(e,n){if(typeof e!="string"&&e.toString)e=e.toString();else if(typeof e!="string")throw new Error("XML data is accepted in String or Bytes[] form.");if(n){n===!0&&(n={});const i=vF(e,n);if(i!==!0)throw Error(`${i.err.msg}:${i.err.line}:${i.err.col}`)}const r=new FF(this.options);r.addExternalEntities(this.externalEntities);const s=r.parseXml(e);return this.options.preserveOrder||s===void 0?s:XF(s,this.options)}addEntity(e,n){if(n.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(e.indexOf("&")!==-1||e.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(n==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=n}static getMetaDataSymbol(){return Zr.getMetaDataSymbol()}}const e$=new Map;function rU(t,e){e$.set(t,e)}function t$(t){return e$.get(t)||null}function n$(t,e=1,n,r){let s=[];for(const o of t){const c=t$(o);c&&s.push(...c.offers)}if(r){const o=r.toLowerCase();s=s.filter(c=>c.name.toLowerCase().includes(o))}const i=(e-1)*n,a=n!==void 0?i+n:void 0;return s.slice(i,a)}function r$(t,e=1,n,r){let s=[];for(const o of t){const c=t$(o);if(c)s.push(...c.categories);else throw new Error(`Каталог за URL ${o} не завантажений`)}if(r){const o=r.toLowerCase();s=s.filter(c=>c.name.toLowerCase().startsWith(o)||c.id.toLowerCase().startsWith(o))}const i=(e-1)*n,a=n!==void 0?i+n:void 0;return s.slice(i,a)}function sU(t){var c,l,u;const n=new nU({ignoreAttributes:!1,attributeNamePrefix:"",parseAttributeValue:!1,textNodeName:"text",cdataPropName:"cdata",isArray:(p,h,y,f)=>["categories.category","offers.offer","offer.picture","offer.param"].includes(h)}).parse(t),r=(c=n==null?void 0:n.yml_catalog)==null?void 0:c.shop;if(!r)throw new Error("Некоректний формат каталогу");const i=(((l=r.categories)==null?void 0:l.category)||[]).map(p=>({id:String(p.id),parentId:p.parentId?String(p.parentId):"",name:p.text||"",numberOfOffers:0})),o=(((u=r.offers)==null?void 0:u.offer)||[]).map(p=>{var h,y,f,m;return{id:String(p.id),categoryId:String(p.categoryId),quantityInStock:Number(p.quantity_in_stock??0),price:Number(p.price??0),oldPrice:Number(p.oldprice??0),name:((y=(h=p.name)==null?void 0:h.cdata)==null?void 0:y.trim())||((m=(f=p.name)==null?void 0:f.text)==null?void 0:m.trim())||""}});return{categories:i,offers:o}}async function iU(t){try{return(await cF.get(t,{responseType:"text",headers:{Accept:"application/xml, text/xml, */*;q=0.9"}})).data}catch{throw new Error(`Не вдалося завантажити каталог за URL: ${t}`)}}function s$(t,e,n){const r=t.filter(a=>a.parentId===n),s=e.filter(a=>a.categoryId===n).length,i=r.reduce((a,o)=>a+s$(t,e,o.id),0);return s+i}async function aU(t,e){const n=new Map,r=new Map;for(const s of e.catalogUrls)try{const{categories:i,offers:a}=sU(await iU(s));rU(s,{offers:a,categories:i.map(o=>({...o,numberOfOffers:s$(i,a,o.id)}))}),r.set(s,{numberOfProducts:a.length,numberOfCategories:i.length})}catch(i){n.set(s,{message:i.message})}return{data:Object.fromEntries(r),isSuccess:n.size===0,error:n.size>0?Object.fromEntries(n):void 0}}async function oU(t,{page:e=1,pageSize:n,query:r,catalogUrls:s}){try{return{isSuccess:!0,data:r$(s,e,n,r)}}catch(i){return{isSuccess:!1,error:{general:{message:i.message}}}}}async function cU(t,{page:e=1,pageSize:n,query:r,catalogUrls:s}){try{return{isSuccess:!0,data:n$(s,e,n,r)}}catch(i){return{isSuccess:!1,error:{general:{message:i.message}}}}}const B=Symbol.for("drizzle:entityKind");function U(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,B))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(t).constructor;if(n)for(;n;){if(B in n&&n[B]===e[B])return!0;n=Object.getPrototypeOf(n)}return!1}var yv;yv=B;class Ae{constructor(e,n){v(this,"name");v(this,"keyAsName");v(this,"primary");v(this,"notNull");v(this,"default");v(this,"defaultFn");v(this,"onUpdateFn");v(this,"hasDefault");v(this,"isUnique");v(this,"uniqueName");v(this,"uniqueType");v(this,"dataType");v(this,"columnType");v(this,"enumValues");v(this,"generated");v(this,"generatedIdentity");v(this,"config");this.table=e,this.config=n,this.name=n.name,this.keyAsName=n.keyAsName,this.notNull=n.notNull,this.default=n.default,this.defaultFn=n.defaultFn,this.onUpdateFn=n.onUpdateFn,this.hasDefault=n.hasDefault,this.primary=n.primaryKey,this.isUnique=n.isUnique,this.uniqueName=n.uniqueName,this.uniqueType=n.uniqueType,this.dataType=n.dataType,this.columnType=n.columnType,this.generated=n.generated,this.generatedIdentity=n.generatedIdentity}mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}v(Ae,yv,"Column");var gv;gv=B;class i${constructor(e,n,r){v(this,"config");v(this,"$default",this.$defaultFn);v(this,"$onUpdate",this.$onUpdateFn);this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:n,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}v(i$,gv,"ColumnBuilder");const Ir=Symbol.for("drizzle:Name"),pg=Symbol.for("drizzle:isPgEnum");function lU(t){return!!t&&typeof t=="function"&&pg in t&&t[pg]===!0}var vv;vv=B;class Ft{constructor(e,n,r,s=!1,i=[]){this._={brand:"Subquery",sql:e,selectedFields:n,alias:r,isWith:s,usedTables:i}}}v(Ft,vv,"Subquery");var bv,xv;class Eh extends(xv=Ft,bv=B,xv){}v(Eh,bv,"WithSubquery");const uU={startActiveSpan(t,e){return e()}},ot=Symbol.for("drizzle:ViewBaseConfig"),_c=Symbol.for("drizzle:Schema"),cd=Symbol.for("drizzle:Columns"),dg=Symbol.for("drizzle:ExtraConfigColumns"),_p=Symbol.for("drizzle:OriginalName"),$p=Symbol.for("drizzle:BaseName"),Vc=Symbol.for("drizzle:IsAlias"),fg=Symbol.for("drizzle:ExtraConfigBuilder"),pU=Symbol.for("drizzle:IsDrizzleTable");var wv,_v,$v,Sv,Ev,Rv,Tv,Ov,Cv,Nv;Nv=B,Cv=Ir,Ov=_p,Tv=_c,Rv=cd,Ev=dg,Sv=$p,$v=Vc,_v=pU,wv=fg;class H{constructor(e,n,r){v(this,Cv);v(this,Ov);v(this,Tv);v(this,Rv);v(this,Ev);v(this,Sv);v(this,$v,!1);v(this,_v,!0);v(this,wv);this[Ir]=this[_p]=e,this[_c]=n,this[$p]=r}}v(H,Nv,"Table"),v(H,"Symbol",{Name:Ir,Schema:_c,OriginalName:_p,Columns:cd,ExtraConfigColumns:dg,BaseName:$p,IsAlias:Vc,ExtraConfigBuilder:fg});function ri(t){return t[Ir]}function Ha(t){return`${t[_c]??"public"}.${t[Ir]}`}function a$(t){return t!=null&&typeof t.getSQL=="function"}function dU(t){var n;const e={sql:"",params:[]};for(const r of t)e.sql+=r.sql,e.params.push(...r.params),(n=r.typings)!=null&&n.length&&(e.typings||(e.typings=[]),e.typings.push(...r.typings));return e}var Av;Av=B;class He{constructor(e){v(this,"value");this.value=Array.isArray(e)?e:[e]}getSQL(){return new te([this])}}v(He,Av,"StringChunk");var Iv;Iv=B;const es=class es{constructor(e){v(this,"decoder",o$);v(this,"shouldInlineParams",!1);v(this,"usedTables",[]);this.queryChunks=e;for(const n of e)if(U(n,H)){const r=n[H.Symbol.Schema];this.usedTables.push(r===void 0?n[H.Symbol.Name]:r+"."+n[H.Symbol.Name])}}append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return uU.startActiveSpan("drizzle.buildSQL",n=>{const r=this.buildQueryFromSourceParams(this.queryChunks,e);return n==null||n.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(e,n){const r=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:s,escapeName:i,escapeParam:a,prepareTyping:o,inlineParams:c,paramStartIndex:l}=r;return dU(e.map(u=>{var p;if(U(u,He))return{sql:u.value.join(""),params:[]};if(U(u,Gc))return{sql:i(u.value),params:[]};if(u===void 0)return{sql:"",params:[]};if(Array.isArray(u)){const h=[new He("(")];for(const[y,f]of u.entries())h.push(f),y<u.length-1&&h.push(new He(", "));return h.push(new He(")")),this.buildQueryFromSourceParams(h,r)}if(U(u,es))return this.buildQueryFromSourceParams(u.queryChunks,{...r,inlineParams:c||u.shouldInlineParams});if(U(u,H)){const h=u[H.Symbol.Schema],y=u[H.Symbol.Name];return{sql:h===void 0||u[Vc]?i(y):i(h)+"."+i(y),params:[]}}if(U(u,Ae)){const h=s.getColumnCasing(u);if(n.invokeSource==="indexes")return{sql:i(h),params:[]};const y=u.table[H.Symbol.Schema];return{sql:u.table[Vc]||y===void 0?i(u.table[H.Symbol.Name])+"."+i(h):i(y)+"."+i(u.table[H.Symbol.Name])+"."+i(h),params:[]}}if(U(u,Ls)){const h=u[ot].schema,y=u[ot].name;return{sql:h===void 0||u[ot].isAlias?i(y):i(h)+"."+i(y),params:[]}}if(U(u,Zn)){if(U(u.value,As))return{sql:a(l.value++,u),params:[u],typings:["none"]};const h=u.value===null?null:u.encoder.mapToDriverValue(u.value);if(U(h,es))return this.buildQueryFromSourceParams([h],r);if(c)return{sql:this.mapInlineParam(h,r),params:[]};let y=["none"];return o&&(y=[o(u.encoder)]),{sql:a(l.value++,h),params:[h],typings:y}}return U(u,As)?{sql:a(l.value++,u),params:[u],typings:["none"]}:U(u,es.Aliased)&&u.fieldAlias!==void 0?{sql:i(u.fieldAlias),params:[]}:U(u,Ft)?u._.isWith?{sql:i(u._.alias),params:[]}:this.buildQueryFromSourceParams([new He("("),u._.sql,new He(") "),new Gc(u._.alias)],r):lU(u)?u.schema?{sql:i(u.schema)+"."+i(u.enumName),params:[]}:{sql:i(u.enumName),params:[]}:a$(u)?(p=u.shouldOmitSQLParens)!=null&&p.call(u)?this.buildQueryFromSourceParams([u.getSQL()],r):this.buildQueryFromSourceParams([new He("("),u.getSQL(),new He(")")],r):c?{sql:this.mapInlineParam(u,r),params:[]}:{sql:a(l.value++,u),params:[u],typings:["none"]}}))}mapInlineParam(e,{escapeString:n}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return n(e);if(typeof e=="object"){const r=e.toString();return n(r==="[object Object]"?JSON.stringify(e):r)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new es.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}};v(es,Iv,"SQL");let te=es;var Pv;Pv=B;class Gc{constructor(e){v(this,"brand");this.value=e}getSQL(){return new te([this])}}v(Gc,Pv,"Name");function fU(t){return typeof t=="object"&&t!==null&&"mapToDriverValue"in t&&typeof t.mapToDriverValue=="function"}const o$={mapFromDriverValue:t=>t},c$={mapToDriverValue:t=>t};({...o$,...c$});var kv;kv=B;class Zn{constructor(e,n=c$){v(this,"brand");this.value=e,this.encoder=n}getSQL(){return new te([this])}}v(Zn,kv,"Param");function O(t,...e){const n=[];(e.length>0||t.length>0&&t[0]!=="")&&n.push(new He(t[0]));for(const[r,s]of e.entries())n.push(s,new He(t[r+1]));return new te(n)}(t=>{function e(){return new te([])}t.empty=e;function n(c){return new te(c)}t.fromList=n;function r(c){return new te([new He(c)])}t.raw=r;function s(c,l){const u=[];for(const[p,h]of c.entries())p>0&&l!==void 0&&u.push(l),u.push(h);return new te(u)}t.join=s;function i(c){return new Gc(c)}t.identifier=i;function a(c){return new As(c)}t.placeholder=a;function o(c,l){return new Zn(c,l)}t.param=o})(O||(O={}));(t=>{var n;n=B;const r=class r{constructor(i,a){v(this,"isSelectionField",!1);this.sql=i,this.fieldAlias=a}getSQL(){return this.sql}clone(){return new r(this.sql,this.fieldAlias)}};v(r,n,"SQL.Aliased");let e=r;t.Aliased=e})(te||(te={}));var jv;jv=B;class As{constructor(e){this.name=e}getSQL(){return new te([this])}}v(As,jv,"Placeholder");function nc(t,e){return t.map(n=>{if(U(n,As)){if(!(n.name in e))throw new Error(`No value for placeholder "${n.name}" was provided`);return e[n.name]}if(U(n,Zn)&&U(n.value,As)){if(!(n.value.name in e))throw new Error(`No value for placeholder "${n.value.name}" was provided`);return n.encoder.mapToDriverValue(e[n.value.name])}return n})}const hU=Symbol.for("drizzle:IsDrizzleView");var Lv,qv,Mv;Mv=B,qv=ot,Lv=hU;class Ls{constructor({name:e,schema:n,selectedFields:r,query:s}){v(this,qv);v(this,Lv,!0);this[ot]={name:e,originalName:e,schema:n,selectedFields:r,query:s,isExisting:!s,isAlias:!1}}getSQL(){return new te([this])}}v(Ls,Mv,"View");Ae.prototype.getSQL=function(){return new te([this])};H.prototype.getSQL=function(){return new te([this])};Ft.prototype.getSQL=function(){return new te([this])};var Fv;Fv=B;class Qa{constructor(e){this.table=e}get(e,n){return n==="table"?this.table:e[n]}}v(Qa,Fv,"ColumnAliasProxyHandler");var Uv;Uv=B;class Wl{constructor(e,n){this.alias=e,this.replaceOriginalName=n}get(e,n){if(n===H.Symbol.IsAlias)return!0;if(n===H.Symbol.Name)return this.alias;if(this.replaceOriginalName&&n===H.Symbol.OriginalName)return this.alias;if(n===ot)return{...e[ot],name:this.alias,isAlias:!0};if(n===H.Symbol.Columns){const s=e[H.Symbol.Columns];if(!s)return s;const i={};return Object.keys(s).map(a=>{i[a]=new Proxy(s[a],new Qa(new Proxy(e,this)))}),i}const r=e[n];return U(r,Ae)?new Proxy(r,new Qa(new Proxy(e,this))):r}}v(Wl,Uv,"TableAliasProxyHandler");function Sp(t,e){return new Proxy(t,new Wl(e,!1))}function An(t,e){return new Proxy(t,new Qa(new Proxy(t.table,new Wl(e,!1))))}function l$(t,e){return new te.Aliased(Hc(t.sql,e),t.fieldAlias)}function Hc(t,e){return O.join(t.queryChunks.map(n=>U(n,Ae)?An(n,e):U(n,te)?Hc(n,e):U(n,te.Aliased)?l$(n,e):n))}function hg(t,e,n){const r={},s=t.reduce((i,{path:a,field:o},c)=>{let l;U(o,Ae)?l=o:U(o,te)?l=o.decoder:l=o.sql.decoder;let u=i;for(const[p,h]of a.entries())if(p<a.length-1)h in u||(u[h]={}),u=u[h];else{const y=e[c],f=u[h]=y===null?null:l.mapFromDriverValue(y);if(n&&U(o,Ae)&&a.length===2){const m=a[0];m in r?typeof r[m]=="string"&&r[m]!==ri(o.table)&&(r[m]=!1):r[m]=f===null?ri(o.table):!1}}return i},{});if(n&&Object.keys(r).length>0)for(const[i,a]of Object.entries(r))typeof a=="string"&&!n[a]&&(s[i]=null);return s}function Is(t,e){return Object.entries(t).reduce((n,[r,s])=>{if(typeof r!="string")return n;const i=e?[...e,r]:[r];return U(s,Ae)||U(s,te)||U(s,te.Aliased)?n.push({path:i,field:s}):U(s,H)?n.push(...Is(s[H.Symbol.Columns],i)):n.push(...Is(s,i)),n},[])}function Rh(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const[s,i]of n.entries())if(i!==r[s])return!1;return!0}function u$(t,e){const n=Object.entries(e).filter(([,r])=>r!==void 0).map(([r,s])=>U(s,te)||U(s,Ae)?[r,s]:[r,new Zn(s,t[H.Symbol.Columns][r])]);if(n.length===0)throw new Error("No values to set");return Object.fromEntries(n)}function mU(t,e){for(const n of e)for(const r of Object.getOwnPropertyNames(n.prototype))r!=="constructor"&&Object.defineProperty(t.prototype,r,Object.getOwnPropertyDescriptor(n.prototype,r)||Object.create(null))}function yU(t){return t[H.Symbol.Columns]}function ld(t){return U(t,Ft)?t._.alias:U(t,Ls)?t[ot].name:U(t,te)?void 0:t[H.Symbol.IsAlias]?t[H.Symbol.Name]:t[H.Symbol.BaseName]}function $o(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}function gU(t){if(typeof t!="object"||t===null||t.constructor.name!=="Object")return!1;if("logger"in t){const e=typeof t.logger;return!(e!=="boolean"&&(e!=="object"||typeof t.logger.logQuery!="function")&&e!=="undefined")}if("schema"in t){const e=typeof t.schema;return!(e!=="object"&&e!=="undefined")}if("casing"in t){const e=typeof t.casing;return!(e!=="string"&&e!=="undefined")}if("mode"in t)return!(t.mode!=="default"||t.mode!=="planetscale"||t.mode!==void 0);if("connection"in t){const e=typeof t.connection;return!(e!=="string"&&e!=="object"&&e!=="undefined")}if("client"in t){const e=typeof t.client;return!(e!=="object"&&e!=="function"&&e!=="undefined")}return Object.keys(t).length===0}const p$=typeof TextDecoder>"u"?null:new TextDecoder;var Bv;Bv=B;class d${constructor(e,n){v(this,"reference");v(this,"_onUpdate");v(this,"_onDelete");this.reference=()=>{const{name:r,columns:s,foreignColumns:i}=e();return{name:r,columns:s,foreignTable:i[0].table,foreignColumns:i}},n&&(this._onUpdate=n.onUpdate,this._onDelete=n.onDelete)}onUpdate(e){return this._onUpdate=e,this}onDelete(e){return this._onDelete=e,this}build(e){return new f$(e,this)}}v(d$,Bv,"SQLiteForeignKeyBuilder");var Dv;Dv=B;class f${constructor(e,n){v(this,"reference");v(this,"onUpdate");v(this,"onDelete");this.table=e,this.reference=n.reference,this.onUpdate=n._onUpdate,this.onDelete=n._onDelete}getName(){const{name:e,columns:n,foreignColumns:r}=this.reference(),s=n.map(o=>o.name),i=r.map(o=>o.name),a=[this.table[Ir],...s,r[0].table[Ir],...i];return e??`${a.join("_")}_fk`}}v(f$,Dv,"SQLiteForeignKey");function vU(t,e){return`${t[Ir]}_${e.join("_")}_unique`}var zv,Vv;class Wt extends(Vv=i$,zv=B,Vv){constructor(){super(...arguments);v(this,"foreignKeyConfigs",[])}references(n,r={}){return this.foreignKeyConfigs.push({ref:n,actions:r}),this}unique(n){return this.config.isUnique=!0,this.config.uniqueName=n,this}generatedAlwaysAs(n,r){return this.config.generated={as:n,type:"always",mode:(r==null?void 0:r.mode)??"virtual"},this}buildForeignKeys(n,r){return this.foreignKeyConfigs.map(({ref:s,actions:i})=>((a,o)=>{const c=new d$(()=>{const l=a();return{columns:[n],foreignColumns:[l]}});return o.onUpdate&&c.onUpdate(o.onUpdate),o.onDelete&&c.onDelete(o.onDelete),c.build(r)})(s,i))}}v(Wt,zv,"SQLiteColumnBuilder");var Gv,Hv;class mt extends(Hv=Ae,Gv=B,Hv){constructor(e,n){n.uniqueName||(n.uniqueName=vU(e,[n.name])),super(e,n),this.table=e}}v(mt,Gv,"SQLiteColumn");var Qv,Wv;class h$ extends(Wv=Wt,Qv=B,Wv){constructor(e){super(e,"bigint","SQLiteBigInt")}build(e){return new m$(e,this.config)}}v(h$,Qv,"SQLiteBigIntBuilder");var Kv,Jv;class m$ extends(Jv=mt,Kv=B,Jv){getSQLType(){return"blob"}mapFromDriverValue(e){if(typeof Buffer<"u"&&Buffer.from){const n=Buffer.isBuffer(e)?e:e instanceof ArrayBuffer?Buffer.from(e):e.buffer?Buffer.from(e.buffer,e.byteOffset,e.byteLength):Buffer.from(e);return BigInt(n.toString("utf8"))}return BigInt(p$.decode(e))}mapToDriverValue(e){return Buffer.from(e.toString())}}v(m$,Kv,"SQLiteBigInt");var Yv,Xv;class y$ extends(Xv=Wt,Yv=B,Xv){constructor(e){super(e,"json","SQLiteBlobJson")}build(e){return new g$(e,this.config)}}v(y$,Yv,"SQLiteBlobJsonBuilder");var Zv,eb;class g$ extends(eb=mt,Zv=B,eb){getSQLType(){return"blob"}mapFromDriverValue(e){if(typeof Buffer<"u"&&Buffer.from){const n=Buffer.isBuffer(e)?e:e instanceof ArrayBuffer?Buffer.from(e):e.buffer?Buffer.from(e.buffer,e.byteOffset,e.byteLength):Buffer.from(e);return JSON.parse(n.toString("utf8"))}return JSON.parse(p$.decode(e))}mapToDriverValue(e){return Buffer.from(JSON.stringify(e))}}v(g$,Zv,"SQLiteBlobJson");var tb,nb;class v$ extends(nb=Wt,tb=B,nb){constructor(e){super(e,"buffer","SQLiteBlobBuffer")}build(e){return new b$(e,this.config)}}v(v$,tb,"SQLiteBlobBufferBuilder");var rb,sb;class b$ extends(sb=mt,rb=B,sb){mapFromDriverValue(e){return Buffer.isBuffer(e)?e:Buffer.from(e)}getSQLType(){return"blob"}}v(b$,rb,"SQLiteBlobBuffer");function bU(t,e){const{name:n,config:r}=$o(t,e);return(r==null?void 0:r.mode)==="json"?new y$(n):(r==null?void 0:r.mode)==="bigint"?new h$(n):new v$(n)}var ib,ab;class x$ extends(ab=Wt,ib=B,ab){constructor(e,n,r){super(e,"custom","SQLiteCustomColumn"),this.config.fieldConfig=n,this.config.customTypeParams=r}build(e){return new w$(e,this.config)}}v(x$,ib,"SQLiteCustomColumnBuilder");var ob,cb;class w$ extends(cb=mt,ob=B,cb){constructor(n,r){super(n,r);v(this,"sqlName");v(this,"mapTo");v(this,"mapFrom");this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(n){return typeof this.mapFrom=="function"?this.mapFrom(n):n}mapToDriverValue(n){return typeof this.mapTo=="function"?this.mapTo(n):n}}v(w$,ob,"SQLiteCustomColumn");function _$(t){return(e,n)=>{const{name:r,config:s}=$o(e,n);return new x$(r,s,t)}}var lb,ub;class Kl extends(ub=Wt,lb=B,ub){constructor(e,n,r){super(e,n,r),this.config.autoIncrement=!1}primaryKey(e){return e!=null&&e.autoIncrement&&(this.config.autoIncrement=!0),this.config.hasDefault=!0,super.primaryKey()}}v(Kl,lb,"SQLiteBaseIntegerBuilder");var pb,db;class Jl extends(db=mt,pb=B,db){constructor(){super(...arguments);v(this,"autoIncrement",this.config.autoIncrement)}getSQLType(){return"integer"}}v(Jl,pb,"SQLiteBaseInteger");var fb,hb;class $$ extends(hb=Kl,fb=B,hb){constructor(e){super(e,"number","SQLiteInteger")}build(e){return new S$(e,this.config)}}v($$,fb,"SQLiteIntegerBuilder");var mb,yb;class S$ extends(yb=Jl,mb=B,yb){}v(S$,mb,"SQLiteInteger");var gb,vb;class E$ extends(vb=Kl,gb=B,vb){constructor(e,n){super(e,"date","SQLiteTimestamp"),this.config.mode=n}defaultNow(){return this.default(O`(cast((julianday('now') - 2440587.5)*86400000 as integer))`)}build(e){return new R$(e,this.config)}}v(E$,gb,"SQLiteTimestampBuilder");var bb,xb;class R$ extends(xb=Jl,bb=B,xb){constructor(){super(...arguments);v(this,"mode",this.config.mode)}mapFromDriverValue(n){return this.config.mode==="timestamp"?new Date(n*1e3):new Date(n)}mapToDriverValue(n){const r=n.getTime();return this.config.mode==="timestamp"?Math.floor(r/1e3):r}}v(R$,bb,"SQLiteTimestamp");var wb,_b;class T$ extends(_b=Kl,wb=B,_b){constructor(e,n){super(e,"boolean","SQLiteBoolean"),this.config.mode=n}build(e){return new O$(e,this.config)}}v(T$,wb,"SQLiteBooleanBuilder");var $b,Sb;class O$ extends(Sb=Jl,$b=B,Sb){constructor(){super(...arguments);v(this,"mode",this.config.mode)}mapFromDriverValue(n){return Number(n)===1}mapToDriverValue(n){return n?1:0}}v(O$,$b,"SQLiteBoolean");function On(t,e){const{name:n,config:r}=$o(t,e);return(r==null?void 0:r.mode)==="timestamp"||(r==null?void 0:r.mode)==="timestamp_ms"?new E$(n,r.mode):(r==null?void 0:r.mode)==="boolean"?new T$(n,r.mode):new $$(n)}var Eb,Rb;class C$ extends(Rb=Wt,Eb=B,Rb){constructor(e){super(e,"string","SQLiteNumeric")}build(e){return new N$(e,this.config)}}v(C$,Eb,"SQLiteNumericBuilder");var Tb,Ob;class N$ extends(Ob=mt,Tb=B,Ob){mapFromDriverValue(e){return typeof e=="string"?e:String(e)}getSQLType(){return"numeric"}}v(N$,Tb,"SQLiteNumeric");var Cb,Nb;class A$ extends(Nb=Wt,Cb=B,Nb){constructor(e){super(e,"number","SQLiteNumericNumber")}build(e){return new I$(e,this.config)}}v(A$,Cb,"SQLiteNumericNumberBuilder");var Ab,Ib;class I$ extends(Ib=mt,Ab=B,Ib){constructor(){super(...arguments);v(this,"mapToDriverValue",String)}mapFromDriverValue(n){return typeof n=="number"?n:Number(n)}getSQLType(){return"numeric"}}v(I$,Ab,"SQLiteNumericNumber");var Pb,kb;class P$ extends(kb=Wt,Pb=B,kb){constructor(e){super(e,"bigint","SQLiteNumericBigInt")}build(e){return new k$(e,this.config)}}v(P$,Pb,"SQLiteNumericBigIntBuilder");var jb,Lb;class k$ extends(Lb=mt,jb=B,Lb){constructor(){super(...arguments);v(this,"mapFromDriverValue",BigInt);v(this,"mapToDriverValue",String)}getSQLType(){return"numeric"}}v(k$,jb,"SQLiteNumericBigInt");function xU(t,e){const{name:n,config:r}=$o(t,e),s=r==null?void 0:r.mode;return s==="number"?new A$(n):s==="bigint"?new P$(n):new C$(n)}var qb,Mb;class j$ extends(Mb=Wt,qb=B,Mb){constructor(e){super(e,"number","SQLiteReal")}build(e){return new L$(e,this.config)}}v(j$,qb,"SQLiteRealBuilder");var Fb,Ub;class L$ extends(Ub=mt,Fb=B,Ub){getSQLType(){return"real"}}v(L$,Fb,"SQLiteReal");function ud(t){return new j$(t??"")}var Bb,Db;class q$ extends(Db=Wt,Bb=B,Db){constructor(e,n){super(e,"string","SQLiteText"),this.config.enumValues=n.enum,this.config.length=n.length}build(e){return new M$(e,this.config)}}v(q$,Bb,"SQLiteTextBuilder");var zb,Vb;class M$ extends(Vb=mt,zb=B,Vb){constructor(n,r){super(n,r);v(this,"enumValues",this.config.enumValues);v(this,"length",this.config.length)}getSQLType(){return`text${this.config.length?`(${this.config.length})`:""}`}}v(M$,zb,"SQLiteText");var Gb,Hb;class F$ extends(Hb=Wt,Gb=B,Hb){constructor(e){super(e,"json","SQLiteTextJson")}build(e){return new U$(e,this.config)}}v(F$,Gb,"SQLiteTextJsonBuilder");var Qb,Wb;class U$ extends(Wb=mt,Qb=B,Wb){getSQLType(){return"text"}mapFromDriverValue(e){return JSON.parse(e)}mapToDriverValue(e){return JSON.stringify(e)}}v(U$,Qb,"SQLiteTextJson");function ws(t,e={}){const{name:n,config:r}=$o(t,e);return r.mode==="json"?new F$(n):new q$(n,r)}var Kb;Kb=B;const ll=class ll{constructor(e){v(this,"config");this.config={...e}}get(e,n){if(n==="_")return{...e._,selectedFields:new Proxy(e._.selectedFields,this)};if(n===ot)return{...e[ot],selectedFields:new Proxy(e[ot].selectedFields,this)};if(typeof n=="symbol")return e[n];const s=(U(e,Ft)?e._.selectedFields:U(e,Ls)?e[ot].selectedFields:e)[n];if(U(s,te.Aliased)){if(this.config.sqlAliasedBehavior==="sql"&&!s.isSelectionField)return s.sql;const i=s.clone();return i.isSelectionField=!0,i}if(U(s,te)){if(this.config.sqlBehavior==="sql")return s;throw new Error(`You tried to reference "${n}" field from a subquery, which is a raw SQL field, but it doesn't have an alias declared. Please add an alias to the field using ".as('alias')" method.`)}return U(s,Ae)?this.config.alias?new Proxy(s,new Qa(new Proxy(s.table,new Wl(this.config.alias,this.config.replaceOriginalName??!1)))):s:typeof s!="object"||s===null?s:new Proxy(s,new ll(this.config))}};v(ll,Kb,"SelectionProxyHandler");let dt=ll;var Jb,Yb;Yb=B,Jb=Symbol.toStringTag;class Mr{constructor(){v(this,Jb,"QueryPromise")}catch(e){return this.then(void 0,e)}finally(e){return this.then(n=>(e==null||e(),n),n=>{throw e==null||e(),n})}then(e,n){return this.execute().then(e,n)}}v(Mr,Yb,"QueryPromise");function wU(){return{blob:bU,customType:_$,integer:On,numeric:xU,real:ud,text:ws}}const pd=Symbol.for("drizzle:SQLiteInlineForeignKeys");var Xb,Zb,ex,tx,nx;class qt extends(nx=H,tx=B,ex=H.Symbol.Columns,Zb=pd,Xb=H.Symbol.ExtraConfigBuilder,nx){constructor(){super(...arguments);v(this,ex);v(this,Zb,[]);v(this,Xb)}}v(qt,tx,"SQLiteTable"),v(qt,"Symbol",Object.assign({},H.Symbol,{InlineForeignKeys:pd}));function _U(t,e,n,r,s=t){const i=new qt(t,r,s),a=typeof e=="function"?e(wU()):e,o=Object.fromEntries(Object.entries(a).map(([l,u])=>{const p=u;p.setName(l);const h=p.build(i);return i[pd].push(...p.buildForeignKeys(h,i)),[l,h]})),c=Object.assign(i,o);return c[H.Symbol.Columns]=o,c[H.Symbol.ExtraConfigColumns]=o,c}const Yl=(t,e,n)=>_U(t,e);function ss(t){return U(t,qt)?[`${t[H.Symbol.BaseName]}`]:U(t,Ft)?t._.usedTables??[]:U(t,te)?t.usedTables??[]:[]}var rx,sx;class dd extends(sx=Mr,rx=B,sx){constructor(n,r,s,i){super();v(this,"config");v(this,"run",n=>this._prepare().run(n));v(this,"all",n=>this._prepare().all(n));v(this,"get",n=>this._prepare().get(n));v(this,"values",n=>this._prepare().values(n));this.table=n,this.session=r,this.dialect=s,this.config={table:n,withList:i}}where(n){return this.config.where=n,this}orderBy(...n){if(typeof n[0]=="function"){const r=n[0](new Proxy(this.config.table[H.Symbol.Columns],new dt({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),s=Array.isArray(r)?r:[r];this.config.orderBy=s}else{const r=n;this.config.orderBy=r}return this}limit(n){return this.config.limit=n,this}returning(n=this.table[qt.Symbol.Columns]){return this.config.returning=Is(n),this}getSQL(){return this.dialect.buildDeleteQuery(this.config)}toSQL(){const{typings:n,...r}=this.dialect.sqlToQuery(this.getSQL());return r}_prepare(n=!0){return this.session[n?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),this.config.returning,this.config.returning?"all":"run",!0,void 0,{type:"delete",tables:ss(this.config.table)})}prepare(){return this._prepare(!1)}async execute(n){return this._prepare().execute(n)}$dynamic(){return this}}v(dd,rx,"SQLiteDelete");function $U(t){return(t.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).map(n=>n.toLowerCase()).join("_")}function SU(t){return(t.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).reduce((n,r,s)=>{const i=s===0?r.toLowerCase():`${r[0].toUpperCase()}${r.slice(1)}`;return n+i},"")}function EU(t){return t}var ix;ix=B;class B${constructor(e){v(this,"cache",{});v(this,"cachedTables",{});v(this,"convert");this.convert=e==="snake_case"?$U:e==="camelCase"?SU:EU}getColumnCasing(e){if(!e.keyAsName)return e.name;const n=e.table[H.Symbol.Schema]??"public",r=e.table[H.Symbol.OriginalName],s=`${n}.${r}.${e.name}`;return this.cache[s]||this.cacheTable(e.table),this.cache[s]}cacheTable(e){const n=e[H.Symbol.Schema]??"public",r=e[H.Symbol.OriginalName],s=`${n}.${r}`;if(!this.cachedTables[s]){for(const i of Object.values(e[H.Symbol.Columns])){const a=`${s}.${i.name}`;this.cache[a]=this.convert(i.name)}this.cachedTables[s]=!0}}clearCache(){this.cache={},this.cachedTables={}}}v(B$,ix,"CasingCache");var ax,ox;class Xl extends(ox=Error,ax=B,ox){constructor({message:e,cause:n}){super(e),this.name="DrizzleError",this.cause=n}}v(Xl,ax,"DrizzleError");class hr extends Error{constructor(e,n,r){super(`Failed query: ${e}
params: ${n}`),this.query=e,this.params=n,this.cause=r,Error.captureStackTrace(this,hr),r&&(this.cause=r)}}var cx,lx;class D$ extends(lx=Xl,cx=B,lx){constructor(){super({message:"Rollback"})}}v(D$,cx,"TransactionRollbackError");const mg=Symbol.for("drizzle:PgInlineForeignKeys"),yg=Symbol.for("drizzle:EnableRLS");var ux,px,dx,fx,hx,mx;class fd extends(mx=H,hx=B,fx=mg,dx=yg,px=H.Symbol.ExtraConfigBuilder,ux=H.Symbol.ExtraConfigColumns,mx){constructor(){super(...arguments);v(this,fx,[]);v(this,dx,!1);v(this,px);v(this,ux,{})}}v(fd,hx,"PgTable"),v(fd,"Symbol",Object.assign({},H.Symbol,{InlineForeignKeys:mg,EnableRLS:yg}));var yx;yx=B;class z${constructor(e,n){v(this,"columns");v(this,"name");this.columns=e,this.name=n}build(e){return new V$(e,this.columns,this.name)}}v(z$,yx,"PgPrimaryKeyBuilder");var gx;gx=B;class V${constructor(e,n,r){v(this,"columns");v(this,"name");this.table=e,this.columns=n,this.name=r}getName(){return this.name??`${this.table[fd.Symbol.Name]}_${this.columns.map(e=>e.name).join("_")}_pk`}}v(V$,gx,"PgPrimaryKey");function Ot(t,e){return fU(e)&&!a$(t)&&!U(t,Zn)&&!U(t,As)&&!U(t,Ae)&&!U(t,H)&&!U(t,Ls)?new Zn(t,e):t}const So=(t,e)=>O`${t} = ${Ot(e,t)}`,RU=(t,e)=>O`${t} <> ${Ot(e,t)}`;function hd(...t){const e=t.filter(n=>n!==void 0);if(e.length!==0)return e.length===1?new te(e):new te([new He("("),O.join(e,new He(" and ")),new He(")")])}function TU(...t){const e=t.filter(n=>n!==void 0);if(e.length!==0)return e.length===1?new te(e):new te([new He("("),O.join(e,new He(" or ")),new He(")")])}function OU(t){return O`not ${t}`}const CU=(t,e)=>O`${t} > ${Ot(e,t)}`,NU=(t,e)=>O`${t} >= ${Ot(e,t)}`,AU=(t,e)=>O`${t} < ${Ot(e,t)}`,IU=(t,e)=>O`${t} <= ${Ot(e,t)}`;function PU(t,e){return Array.isArray(e)?e.length===0?O`false`:O`${t} in ${e.map(n=>Ot(n,t))}`:O`${t} in ${Ot(e,t)}`}function kU(t,e){return Array.isArray(e)?e.length===0?O`true`:O`${t} not in ${e.map(n=>Ot(n,t))}`:O`${t} not in ${Ot(e,t)}`}function jU(t){return O`${t} is null`}function LU(t){return O`${t} is not null`}function qU(t){return O`exists ${t}`}function MU(t){return O`not exists ${t}`}function FU(t,e,n){return O`${t} between ${Ot(e,t)} and ${Ot(n,t)}`}function UU(t,e,n){return O`${t} not between ${Ot(e,t)} and ${Ot(n,t)}`}function BU(t,e){return O`${t} like ${e}`}function DU(t,e){return O`${t} not like ${e}`}function zU(t,e){return O`${t} ilike ${e}`}function VU(t,e){return O`${t} not ilike ${e}`}function GU(t){return O`${t} asc`}function G$(t){return O`${t} desc`}var vx;vx=B;class Th{constructor(e,n,r){v(this,"referencedTableName");v(this,"fieldName");this.sourceTable=e,this.referencedTable=n,this.relationName=r,this.referencedTableName=n[H.Symbol.Name]}}v(Th,vx,"Relation");var bx;bx=B;class H${constructor(e,n){this.table=e,this.config=n}}v(H$,bx,"Relations");var xx,wx;const ul=class ul extends(wx=Th,xx=B,wx){constructor(e,n,r,s){super(e,n,r==null?void 0:r.relationName),this.config=r,this.isNullable=s}withFieldName(e){const n=new ul(this.sourceTable,this.referencedTable,this.config,this.isNullable);return n.fieldName=e,n}};v(ul,xx,"One");let Ps=ul;var _x,$x;const pl=class pl extends($x=Th,_x=B,$x){constructor(e,n,r){super(e,n,r==null?void 0:r.relationName),this.config=r}withFieldName(e){const n=new pl(this.sourceTable,this.referencedTable,this.config);return n.fieldName=e,n}};v(pl,_x,"Many");let Qc=pl;function HU(){return{and:hd,between:FU,eq:So,exists:qU,gt:CU,gte:NU,ilike:zU,inArray:PU,isNull:jU,isNotNull:LU,like:BU,lt:AU,lte:IU,ne:RU,not:OU,notBetween:UU,notExists:MU,notLike:DU,notIlike:VU,notInArray:kU,or:TU,sql:O}}function QU(){return{sql:O,asc:GU,desc:G$}}function WU(t,e){var i;Object.keys(t).length===1&&"default"in t&&!U(t.default,H)&&(t=t.default);const n={},r={},s={};for(const[a,o]of Object.entries(t))if(U(o,H)){const c=Ha(o),l=r[c];n[c]=a,s[a]={tsName:a,dbName:o[H.Symbol.Name],schema:o[H.Symbol.Schema],columns:o[H.Symbol.Columns],relations:(l==null?void 0:l.relations)??{},primaryKey:(l==null?void 0:l.primaryKey)??[]};for(const p of Object.values(o[H.Symbol.Columns]))p.primary&&s[a].primaryKey.push(p);const u=(i=o[H.Symbol.ExtraConfigBuilder])==null?void 0:i.call(o,o[H.Symbol.ExtraConfigColumns]);if(u)for(const p of Object.values(u))U(p,z$)&&s[a].primaryKey.push(...p.columns)}else if(U(o,H$)){const c=Ha(o.table),l=n[c],u=o.config(e(o.table));let p;for(const[h,y]of Object.entries(u))if(l){const f=s[l];f.relations[h]=y}else c in r||(r[c]={relations:{},primaryKey:p}),r[c].relations[h]=y}return{tables:s,tableNamesMap:n}}function KU(t){return function(n,r){return new Ps(t,n,r,(r==null?void 0:r.fields.reduce((s,i)=>s&&i.notNull,!0))??!1)}}function JU(t){return function(n,r){return new Qc(t,n,r)}}function YU(t,e,n){if(U(n,Ps)&&n.config)return{fields:n.config.fields,references:n.config.references};const r=e[Ha(n.referencedTable)];if(!r)throw new Error(`Table "${n.referencedTable[H.Symbol.Name]}" not found in schema`);const s=t[r];if(!s)throw new Error(`Table "${r}" not found in schema`);const i=n.sourceTable,a=e[Ha(i)];if(!a)throw new Error(`Table "${i[H.Symbol.Name]}" not found in schema`);const o=[];for(const c of Object.values(s.relations))(n.relationName&&n!==c&&c.relationName===n.relationName||!n.relationName&&c.referencedTable===n.sourceTable)&&o.push(c);if(o.length>1)throw n.relationName?new Error(`There are multiple relations with name "${n.relationName}" in table "${r}"`):new Error(`There are multiple relations between "${r}" and "${n.sourceTable[H.Symbol.Name]}". Please specify relation name`);if(o[0]&&U(o[0],Ps)&&o[0].config)return{fields:o[0].config.references,references:o[0].config.fields};throw new Error(`There is not enough information to infer relation "${a}.${n.fieldName}"`)}function XU(t){return{one:KU(t),many:JU(t)}}function md(t,e,n,r,s=i=>i){const i={};for(const[a,o]of r.entries())if(o.isJson){const c=e.relations[o.tsKey],l=n[a],u=typeof l=="string"?JSON.parse(l):l;i[o.tsKey]=U(c,Ps)?u&&md(t,t[o.relationTableTsKey],u,o.selection,s):u.map(p=>md(t,t[o.relationTableTsKey],p,o.selection,s))}else{const c=s(n[a]),l=o.field;let u;U(l,Ae)?u=l:U(l,te)?u=l.decoder:u=l.sql.decoder,i[o.tsKey]=c===null?null:u.mapFromDriverValue(c)}return i}var Sx,Ex;class Zl extends(Ex=Ls,Sx=B,Ex){}v(Zl,Sx,"SQLiteViewBase");var Rx;Rx=B;class Wa{constructor(e){v(this,"casing");this.casing=new B$(e==null?void 0:e.casing)}escapeName(e){return`"${e}"`}escapeParam(e){return"?"}escapeString(e){return`'${e.replace(/'/g,"''")}'`}buildWithCTE(e){if(!(e!=null&&e.length))return;const n=[O`with `];for(const[r,s]of e.entries())n.push(O`${O.identifier(s._.alias)} as (${s._.sql})`),r<e.length-1&&n.push(O`, `);return n.push(O` `),O.join(n)}buildDeleteQuery({table:e,where:n,returning:r,withList:s,limit:i,orderBy:a}){const o=this.buildWithCTE(s),c=r?O` returning ${this.buildSelection(r,{isSingleTable:!0})}`:void 0,l=n?O` where ${n}`:void 0,u=this.buildOrderBy(a),p=this.buildLimit(i);return O`${o}delete from ${e}${l}${c}${u}${p}`}buildUpdateSet(e,n){const r=e[H.Symbol.Columns],s=Object.keys(r).filter(a=>{var o;return n[a]!==void 0||((o=r[a])==null?void 0:o.onUpdateFn)!==void 0}),i=s.length;return O.join(s.flatMap((a,o)=>{const c=r[a],l=n[a]??O.param(c.onUpdateFn(),c),u=O`${O.identifier(this.casing.getColumnCasing(c))} = ${l}`;return o<i-1?[u,O.raw(", ")]:[u]}))}buildUpdateQuery({table:e,set:n,where:r,returning:s,withList:i,joins:a,from:o,limit:c,orderBy:l}){const u=this.buildWithCTE(i),p=this.buildUpdateSet(e,n),h=o&&O.join([O.raw(" from "),this.buildFromTable(o)]),y=this.buildJoins(a),f=s?O` returning ${this.buildSelection(s,{isSingleTable:!0})}`:void 0,m=r?O` where ${r}`:void 0,g=this.buildOrderBy(l),b=this.buildLimit(c);return O`${u}update ${e} set ${p}${h}${y}${m}${f}${g}${b}`}buildSelection(e,{isSingleTable:n=!1}={}){const r=e.length,s=e.flatMap(({field:i},a)=>{const o=[];if(U(i,te.Aliased)&&i.isSelectionField)o.push(O.identifier(i.fieldAlias));else if(U(i,te.Aliased)||U(i,te)){const c=U(i,te.Aliased)?i.sql:i;n?o.push(new te(c.queryChunks.map(l=>U(l,Ae)?O.identifier(this.casing.getColumnCasing(l)):l))):o.push(c),U(i,te.Aliased)&&o.push(O` as ${O.identifier(i.fieldAlias)}`)}else if(U(i,Ae)){const c=i.table[H.Symbol.Name];i.columnType==="SQLiteNumericBigInt"?n?o.push(O`cast(${O.identifier(this.casing.getColumnCasing(i))} as text)`):o.push(O`cast(${O.identifier(c)}.${O.identifier(this.casing.getColumnCasing(i))} as text)`):n?o.push(O.identifier(this.casing.getColumnCasing(i))):o.push(O`${O.identifier(c)}.${O.identifier(this.casing.getColumnCasing(i))}`)}return a<r-1&&o.push(O`, `),o});return O.join(s)}buildJoins(e){if(!e||e.length===0)return;const n=[];if(e)for(const[r,s]of e.entries()){r===0&&n.push(O` `);const i=s.table,a=s.on?O` on ${s.on}`:void 0;if(U(i,qt)){const o=i[qt.Symbol.Name],c=i[qt.Symbol.Schema],l=i[qt.Symbol.OriginalName],u=o===l?void 0:s.alias;n.push(O`${O.raw(s.joinType)} join ${c?O`${O.identifier(c)}.`:void 0}${O.identifier(l)}${u&&O` ${O.identifier(u)}`}${a}`)}else n.push(O`${O.raw(s.joinType)} join ${i}${a}`);r<e.length-1&&n.push(O` `)}return O.join(n)}buildLimit(e){return typeof e=="object"||typeof e=="number"&&e>=0?O` limit ${e}`:void 0}buildOrderBy(e){const n=[];if(e)for(const[r,s]of e.entries())n.push(s),r<e.length-1&&n.push(O`, `);return n.length>0?O` order by ${O.join(n)}`:void 0}buildFromTable(e){return U(e,H)&&e[H.Symbol.IsAlias]?O`${O`${O.identifier(e[H.Symbol.Schema]??"")}.`.if(e[H.Symbol.Schema])}${O.identifier(e[H.Symbol.OriginalName])} ${O.identifier(e[H.Symbol.Name])}`:e}buildSelectQuery({withList:e,fields:n,fieldsFlat:r,where:s,having:i,table:a,joins:o,orderBy:c,groupBy:l,limit:u,offset:p,distinct:h,setOperators:y}){const f=r??Is(n);for(const ne of f)if(U(ne.field,Ae)&&ri(ne.field.table)!==(U(a,Ft)?a._.alias:U(a,Zl)?a[ot].name:U(a,te)?void 0:ri(a))&&!(A=>o==null?void 0:o.some(({alias:F})=>F===(A[H.Symbol.IsAlias]?ri(A):A[H.Symbol.BaseName])))(ne.field.table)){const A=ri(ne.field.table);throw new Error(`Your "${ne.path.join("->")}" field references a column "${A}"."${ne.field.name}", but the table "${A}" is not part of the query! Did you forget to join it?`)}const m=!o||o.length===0,g=this.buildWithCTE(e),b=h?O` distinct`:void 0,_=this.buildSelection(f,{isSingleTable:m}),S=this.buildFromTable(a),C=this.buildJoins(o),L=s?O` where ${s}`:void 0,K=i?O` having ${i}`:void 0,D=[];if(l)for(const[ne,A]of l.entries())D.push(A),ne<l.length-1&&D.push(O`, `);const Z=D.length>0?O` group by ${O.join(D)}`:void 0,se=this.buildOrderBy(c),ve=this.buildLimit(u),J=p?O` offset ${p}`:void 0,X=O`${g}select${b} ${_} from ${S}${C}${L}${Z}${K}${se}${ve}${J}`;return y.length>0?this.buildSetOperations(X,y):X}buildSetOperations(e,n){const[r,...s]=n;if(!r)throw new Error("Cannot pass undefined values to any set operator");return s.length===0?this.buildSetOperationQuery({leftSelect:e,setOperator:r}):this.buildSetOperations(this.buildSetOperationQuery({leftSelect:e,setOperator:r}),s)}buildSetOperationQuery({leftSelect:e,setOperator:{type:n,isAll:r,rightSelect:s,limit:i,orderBy:a,offset:o}}){const c=O`${e.getSQL()} `,l=O`${s.getSQL()}`;let u;if(a&&a.length>0){const f=[];for(const m of a)if(U(m,mt))f.push(O.identifier(m.name));else if(U(m,te)){for(let g=0;g<m.queryChunks.length;g++){const b=m.queryChunks[g];U(b,mt)&&(m.queryChunks[g]=O.identifier(this.casing.getColumnCasing(b)))}f.push(O`${m}`)}else f.push(O`${m}`);u=O` order by ${O.join(f,O`, `)}`}const p=typeof i=="object"||typeof i=="number"&&i>=0?O` limit ${i}`:void 0,h=O.raw(`${n} ${r?"all ":""}`),y=o?O` offset ${o}`:void 0;return O`${c}${h}${l}${u}${p}${y}`}buildInsertQuery({table:e,values:n,onConflict:r,returning:s,withList:i,select:a}){const o=[],c=e[H.Symbol.Columns],l=Object.entries(c).filter(([m,g])=>!g.shouldDisableInsert()),u=l.map(([,m])=>O.identifier(this.casing.getColumnCasing(m)));if(a){const m=n;U(m,te)?o.push(m):o.push(m.getSQL())}else{const m=n;o.push(O.raw("values "));for(const[g,b]of m.entries()){const _=[];for(const[S,C]of l){const L=b[S];if(L===void 0||U(L,Zn)&&L.value===void 0){let K;if(C.default!==null&&C.default!==void 0)K=U(C.default,te)?C.default:O.param(C.default,C);else if(C.defaultFn!==void 0){const D=C.defaultFn();K=U(D,te)?D:O.param(D,C)}else if(!C.default&&C.onUpdateFn!==void 0){const D=C.onUpdateFn();K=U(D,te)?D:O.param(D,C)}else K=O`null`;_.push(K)}else _.push(L)}o.push(_),g<m.length-1&&o.push(O`, `)}}const p=this.buildWithCTE(i),h=O.join(o),y=s?O` returning ${this.buildSelection(s,{isSingleTable:!0})}`:void 0,f=r!=null&&r.length?O.join(r):void 0;return O`${p}insert into ${e} ${u} ${h}${f}${y}`}sqlToQuery(e,n){return e.toQuery({casing:this.casing,escapeName:this.escapeName,escapeParam:this.escapeParam,escapeString:this.escapeString,invokeSource:n})}buildRelationalQuery({fullSchema:e,schema:n,tableNamesMap:r,table:s,tableConfig:i,queryConfig:a,tableAlias:o,nestedQueryRelation:c,joinOn:l}){let u=[],p,h,y=[],f;const m=[];if(a===!0)u=Object.entries(i.columns).map(([_,S])=>({dbKey:S.name,tsKey:_,field:An(S,o),relationTableTsKey:void 0,isJson:!1,selection:[]}));else{const b=Object.fromEntries(Object.entries(i.columns).map(([D,Z])=>[D,An(Z,o)]));if(a.where){const D=typeof a.where=="function"?a.where(b,HU()):a.where;f=D&&Hc(D,o)}const _=[];let S=[];if(a.columns){let D=!1;for(const[Z,se]of Object.entries(a.columns))se!==void 0&&Z in i.columns&&(!D&&se===!0&&(D=!0),S.push(Z));S.length>0&&(S=D?S.filter(Z=>{var se;return((se=a.columns)==null?void 0:se[Z])===!0}):Object.keys(i.columns).filter(Z=>!S.includes(Z)))}else S=Object.keys(i.columns);for(const D of S){const Z=i.columns[D];_.push({tsKey:D,value:Z})}let C=[];a.with&&(C=Object.entries(a.with).filter(D=>!!D[1]).map(([D,Z])=>({tsKey:D,queryConfig:Z,relation:i.relations[D]})));let L;if(a.extras){L=typeof a.extras=="function"?a.extras(b,{sql:O}):a.extras;for(const[D,Z]of Object.entries(L))_.push({tsKey:D,value:l$(Z,o)})}for(const{tsKey:D,value:Z}of _)u.push({dbKey:U(Z,te.Aliased)?Z.fieldAlias:i.columns[D].name,tsKey:D,field:U(Z,Ae)?An(Z,o):Z,relationTableTsKey:void 0,isJson:!1,selection:[]});let K=typeof a.orderBy=="function"?a.orderBy(b,QU()):a.orderBy??[];Array.isArray(K)||(K=[K]),y=K.map(D=>U(D,Ae)?An(D,o):Hc(D,o)),p=a.limit,h=a.offset;for(const{tsKey:D,queryConfig:Z,relation:se}of C){const ve=YU(n,r,se),J=Ha(se.referencedTable),X=r[J],ne=`${o}_${D}`,A=hd(...ve.fields.map((q,M)=>So(An(ve.references[M],ne),An(q,o)))),F=this.buildRelationalQuery({fullSchema:e,schema:n,tableNamesMap:r,table:e[X],tableConfig:n[X],queryConfig:U(se,Ps)?Z===!0?{limit:1}:{...Z,limit:1}:Z,tableAlias:ne,joinOn:A,nestedQueryRelation:se}),V=O`(${F.sql})`.as(D);u.push({dbKey:D,tsKey:D,field:V,relationTableTsKey:X,isJson:!0,selection:F.selection})}}if(u.length===0)throw new Xl({message:`No fields selected for table "${i.tsName}" ("${o}"). You need to have at least one item in "columns", "with" or "extras". If you need to select all columns, omit the "columns" key or set it to undefined.`});let g;if(f=hd(l,f),c){let b=O`json_array(${O.join(u.map(({field:C})=>U(C,mt)?O.identifier(this.casing.getColumnCasing(C)):U(C,te.Aliased)?C.sql:C),O`, `)})`;U(c,Qc)&&(b=O`coalesce(json_group_array(${b}), json_array())`);const _=[{dbKey:"data",tsKey:"data",field:b.as("data"),isJson:!0,relationTableTsKey:i.tsName,selection:u}];p!==void 0||h!==void 0||y.length>0?(g=this.buildSelectQuery({table:Sp(s,o),fields:{},fieldsFlat:[{path:[],field:O.raw("*")}],where:f,limit:p,offset:h,orderBy:y,setOperators:[]}),f=void 0,p=void 0,h=void 0,y=void 0):g=Sp(s,o),g=this.buildSelectQuery({table:U(g,qt)?g:new Ft(g,{},o),fields:{},fieldsFlat:_.map(({field:C})=>({path:[],field:U(C,Ae)?An(C,o):C})),joins:m,where:f,limit:p,offset:h,orderBy:y,setOperators:[]})}else g=this.buildSelectQuery({table:Sp(s,o),fields:{},fieldsFlat:u.map(({field:b})=>({path:[],field:U(b,Ae)?An(b,o):b})),joins:m,where:f,limit:p,offset:h,orderBy:y,setOperators:[]});return{tableTsKey:i.tsName,sql:g,selection:u}}}v(Wa,Rx,"SQLiteDialect");var Tx,Ox;class Q$ extends(Ox=Wa,Tx=B,Ox){migrate(e,n,r){const s=r===void 0||typeof r=="string"?"__drizzle_migrations":r.migrationsTable??"__drizzle_migrations",i=O`
			CREATE TABLE IF NOT EXISTS ${O.identifier(s)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at numeric
			)
		`;n.run(i);const o=n.values(O`SELECT id, hash, created_at FROM ${O.identifier(s)} ORDER BY created_at DESC LIMIT 1`)[0]??void 0;n.run(O`BEGIN`);try{for(const c of e)if(!o||Number(o[2])<c.folderMillis){for(const l of c.sql)n.run(O.raw(l));n.run(O`INSERT INTO ${O.identifier(s)} ("hash", "created_at") VALUES(${c.hash}, ${c.folderMillis})`)}n.run(O`COMMIT`)}catch(c){throw n.run(O`ROLLBACK`),c}}}v(Q$,Tx,"SQLiteSyncDialect");var Cx,Nx;class W$ extends(Nx=Wa,Cx=B,Nx){async migrate(e,n,r){const s=r===void 0||typeof r=="string"?"__drizzle_migrations":r.migrationsTable??"__drizzle_migrations",i=O`
			CREATE TABLE IF NOT EXISTS ${O.identifier(s)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at numeric
			)
		`;await n.run(i);const o=(await n.values(O`SELECT id, hash, created_at FROM ${O.identifier(s)} ORDER BY created_at DESC LIMIT 1`))[0]??void 0;await n.transaction(async c=>{for(const l of e)if(!o||Number(o[2])<l.folderMillis){for(const u of l.sql)await c.run(O.raw(u));await c.run(O`INSERT INTO ${O.identifier(s)} ("hash", "created_at") VALUES(${l.hash}, ${l.folderMillis})`)}})}}v(W$,Cx,"SQLiteAsyncDialect");var Ax;Ax=B;class K${getSelectedFields(){return this._.selectedFields}}v(K$,Ax,"TypedQueryBuilder");var Ix;Ix=B;class Qn{constructor(e){v(this,"fields");v(this,"session");v(this,"dialect");v(this,"withList");v(this,"distinct");this.fields=e.fields,this.session=e.session,this.dialect=e.dialect,this.withList=e.withList,this.distinct=e.distinct}from(e){const n=!!this.fields;let r;return this.fields?r=this.fields:U(e,Ft)?r=Object.fromEntries(Object.keys(e._.selectedFields).map(s=>[s,e[s]])):U(e,Zl)?r=e[ot].selectedFields:U(e,te)?r={}:r=yU(e),new Oh({table:e,fields:r,isPartialSelect:n,session:this.session,dialect:this.dialect,withList:this.withList,distinct:this.distinct})}}v(Qn,Ix,"SQLiteSelectBuilder");var Px,kx;class J$ extends(kx=K$,Px=B,kx){constructor({table:n,fields:r,isPartialSelect:s,session:i,dialect:a,withList:o,distinct:c}){super();v(this,"_");v(this,"config");v(this,"joinsNotNullableMap");v(this,"tableName");v(this,"isPartialSelect");v(this,"session");v(this,"dialect");v(this,"cacheConfig");v(this,"usedTables",new Set);v(this,"leftJoin",this.createJoin("left"));v(this,"rightJoin",this.createJoin("right"));v(this,"innerJoin",this.createJoin("inner"));v(this,"fullJoin",this.createJoin("full"));v(this,"crossJoin",this.createJoin("cross"));v(this,"union",this.createSetOperator("union",!1));v(this,"unionAll",this.createSetOperator("union",!0));v(this,"intersect",this.createSetOperator("intersect",!1));v(this,"except",this.createSetOperator("except",!1));this.config={withList:o,table:n,fields:{...r},distinct:c,setOperators:[]},this.isPartialSelect=s,this.session=i,this.dialect=a,this._={selectedFields:r,config:this.config},this.tableName=ld(n),this.joinsNotNullableMap=typeof this.tableName=="string"?{[this.tableName]:!0}:{};for(const l of ss(n))this.usedTables.add(l)}getUsedTables(){return[...this.usedTables]}createJoin(n){return(r,s)=>{var o;const i=this.tableName,a=ld(r);for(const c of ss(r))this.usedTables.add(c);if(typeof a=="string"&&((o=this.config.joins)!=null&&o.some(c=>c.alias===a)))throw new Error(`Alias "${a}" is already used in this query`);if(!this.isPartialSelect&&(Object.keys(this.joinsNotNullableMap).length===1&&typeof i=="string"&&(this.config.fields={[i]:this.config.fields}),typeof a=="string"&&!U(r,te))){const c=U(r,Ft)?r._.selectedFields:U(r,Ls)?r[ot].selectedFields:r[H.Symbol.Columns];this.config.fields[a]=c}if(typeof s=="function"&&(s=s(new Proxy(this.config.fields,new dt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.joins||(this.config.joins=[]),this.config.joins.push({on:s,table:r,joinType:n,alias:a}),typeof a=="string")switch(n){case"left":{this.joinsNotNullableMap[a]=!1;break}case"right":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([c])=>[c,!1])),this.joinsNotNullableMap[a]=!0;break}case"cross":case"inner":{this.joinsNotNullableMap[a]=!0;break}case"full":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([c])=>[c,!1])),this.joinsNotNullableMap[a]=!1;break}}return this}}createSetOperator(n,r){return s=>{const i=typeof s=="function"?s(ZU()):s;if(!Rh(this.getSelectedFields(),i.getSelectedFields()))throw new Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return this.config.setOperators.push({type:n,isAll:r,rightSelect:i}),this}}addSetOperators(n){return this.config.setOperators.push(...n),this}where(n){return typeof n=="function"&&(n=n(new Proxy(this.config.fields,new dt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.where=n,this}having(n){return typeof n=="function"&&(n=n(new Proxy(this.config.fields,new dt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.having=n,this}groupBy(...n){if(typeof n[0]=="function"){const r=n[0](new Proxy(this.config.fields,new dt({sqlAliasedBehavior:"alias",sqlBehavior:"sql"})));this.config.groupBy=Array.isArray(r)?r:[r]}else this.config.groupBy=n;return this}orderBy(...n){if(typeof n[0]=="function"){const r=n[0](new Proxy(this.config.fields,new dt({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),s=Array.isArray(r)?r:[r];this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=s:this.config.orderBy=s}else{const r=n;this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=r:this.config.orderBy=r}return this}limit(n){return this.config.setOperators.length>0?this.config.setOperators.at(-1).limit=n:this.config.limit=n,this}offset(n){return this.config.setOperators.length>0?this.config.setOperators.at(-1).offset=n:this.config.offset=n,this}getSQL(){return this.dialect.buildSelectQuery(this.config)}toSQL(){const{typings:n,...r}=this.dialect.sqlToQuery(this.getSQL());return r}as(n){const r=[];if(r.push(...ss(this.config.table)),this.config.joins)for(const s of this.config.joins)r.push(...ss(s.table));return new Proxy(new Ft(this.getSQL(),this.config.fields,n,!1,[...new Set(r)]),new dt({alias:n,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}getSelectedFields(){return new Proxy(this.config.fields,new dt({alias:this.tableName,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}$dynamic(){return this}}v(J$,Px,"SQLiteSelectQueryBuilder");var jx,Lx;class Oh extends(Lx=J$,jx=B,Lx){constructor(){super(...arguments);v(this,"run",n=>this._prepare().run(n));v(this,"all",n=>this._prepare().all(n));v(this,"get",n=>this._prepare().get(n));v(this,"values",n=>this._prepare().values(n))}_prepare(n=!0){if(!this.session)throw new Error("Cannot execute a query on a query builder. Please use a database instance instead.");const r=Is(this.config.fields),s=this.session[n?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),r,"all",!0,void 0,{type:"select",tables:[...this.usedTables]},this.cacheConfig);return s.joinsNotNullableMap=this.joinsNotNullableMap,s}$withCache(n){return this.cacheConfig=n===void 0?{config:{},enable:!0,autoInvalidate:!0}:n===!1?{enable:!1}:{enable:!0,autoInvalidate:!0,...n},this}prepare(){return this._prepare(!1)}async execute(){return this.all()}}v(Oh,jx,"SQLiteSelect");mU(Oh,[Mr]);function eu(t,e){return(n,r,...s)=>{const i=[r,...s].map(a=>({type:t,isAll:e,rightSelect:a}));for(const a of i)if(!Rh(n.getSelectedFields(),a.rightSelect.getSelectedFields()))throw new Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return n.addSetOperators(i)}}const ZU=()=>({union:eB,unionAll:tB,intersect:nB,except:rB}),eB=eu("union",!1),tB=eu("union",!0),nB=eu("intersect",!1),rB=eu("except",!1);var qx;qx=B;class Ch{constructor(e){v(this,"dialect");v(this,"dialectConfig");v(this,"$with",(e,n)=>{const r=this;return{as:i=>(typeof i=="function"&&(i=i(r)),new Proxy(new Eh(i.getSQL(),n??("getSelectedFields"in i?i.getSelectedFields()??{}:{}),e,!0),new dt({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}});this.dialect=U(e,Wa)?e:void 0,this.dialectConfig=U(e,Wa)?void 0:e}with(...e){const n=this;function r(i){return new Qn({fields:i??void 0,session:void 0,dialect:n.getDialect(),withList:e})}function s(i){return new Qn({fields:i??void 0,session:void 0,dialect:n.getDialect(),withList:e,distinct:!0})}return{select:r,selectDistinct:s}}select(e){return new Qn({fields:e??void 0,session:void 0,dialect:this.getDialect()})}selectDistinct(e){return new Qn({fields:e??void 0,session:void 0,dialect:this.getDialect(),distinct:!0})}getDialect(){return this.dialect||(this.dialect=new Q$(this.dialectConfig)),this.dialect}}v(Ch,qx,"SQLiteQueryBuilder");var Mx;Mx=B;class yd{constructor(e,n,r,s){this.table=e,this.session=n,this.dialect=r,this.withList=s}values(e){if(e=Array.isArray(e)?e:[e],e.length===0)throw new Error("values() must be called with at least one value");const n=e.map(r=>{const s={},i=this.table[H.Symbol.Columns];for(const a of Object.keys(r)){const o=r[a];s[a]=U(o,te)?o:new Zn(o,i[a])}return s});return new gd(this.table,n,this.session,this.dialect,this.withList)}select(e){const n=typeof e=="function"?e(new Ch):e;if(!U(n,te)&&!Rh(this.table[cd],n._.selectedFields))throw new Error("Insert select error: selected fields are not the same or are in a different order compared to the table definition");return new gd(this.table,n,this.session,this.dialect,this.withList,!0)}}v(yd,Mx,"SQLiteInsertBuilder");var Fx,Ux;class gd extends(Ux=Mr,Fx=B,Ux){constructor(n,r,s,i,a,o){super();v(this,"config");v(this,"run",n=>this._prepare().run(n));v(this,"all",n=>this._prepare().all(n));v(this,"get",n=>this._prepare().get(n));v(this,"values",n=>this._prepare().values(n));this.session=s,this.dialect=i,this.config={table:n,values:r,withList:a,select:o}}returning(n=this.config.table[qt.Symbol.Columns]){return this.config.returning=Is(n),this}onConflictDoNothing(n={}){if(this.config.onConflict||(this.config.onConflict=[]),n.target===void 0)this.config.onConflict.push(O` on conflict do nothing`);else{const r=Array.isArray(n.target)?O`${n.target}`:O`${[n.target]}`,s=n.where?O` where ${n.where}`:O``;this.config.onConflict.push(O` on conflict ${r} do nothing${s}`)}return this}onConflictDoUpdate(n){if(n.where&&(n.targetWhere||n.setWhere))throw new Error('You cannot use both "where" and "targetWhere"/"setWhere" at the same time - "where" is deprecated, use "targetWhere" or "setWhere" instead.');this.config.onConflict||(this.config.onConflict=[]);const r=n.where?O` where ${n.where}`:void 0,s=n.targetWhere?O` where ${n.targetWhere}`:void 0,i=n.setWhere?O` where ${n.setWhere}`:void 0,a=Array.isArray(n.target)?O`${n.target}`:O`${[n.target]}`,o=this.dialect.buildUpdateSet(this.config.table,u$(this.config.table,n.set));return this.config.onConflict.push(O` on conflict ${a}${s} do update set ${o}${r}${i}`),this}getSQL(){return this.dialect.buildInsertQuery(this.config)}toSQL(){const{typings:n,...r}=this.dialect.sqlToQuery(this.getSQL());return r}_prepare(n=!0){return this.session[n?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),this.config.returning,this.config.returning?"all":"run",!0,void 0,{type:"insert",tables:ss(this.config.table)})}prepare(){return this._prepare(!1)}async execute(){return this.config.returning?this.all():this.run()}$dynamic(){return this}}v(gd,Fx,"SQLiteInsert");var Bx;Bx=B;class vd{constructor(e,n,r,s){this.table=e,this.session=n,this.dialect=r,this.withList=s}set(e){return new Y$(this.table,u$(this.table,e),this.session,this.dialect,this.withList)}}v(vd,Bx,"SQLiteUpdateBuilder");var Dx,zx;class Y$ extends(zx=Mr,Dx=B,zx){constructor(n,r,s,i,a){super();v(this,"config");v(this,"leftJoin",this.createJoin("left"));v(this,"rightJoin",this.createJoin("right"));v(this,"innerJoin",this.createJoin("inner"));v(this,"fullJoin",this.createJoin("full"));v(this,"run",n=>this._prepare().run(n));v(this,"all",n=>this._prepare().all(n));v(this,"get",n=>this._prepare().get(n));v(this,"values",n=>this._prepare().values(n));this.session=s,this.dialect=i,this.config={set:r,table:n,withList:a,joins:[]}}from(n){return this.config.from=n,this}createJoin(n){return(r,s)=>{const i=ld(r);if(typeof i=="string"&&this.config.joins.some(a=>a.alias===i))throw new Error(`Alias "${i}" is already used in this query`);if(typeof s=="function"){const a=this.config.from?U(r,qt)?r[H.Symbol.Columns]:U(r,Ft)?r._.selectedFields:U(r,Zl)?r[ot].selectedFields:void 0:void 0;s=s(new Proxy(this.config.table[H.Symbol.Columns],new dt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})),a&&new Proxy(a,new dt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))}return this.config.joins.push({on:s,table:r,joinType:n,alias:i}),this}}where(n){return this.config.where=n,this}orderBy(...n){if(typeof n[0]=="function"){const r=n[0](new Proxy(this.config.table[H.Symbol.Columns],new dt({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),s=Array.isArray(r)?r:[r];this.config.orderBy=s}else{const r=n;this.config.orderBy=r}return this}limit(n){return this.config.limit=n,this}returning(n=this.config.table[qt.Symbol.Columns]){return this.config.returning=Is(n),this}getSQL(){return this.dialect.buildUpdateQuery(this.config)}toSQL(){const{typings:n,...r}=this.dialect.sqlToQuery(this.getSQL());return r}_prepare(n=!0){return this.session[n?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),this.config.returning,this.config.returning?"all":"run",!0,void 0,{type:"insert",tables:ss(this.config.table)})}prepare(){return this._prepare(!1)}async execute(){return this.config.returning?this.all():this.run()}$dynamic(){return this}}v(Y$,Dx,"SQLiteUpdate");var Vx,Gx,Hx;const Ba=class Ba extends(Hx=te,Gx=B,Vx=Symbol.toStringTag,Hx){constructor(n){super(Ba.buildEmbeddedCount(n.source,n.filters).queryChunks);v(this,"sql");v(this,Vx,"SQLiteCountBuilderAsync");v(this,"session");this.params=n,this.session=n.session,this.sql=Ba.buildCount(n.source,n.filters)}static buildEmbeddedCount(n,r){return O`(select count(*) from ${n}${O.raw(" where ").if(r)}${r})`}static buildCount(n,r){return O`select count(*) from ${n}${O.raw(" where ").if(r)}${r}`}then(n,r){return Promise.resolve(this.session.count(this.sql)).then(n,r)}catch(n){return this.then(void 0,n)}finally(n){return this.then(r=>(n==null||n(),r),r=>{throw n==null||n(),r})}};v(Ba,Gx,"SQLiteCountBuilderAsync");let bd=Ba;var Qx;Qx=B;class X${constructor(e,n,r,s,i,a,o,c){this.mode=e,this.fullSchema=n,this.schema=r,this.tableNamesMap=s,this.table=i,this.tableConfig=a,this.dialect=o,this.session=c}findMany(e){return this.mode==="sync"?new xd(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e||{},"many"):new Wc(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e||{},"many")}findFirst(e){return this.mode==="sync"?new xd(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e?{...e,limit:1}:{limit:1},"first"):new Wc(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e?{...e,limit:1}:{limit:1},"first")}}v(X$,Qx,"SQLiteAsyncRelationalQueryBuilder");var Wx,Kx;class Wc extends(Kx=Mr,Wx=B,Kx){constructor(n,r,s,i,a,o,c,l,u){super();v(this,"mode");this.fullSchema=n,this.schema=r,this.tableNamesMap=s,this.table=i,this.tableConfig=a,this.dialect=o,this.session=c,this.config=l,this.mode=u}getSQL(){return this.dialect.buildRelationalQuery({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName}).sql}_prepare(n=!1){const{query:r,builtQuery:s}=this._toSQL();return this.session[n?"prepareOneTimeQuery":"prepareQuery"](s,void 0,this.mode==="first"?"get":"all",!0,(i,a)=>{const o=i.map(c=>md(this.schema,this.tableConfig,c,r.selection,a));return this.mode==="first"?o[0]:o})}prepare(){return this._prepare(!1)}_toSQL(){const n=this.dialect.buildRelationalQuery({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName}),r=this.dialect.sqlToQuery(n.sql);return{query:n,builtQuery:r}}toSQL(){return this._toSQL().builtQuery}executeRaw(){return this.mode==="first"?this._prepare(!1).get():this._prepare(!1).all()}async execute(){return this.executeRaw()}}v(Wc,Wx,"SQLiteAsyncRelationalQuery");var Jx,Yx;class xd extends(Yx=Wc,Jx=B,Yx){sync(){return this.executeRaw()}}v(xd,Jx,"SQLiteSyncRelationalQuery");var Xx,Zx;class Sa extends(Zx=Mr,Xx=B,Zx){constructor(n,r,s,i,a){super();v(this,"config");this.execute=n,this.getSQL=r,this.dialect=i,this.mapBatchResult=a,this.config={action:s}}getQuery(){return{...this.dialect.sqlToQuery(this.getSQL()),method:this.config.action}}mapResult(n,r){return r?this.mapBatchResult(n):n}_prepare(){return this}isResponseInArrayMode(){return!1}}v(Sa,Xx,"SQLiteRaw");var ew;ew=B;class Nh{constructor(e,n,r,s){v(this,"query");v(this,"$with",(e,n)=>{const r=this;return{as:i=>(typeof i=="function"&&(i=i(new Ch(r.dialect))),new Proxy(new Eh(i.getSQL(),n??("getSelectedFields"in i?i.getSelectedFields()??{}:{}),e,!0),new dt({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}});v(this,"$cache");this.resultKind=e,this.dialect=n,this.session=r,this._=s?{schema:s.schema,fullSchema:s.fullSchema,tableNamesMap:s.tableNamesMap}:{schema:void 0,fullSchema:{},tableNamesMap:{}},this.query={};const i=this.query;if(this._.schema)for(const[a,o]of Object.entries(this._.schema))i[a]=new X$(e,s.fullSchema,this._.schema,this._.tableNamesMap,s.fullSchema[a],o,n,r);this.$cache={invalidate:async a=>{}}}$count(e,n){return new bd({source:e,filters:n,session:this.session})}with(...e){const n=this;function r(c){return new Qn({fields:c??void 0,session:n.session,dialect:n.dialect,withList:e})}function s(c){return new Qn({fields:c??void 0,session:n.session,dialect:n.dialect,withList:e,distinct:!0})}function i(c){return new vd(c,n.session,n.dialect,e)}function a(c){return new yd(c,n.session,n.dialect,e)}function o(c){return new dd(c,n.session,n.dialect,e)}return{select:r,selectDistinct:s,update:i,insert:a,delete:o}}select(e){return new Qn({fields:e??void 0,session:this.session,dialect:this.dialect})}selectDistinct(e){return new Qn({fields:e??void 0,session:this.session,dialect:this.dialect,distinct:!0})}update(e){return new vd(e,this.session,this.dialect)}insert(e){return new yd(e,this.session,this.dialect)}delete(e){return new dd(e,this.session,this.dialect)}run(e){const n=typeof e=="string"?O.raw(e):e.getSQL();return this.resultKind==="async"?new Sa(async()=>this.session.run(n),()=>n,"run",this.dialect,this.session.extractRawRunValueFromBatchResult.bind(this.session)):this.session.run(n)}all(e){const n=typeof e=="string"?O.raw(e):e.getSQL();return this.resultKind==="async"?new Sa(async()=>this.session.all(n),()=>n,"all",this.dialect,this.session.extractRawAllValueFromBatchResult.bind(this.session)):this.session.all(n)}get(e){const n=typeof e=="string"?O.raw(e):e.getSQL();return this.resultKind==="async"?new Sa(async()=>this.session.get(n),()=>n,"get",this.dialect,this.session.extractRawGetValueFromBatchResult.bind(this.session)):this.session.get(n)}values(e){const n=typeof e=="string"?O.raw(e):e.getSQL();return this.resultKind==="async"?new Sa(async()=>this.session.values(n),()=>n,"values",this.dialect,this.session.extractRawValuesValueFromBatchResult.bind(this.session)):this.session.values(n)}transaction(e,n){return this.session.transaction(e,n)}}v(Nh,ew,"BaseSQLiteDatabase");var tw;tw=B;class Z${}v(Z$,tw,"Cache");var nw,rw;class Ah extends(rw=Z$,nw=B,rw){strategy(){return"all"}async get(e){}async put(e,n,r,s){}async onMutate(e){}}v(Ah,nw,"NoopCache");async function gg(t,e){const n=`${t}-${JSON.stringify(e)}`,s=new TextEncoder().encode(n),i=await crypto.subtle.digest("SHA-256",s);return[...new Uint8Array(i)].map(c=>c.toString(16).padStart(2,"0")).join("")}var sw,iw;class eS extends(iw=Mr,sw=B,iw){constructor(e){super(),this.resultCb=e}async execute(){return this.resultCb()}sync(){return this.resultCb()}}v(eS,sw,"ExecuteResultSync");var aw;aw=B;class tS{constructor(e,n,r,s,i,a){v(this,"joinsNotNullableMap");var o;this.mode=e,this.executeMethod=n,this.query=r,this.cache=s,this.queryMetadata=i,this.cacheConfig=a,s&&s.strategy()==="all"&&a===void 0&&(this.cacheConfig={enable:!0,autoInvalidate:!0}),(o=this.cacheConfig)!=null&&o.enable||(this.cacheConfig=void 0)}async queryWithCache(e,n,r){if(this.cache===void 0||U(this.cache,Ah)||this.queryMetadata===void 0)try{return await r()}catch(s){throw new hr(e,n,s)}if(this.cacheConfig&&!this.cacheConfig.enable)try{return await r()}catch(s){throw new hr(e,n,s)}if((this.queryMetadata.type==="insert"||this.queryMetadata.type==="update"||this.queryMetadata.type==="delete")&&this.queryMetadata.tables.length>0)try{const[s]=await Promise.all([r(),this.cache.onMutate({tables:this.queryMetadata.tables})]);return s}catch(s){throw new hr(e,n,s)}if(!this.cacheConfig)try{return await r()}catch(s){throw new hr(e,n,s)}if(this.queryMetadata.type==="select"){const s=await this.cache.get(this.cacheConfig.tag??await gg(e,n),this.queryMetadata.tables,this.cacheConfig.tag!==void 0,this.cacheConfig.autoInvalidate);if(s===void 0){let i;try{i=await r()}catch(a){throw new hr(e,n,a)}return await this.cache.put(this.cacheConfig.tag??await gg(e,n),i,this.cacheConfig.autoInvalidate?this.queryMetadata.tables:[],this.cacheConfig.tag!==void 0,this.cacheConfig.config),i}return s}try{return await r()}catch(s){throw new hr(e,n,s)}}getQuery(){return this.query}mapRunResult(e,n){return e}mapAllResult(e,n){throw new Error("Not implemented")}mapGetResult(e,n){throw new Error("Not implemented")}execute(e){return this.mode==="async"?this[this.executeMethod](e):new eS(()=>this[this.executeMethod](e))}mapResult(e,n){switch(this.executeMethod){case"run":return this.mapRunResult(e,n);case"all":return this.mapAllResult(e,n);case"get":return this.mapGetResult(e,n)}}}v(tS,aw,"PreparedQuery");var ow;ow=B;class nS{constructor(e){this.dialect=e}prepareOneTimeQuery(e,n,r,s,i,a,o){return this.prepareQuery(e,n,r,s,i,a,o)}run(e){const n=this.dialect.sqlToQuery(e);try{return this.prepareOneTimeQuery(n,void 0,"run",!1).run()}catch(r){throw new Xl({cause:r,message:`Failed to run the query '${n.sql}'`})}}extractRawRunValueFromBatchResult(e){return e}all(e){return this.prepareOneTimeQuery(this.dialect.sqlToQuery(e),void 0,"run",!1).all()}extractRawAllValueFromBatchResult(e){throw new Error("Not implemented")}get(e){return this.prepareOneTimeQuery(this.dialect.sqlToQuery(e),void 0,"run",!1).get()}extractRawGetValueFromBatchResult(e){throw new Error("Not implemented")}values(e){return this.prepareOneTimeQuery(this.dialect.sqlToQuery(e),void 0,"run",!1).values()}async count(e){return(await this.values(e))[0][0]}extractRawValuesValueFromBatchResult(e){throw new Error("Not implemented")}}v(nS,ow,"SQLiteSession");var cw,lw;class rS extends(lw=Nh,cw=B,lw){constructor(e,n,r,s,i=0){super(e,n,r,s),this.schema=s,this.nestedIndex=i}rollback(){throw new D$}}v(rS,cw,"SQLiteTransaction");const sB=_$({dataType(){return"text"},toDriver(t){return t.join(",")},fromDriver(t){return t.split(",")}}),kr=Yl("price_markup_changes_groups",{id:On("id").primaryKey({autoIncrement:!0}),catalogUrls:sB("catalog_urls").notNull(),numberOfAllOffers:On("number_of_all_offers").notNull()}),Kc=Yl("price_markup_changes",{id:On("id").primaryKey({autoIncrement:!0}),changesGroupId:On("changes_group_id").notNull().references(()=>kr.id,{onDelete:"cascade"}),offerId:ws("offer_id").notNull(),newPrice:ud("new_price").notNull(),oldPrice:ud("old_price")}),Jc=Yl("price_markup_changes_logs",{id:On("id").primaryKey({autoIncrement:!0}),changesGroupId:On("changes_group_id").notNull().references(()=>kr.id,{onDelete:"cascade"}),status:ws("status").notNull().$type(),type:ws("type").notNull().$type(),numberOfSuccessfullyChangedOffers:On("number_of_successfully_changed_offers"),createdAt:ws("created_at").notNull()}),Ui=Yl("automations",{id:On("id").primaryKey({autoIncrement:!0}),changesGroupId:On("changes_group_id").notNull().references(()=>kr.id,{onDelete:"cascade"}),frequency:ws("frequency").notNull(),startTime:ws("start_time").notNull()}),iB=Object.freeze(Object.defineProperty({__proto__:null,automations:Ui,priceMarkupChanges:Kc,priceMarkupChangesGroups:kr,priceMarkupChangesLogs:Jc},Symbol.toStringTag,{value:"Module"}));class pe extends Error{constructor(n,r,s,i){r!==void 0&&(n=`${r}: ${n}`);super(n,{cause:i});v(this,"code");v(this,"rawCode");this.code=r,this.rawCode=s,this.name="LibsqlError"}}function aB(t){const e=oB.exec(t);if(e===null)throw new pe(`The URL '${t}' is not in a valid format`,"URL_INVALID");const n=e.groups,r=n.scheme,s=n.authority!==void 0?cB(n.authority):void 0,i=_s(n.path),a=n.query!==void 0?uB(n.query):void 0,o=n.fragment!==void 0?_s(n.fragment):void 0;return{scheme:r,authority:s,path:i,query:a,fragment:o}}const oB=(()=>{const t="(?<scheme>[A-Za-z][A-Za-z.+-]*)",e="(?<authority>[^/?#]*)",n="(?<path>[^?#]*)",r="(?<query>[^#]*)",s="(?<fragment>.*)";return new RegExp(`^${t}:(//${e})?${n}(\\?${r})?(#${s})?$`,"su")})();function cB(t){const e=lB.exec(t);if(e===null)throw new pe("The authority part of the URL is not in a valid format","URL_INVALID");const n=e.groups,r=_s(n.host_br??n.host),s=n.port?parseInt(n.port,10):void 0,i=n.username!==void 0?{username:_s(n.username),password:n.password!==void 0?_s(n.password):void 0}:void 0;return{host:r,port:s,userinfo:i}}const lB=new RegExp("^((?<username>[^:]*)(:(?<password>.*))?@)?((?<host>[^:\\[\\]]*)|(\\[(?<host_br>[^\\[\\]]*)\\]))(:(?<port>[0-9]*))?$","su");function uB(t){const e=t.split("&"),n=[];for(const r of e){if(r==="")continue;let s,i;const a=r.indexOf("=");a<0?(s=r,i=""):(s=r.substring(0,a),i=r.substring(a+1)),n.push({key:_s(s.replaceAll("+"," ")),value:_s(i.replaceAll("+"," "))})}return{pairs:n}}function _s(t){try{return decodeURIComponent(t)}catch(e){throw e instanceof URIError?new pe(`URL component has invalid percent encoding: ${e}`,"URL_INVALID",void 0,e):e}}function wd(t,e,n){if(e===void 0)throw new pe(`URL with scheme ${JSON.stringify(t+":")} requires authority (the "//" part)`,"URL_INVALID");const r=`${t}:`,s=pB(e.host),i=dB(e.port),o=`//${fB(e.userinfo)}${s}${i}`;let c=n.split("/").map(encodeURIComponent).join("/");return c!==""&&!c.startsWith("/")&&(c="/"+c),new URL(`${r}${o}${c}`)}function pB(t){return t.includes(":")?`[${encodeURI(t)}]`:encodeURI(t)}function dB(t){return t!==void 0?`:${t}`:""}function fB(t){if(t===void 0)return"";const e=encodeURIComponent(t.username),n=t.password!==void 0?`:${encodeURIComponent(t.password)}`:"";return`${e}${n}@`}const sS="3.7.8",hB=sS,ra=typeof Buffer=="function",vg=typeof TextDecoder=="function"?new TextDecoder:void 0,bg=typeof TextEncoder=="function"?new TextEncoder:void 0,mB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Ea=Array.prototype.slice.call(mB),rc=(t=>{let e={};return t.forEach((n,r)=>e[n]=r),e})(Ea),yB=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Xe=String.fromCharCode.bind(String),xg=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):t=>new Uint8Array(Array.prototype.slice.call(t,0)),iS=t=>t.replace(/=/g,"").replace(/[+\/]/g,e=>e=="+"?"-":"_"),aS=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),oS=t=>{let e,n,r,s,i="";const a=t.length%3;for(let o=0;o<t.length;){if((n=t.charCodeAt(o++))>255||(r=t.charCodeAt(o++))>255||(s=t.charCodeAt(o++))>255)throw new TypeError("invalid character found");e=n<<16|r<<8|s,i+=Ea[e>>18&63]+Ea[e>>12&63]+Ea[e>>6&63]+Ea[e&63]}return a?i.slice(0,a-3)+"===".substring(a):i},Ih=typeof btoa=="function"?t=>btoa(t):ra?t=>Buffer.from(t,"binary").toString("base64"):oS,_d=ra?t=>Buffer.from(t).toString("base64"):t=>{let n=[];for(let r=0,s=t.length;r<s;r+=4096)n.push(Xe.apply(null,t.subarray(r,r+4096)));return Ih(n.join(""))},$c=(t,e=!1)=>e?iS(_d(t)):_d(t),gB=t=>{if(t.length<2){var e=t.charCodeAt(0);return e<128?t:e<2048?Xe(192|e>>>6)+Xe(128|e&63):Xe(224|e>>>12&15)+Xe(128|e>>>6&63)+Xe(128|e&63)}else{var e=65536+(t.charCodeAt(0)-55296)*1024+(t.charCodeAt(1)-56320);return Xe(240|e>>>18&7)+Xe(128|e>>>12&63)+Xe(128|e>>>6&63)+Xe(128|e&63)}},vB=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,cS=t=>t.replace(vB,gB),wg=ra?t=>Buffer.from(t,"utf8").toString("base64"):bg?t=>_d(bg.encode(t)):t=>Ih(cS(t)),pi=(t,e=!1)=>e?iS(wg(t)):wg(t),_g=t=>pi(t,!0),bB=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,xB=t=>{switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),n=e-65536;return Xe((n>>>10)+55296)+Xe((n&1023)+56320);case 3:return Xe((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return Xe((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},lS=t=>t.replace(bB,xB),uS=t=>{if(t=t.replace(/\s+/g,""),!yB.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(t.length&3));let e,n,r,s=[];for(let i=0;i<t.length;)e=rc[t.charAt(i++)]<<18|rc[t.charAt(i++)]<<12|(n=rc[t.charAt(i++)])<<6|(r=rc[t.charAt(i++)]),n===64?s.push(Xe(e>>16&255)):r===64?s.push(Xe(e>>16&255,e>>8&255)):s.push(Xe(e>>16&255,e>>8&255,e&255));return s.join("")},Ph=typeof atob=="function"?t=>atob(aS(t)):ra?t=>Buffer.from(t,"base64").toString("binary"):uS,pS=ra?t=>xg(Buffer.from(t,"base64")):t=>xg(Ph(t).split("").map(e=>e.charCodeAt(0))),dS=t=>pS(fS(t)),wB=ra?t=>Buffer.from(t,"base64").toString("utf8"):vg?t=>vg.decode(pS(t)):t=>lS(Ph(t)),fS=t=>aS(t.replace(/[-_]/g,e=>e=="-"?"+":"/")),$d=t=>wB(fS(t)),_B=t=>{if(typeof t!="string")return!1;const e=t.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e)},hS=t=>({value:t,enumerable:!1,writable:!0,configurable:!0}),mS=function(){const t=(e,n)=>Object.defineProperty(String.prototype,e,hS(n));t("fromBase64",function(){return $d(this)}),t("toBase64",function(e){return pi(this,e)}),t("toBase64URI",function(){return pi(this,!0)}),t("toBase64URL",function(){return pi(this,!0)}),t("toUint8Array",function(){return dS(this)})},yS=function(){const t=(e,n)=>Object.defineProperty(Uint8Array.prototype,e,hS(n));t("toBase64",function(e){return $c(this,e)}),t("toBase64URI",function(){return $c(this,!0)}),t("toBase64URL",function(){return $c(this,!0)})},$B=()=>{mS(),yS()},kh={version:sS,VERSION:hB,atob:Ph,atobPolyfill:uS,btoa:Ih,btoaPolyfill:oS,fromBase64:$d,toBase64:pi,encode:pi,encodeURI:_g,encodeURL:_g,utob:cS,btou:lS,decode:$d,isValid:_B,fromUint8Array:$c,toUint8Array:dS,extendString:mS,extendUint8Array:yS,extendBuiltins:$B},Bi="https://github.com/libsql/libsql-client-ts#supported-urls";function di(t){if(t==="write")return"BEGIN IMMEDIATE";if(t==="read")return"BEGIN TRANSACTION READONLY";if(t==="deferred")return"BEGIN DEFERRED";throw RangeError('Unknown transaction mode, supported values are "write", "read" and "deferred"')}class Sd{constructor(e,n,r,s,i){v(this,"columns");v(this,"columnTypes");v(this,"rows");v(this,"rowsAffected");v(this,"lastInsertRowid");this.columns=e,this.columnTypes=n,this.rows=r,this.rowsAffected=s,this.lastInsertRowid=i}toJSON(){return{columns:this.columns,columnTypes:this.columnTypes,rows:this.rows.map(SB),rowsAffected:this.rowsAffected,lastInsertRowid:this.lastInsertRowid!==void 0?""+this.lastInsertRowid:null}}}function SB(t){return Array.prototype.map.call(t,EB)}function EB(t){return typeof t=="bigint"?""+t:t instanceof ArrayBuffer?kh.fromUint8Array(new Uint8Array(t)):t}const $g=":memory:";function RB(t){return t.scheme==="file"&&(t.path===":memory:"||t.path.startsWith(":memory:?"))}function TB(t,e){var m,g;if(typeof t!="object")throw new TypeError(`Expected client configuration as object, got ${typeof t}`);let{url:n,authToken:r,tls:s,intMode:i,concurrency:a}=t;a=Math.max(0,a||20),i??(i="number");let o=[];n===$g&&(n="file::memory:");const c=aB(n),l=c.scheme.toLowerCase(),u=l==="file"&&c.path===$g&&c.authority===void 0;let p;u?p={cache:{values:["shared","private"],update:(b,_)=>o.push(`${b}=${_}`)}}:p={tls:{values:["0","1"],update:(b,_)=>s=_==="1"},authToken:{update:(b,_)=>r=_}};for(const{key:b,value:_}of((m=c.query)==null?void 0:m.pairs)??[]){if(!Object.hasOwn(p,b))throw new pe(`Unsupported URL query parameter ${JSON.stringify(b)}`,"URL_PARAM_NOT_SUPPORTED");const S=p[b];if(S.values!==void 0&&!S.values.includes(_))throw new pe(`Unknown value for the "${b}" query argument: ${JSON.stringify(_)}. Supported values are: [${S.values.map(C=>'"'+C+'"').join(", ")}]`,"URL_INVALID");S.update!==void 0&&(S==null||S.update(b,_))}const h=o.length===0?"":`?${o.join("&")}`,y=c.path+h;let f;if(l==="libsql")if(s===!1){if(((g=c.authority)==null?void 0:g.port)===void 0)throw new pe('A "libsql:" URL with ?tls=0 must specify an explicit port',"URL_INVALID");f="http"}else f="https";else f=l;if(f==="http"||f==="ws"?s??(s=!1):s??(s=!0),f!=="http"&&f!=="ws"&&f!=="https"&&f!=="wss"&&f!=="file")throw new pe(`The client supports only "libsql:", "wss:", "ws:", "https:", "http:" and "file:" URLs, got ${JSON.stringify(c.scheme+":")}. For more information, please read ${Bi}`,"URL_SCHEME_NOT_SUPPORTED");if(i!=="number"&&i!=="bigint"&&i!=="string")throw new TypeError(`Invalid value for intMode, expected "number", "bigint" or "string", got ${JSON.stringify(i)}`);if(c.fragment!==void 0)throw new pe(`URL fragments are not supported: ${JSON.stringify("#"+c.fragment)}`,"URL_INVALID");return u?{scheme:"file",tls:!1,path:y,intMode:i,concurrency:a,syncUrl:t.syncUrl,syncInterval:t.syncInterval,readYourWrites:t.readYourWrites,offline:t.offline,fetch:t.fetch,authToken:void 0,encryptionKey:void 0,authority:void 0}:{scheme:f,tls:s,authority:c.authority,path:y,authToken:r,intMode:i,concurrency:a,encryptionKey:t.encryptionKey,syncUrl:t.syncUrl,syncInterval:t.syncInterval,readYourWrites:t.readYourWrites,offline:t.offline,fetch:t.fetch}}function gS(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var tu={exports:{}},Di={},OB=$e&&$e.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(e,n);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,s)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),CB=$e&&$e.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),vS=$e&&$e.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&OB(e,t,n);return CB(e,t),e};Object.defineProperty(Di,"__esModule",{value:!0});Di.load=Di.currentTarget=void 0;const NB=vS(qr),AB=vS(vl);function IB(){let t=null;switch(process.platform){case"android":switch(process.arch){case"arm":return"android-arm-eabi";case"arm64":return"android-arm64"}t="Android";break;case"win32":switch(process.arch){case"x64":return"win32-x64-msvc";case"arm64":return"win32-arm64-msvc";case"ia32":return"win32-ia32-msvc"}t="Windows";break;case"darwin":switch(process.arch){case"x64":return"darwin-x64";case"arm64":return"darwin-arm64"}t="macOS";break;case"linux":switch(process.arch){case"x64":case"arm64":return PB()?`linux-${process.arch}-gnu`:`linux-${process.arch}-musl`;case"arm":return"linux-arm-gnueabihf"}t="Linux";break;case"freebsd":if(process.arch==="x64")return"freebsd-x64";t="FreeBSD";break}throw t?new Error(`Neon: unsupported ${t} architecture: ${process.arch}`):new Error(`Neon: unsupported system: ${process.platform}`)}Di.currentTarget=IB;function PB(){var n;const t=(n=process.report)==null?void 0:n.getReport();if(typeof t!="object"||!t||!("header"in t))return!1;const e=t.header;return typeof e=="object"&&!!e&&"glibcVersionRuntime"in e}function kB(t){const e=NB.join(t,"index.node");return AB.existsSync(e)?gS(e):null}Di.load=kB;const bS=()=>process.platform==="linux";let Ep=null;const jB=()=>(Ep||(Ep=bS()&&process.report?process.report.getReport():{}),Ep);var LB={isLinux:bS,getReport:jB};const xS=vl,qB="/usr/bin/ldd",MB=t=>xS.readFileSync(t,"utf-8"),FB=t=>new Promise((e,n)=>{xS.readFile(t,"utf-8",(r,s)=>{r?n(r):e(s)})});var UB={LDD_PATH:qB,readFileSync:MB,readFile:FB};const BB=gl,{isLinux:DB,getReport:zB}=LB,{LDD_PATH:VB,readFile:U6,readFileSync:GB}=UB;let ya;const HB="getconf GNU_LIBC_VERSION 2>&1 || true; ldd --version 2>&1 || true";let sc="";const QB=()=>{if(!sc)try{sc=BB.execSync(HB,{encoding:"utf8"})}catch{sc=" "}return sc},zi="glibc",Vi="musl",WB=zi.toUpperCase(),KB=Vi.toLowerCase(),JB=t=>t.includes("libc.musl-")||t.includes("ld-musl-"),YB=()=>{const t=zB();return t.header&&t.header.glibcVersionRuntime?zi:Array.isArray(t.sharedObjects)&&t.sharedObjects.some(JB)?Vi:null},XB=t=>{const[e,n]=t.split(/[\r\n]+/);return e&&e.includes(zi)?zi:n&&n.includes(Vi)?Vi:null},ZB=t=>t.includes(KB)?Vi:t.includes(WB)?zi:null,eD=()=>{if(ya!==void 0)return ya;ya=null;try{const t=GB(VB);ya=ZB(t)}catch{}return ya},tD=()=>{let t=null;if(DB()&&(t=eD(),t||(t=YB()),!t)){const e=QB();t=XB(e)}return t};var nD={GLIBC:zi,MUSL:Vi,familySync:tD};const rD={ALLOW:0,DENY:1};var sD=rD;const Ed={value:"SqliteError",writable:!0,enumerable:!1,configurable:!0};function $s(t,e,n){if(new.target!==$s)return new $s(t,e);if(typeof e!="string")throw new TypeError("Expected second argument to be a string");Error.call(this,t),Ed.value=""+t,Object.defineProperty(this,"message",Ed),Error.captureStackTrace(this,$s),this.code=e,this.rawCode=n}Object.setPrototypeOf($s,Error);Object.setPrototypeOf($s.prototype,Error.prototype);Object.defineProperty($s.prototype,"name",Ed);var iD=$s;const{load:aD,currentTarget:oD}=Di,{familySync:Sg,GLIBC:cD,MUSL:lD}=nD;function uD(){if(process.env.LIBSQL_JS_DEV)return aD(__dirname);let t=oD();if(Sg()==cD)switch(t){case"linux-x64-musl":t="linux-x64-gnu";break;case"linux-arm64-musl":t="linux-arm64-gnu";break}return t==="linux-arm-gnueabihf"&&Sg()==lD&&(t="linux-arm-musleabihf"),gS(`@libsql/${t}`)}const{databaseOpen:pD,databaseOpenWithSync:dD,databaseInTransaction:fD,databaseInterrupt:hD,databaseClose:mD,databaseSyncSync:yD,databaseSyncUntilSync:gD,databaseExecSync:vD,databasePrepareSync:bD,databaseDefaultSafeIntegers:xD,databaseAuthorizer:wD,databaseLoadExtension:_D,databaseMaxWriteReplicationIndex:$D,statementRaw:SD,statementIsReader:ED,statementGet:Eg,statementRun:Rg,statementInterrupt:RD,statementRowsSync:Tg,statementColumns:TD,statementSafeIntegers:OD,rowsNext:CD}=uD(),ND=sD,wS=iD;function si(t){return t.libsqlError?new wS(t.message,t.code,t.rawCode):t}class AD{constructor(e,n){const r=(n==null?void 0:n.encryptionCipher)??"aes256cbc";if(n&&n.syncUrl){var s="";n.syncAuth?(console.warn("Warning: The `syncAuth` option is deprecated, please use `authToken` option instead."),s=n.syncAuth):n.authToken&&(s=n.authToken);const a=(n==null?void 0:n.encryptionKey)??"",o=(n==null?void 0:n.syncPeriod)??0,c=(n==null?void 0:n.readYourWrites)??!0,l=(n==null?void 0:n.offline)??!1,u=(n==null?void 0:n.remoteEncryptionKey)??"";this.db=dD(e,n.syncUrl,s,r,a,o,c,l,u)}else{const a=(n==null?void 0:n.authToken)??"",o=(n==null?void 0:n.encryptionKey)??"",c=(n==null?void 0:n.timeout)??0,l=(n==null?void 0:n.remoteEncryptionKey)??"";this.db=pD(e,a,r,o,c,l)}this.memory=e===":memory:",this.readonly=!1,this.name="",this.open=!0;const i=this.db;Object.defineProperties(this,{inTransaction:{get(){return fD(i)}}})}sync(){return yD.call(this.db)}syncUntil(e){return gD.call(this.db,e)}prepare(e){try{const n=bD.call(this.db,e);return new ID(n)}catch(n){throw si(n)}}transaction(e){if(typeof e!="function")throw new TypeError("Expected first argument to be a function");const n=this,r=i=>(...a)=>{n.exec("BEGIN "+i);try{const o=e(...a);return n.exec("COMMIT"),o}catch(o){throw n.exec("ROLLBACK"),o}},s={default:{value:r("")},deferred:{value:r("DEFERRED")},immediate:{value:r("IMMEDIATE")},exclusive:{value:r("EXCLUSIVE")},database:{value:this,enumerable:!0}};return Object.defineProperties(s.default.value,s),Object.defineProperties(s.deferred.value,s),Object.defineProperties(s.immediate.value,s),Object.defineProperties(s.exclusive.value,s),s.default.value}pragma(e,n){if(n==null&&(n={}),typeof e!="string")throw new TypeError("Expected first argument to be a string");if(typeof n!="object")throw new TypeError("Expected second argument to be an options object");const r=n.simple,s=this.prepare(`PRAGMA ${e}`,this,!0);return r?s.pluck().get():s.all()}backup(e,n){throw new Error("not implemented")}serialize(e){throw new Error("not implemented")}function(e,n,r){throw n==null&&(n={}),typeof n=="function"&&(r=n,n={}),typeof e!="string"?new TypeError("Expected first argument to be a string"):typeof r!="function"?new TypeError("Expected last argument to be a function"):typeof n!="object"?new TypeError("Expected second argument to be an options object"):e?new Error("not implemented"):new TypeError("User-defined function name cannot be an empty string")}aggregate(e,n){throw typeof e!="string"?new TypeError("Expected first argument to be a string"):typeof n!="object"||n===null?new TypeError("Expected second argument to be an options object"):e?new Error("not implemented"):new TypeError("User-defined function name cannot be an empty string")}table(e,n){throw typeof e!="string"?new TypeError("Expected first argument to be a string"):e?new Error("not implemented"):new TypeError("Virtual table module name cannot be an empty string")}authorizer(e){wD.call(this.db,e)}loadExtension(...e){_D.call(this.db,...e)}maxWriteReplicationIndex(){return $D.call(this.db)}exec(e){try{vD.call(this.db,e)}catch(n){throw si(n)}}interrupt(){hD.call(this.db)}close(){mD.call(this.db),this.open=!1}defaultSafeIntegers(e){return xD.call(this.db,e??!0),this}unsafeMode(...e){throw new Error("not implemented")}}class ID{constructor(e){this.stmt=e,this.pluckMode=!1}raw(e){return SD.call(this.stmt,e??!0),this}pluck(e){return this.pluckMode=e??!0,this}get reader(){return ED.call(this.stmt)}run(...e){try{return e.length==1&&typeof e[0]=="object"?Rg.call(this.stmt,e[0]):Rg.call(this.stmt,e.flat())}catch(n){throw si(n)}}get(...e){try{return e.length==1&&typeof e[0]=="object"?Eg.call(this.stmt,e[0]):Eg.call(this.stmt,e.flat())}catch(n){throw si(n)}}iterate(...e){var n=void 0;return e.length==1&&typeof e[0]=="object"?n=Tg.call(this.stmt,e[0]):n=Tg.call(this.stmt,e.flat()),{nextRows:Array(100),nextRowIndex:100,next(){try{this.nextRowIndex===100&&(CD.call(n,this.nextRows),this.nextRowIndex=0);const s=this.nextRows[this.nextRowIndex];return this.nextRows[this.nextRowIndex]=void 0,s?(this.nextRowIndex++,{value:s,done:!1}):{done:!0}}catch(s){throw si(s)}},[Symbol.iterator](){return this}}}all(...e){try{const n=[];for(const r of this.iterate(...e))this.pluckMode?n.push(r[Object.keys(r)[0]]):n.push(r);return n}catch(n){throw si(n)}}interrupt(){RD.call(this.stmt)}columns(){return TD.call(this.stmt)}safeIntegers(e){return OD.call(this.stmt,e??!0),this}}tu.exports=AD;tu.exports.Authorization=ND;tu.exports.SqliteError=wS;var PD=tu.exports;const Yc=nr(PD);function kD(t){if(t.scheme!=="file")throw new pe(`URL scheme ${JSON.stringify(t.scheme+":")} is not supported by the local sqlite3 client. For more information, please read ${Bi}`,"URL_SCHEME_NOT_SUPPORTED");const e=t.authority;if(e!==void 0){const a=e.host.toLowerCase();if(a!==""&&a!=="localhost")throw new pe(`Invalid host in file URL: ${JSON.stringify(e.host)}. A "file:" URL with an absolute path should start with one slash ("file:/absolute/path.db") or with three slashes ("file:///absolute/path.db"). For more information, please read ${Bi}`,"URL_INVALID");if(e.port!==void 0)throw new pe("File URL cannot have a port","URL_INVALID");if(e.userinfo!==void 0)throw new pe("File URL cannot have username and password","URL_INVALID")}let n=RB(t);if(n&&t.syncUrl)throw new pe(`Embedded replica must use file for local db but URI with in-memory mode were provided instead: ${t.path}`,"URL_INVALID");let r=t.path;n&&(r=`${t.scheme}:${t.path}`);const s={authToken:t.authToken,encryptionKey:t.encryptionKey,syncUrl:t.syncUrl,syncPeriod:t.syncInterval,readYourWrites:t.readYourWrites,offline:t.offline},i=new Yc(r,s);return Le(i,"SELECT 1 AS checkThatTheDatabaseCanBeOpened",t.intMode),new jD(r,s,i,t.intMode)}var mi,yi,bt,De,ft,Js,Vr;class jD{constructor(e,n,r,s){j(this,ft);j(this,mi);j(this,yi);j(this,bt);j(this,De);v(this,"closed");v(this,"protocol");E(this,mi,e),E(this,yi,n),E(this,bt,r),E(this,De,s),this.closed=!1,this.protocol="file"}async execute(e,n){let r;return typeof e=="string"?r={sql:e,args:n||[]}:r=e,P(this,ft,Js).call(this),Le(P(this,ft,Vr).call(this),r,d(this,De))}async batch(e,n="deferred"){P(this,ft,Js).call(this);const r=P(this,ft,Vr).call(this);try{Le(r,di(n),d(this,De));const s=e.map(i=>{if(!r.inTransaction)throw new pe("The transaction has been rolled back","TRANSACTION_CLOSED");const a=Array.isArray(i)?{sql:i[0],args:i[1]||[]}:i;return Le(r,a,d(this,De))});return Le(r,"COMMIT",d(this,De)),s}finally{r.inTransaction&&Le(r,"ROLLBACK",d(this,De))}}async migrate(e){P(this,ft,Js).call(this);const n=P(this,ft,Vr).call(this);try{Le(n,"PRAGMA foreign_keys=off",d(this,De)),Le(n,di("deferred"),d(this,De));const r=e.map(s=>{if(!n.inTransaction)throw new pe("The transaction has been rolled back","TRANSACTION_CLOSED");return Le(n,s,d(this,De))});return Le(n,"COMMIT",d(this,De)),r}finally{n.inTransaction&&Le(n,"ROLLBACK",d(this,De)),Le(n,"PRAGMA foreign_keys=on",d(this,De))}}async transaction(e="write"){const n=P(this,ft,Vr).call(this);return Le(n,di(e),d(this,De)),E(this,bt,null),new LD(n,d(this,De))}async executeMultiple(e){P(this,ft,Js).call(this);const n=P(this,ft,Vr).call(this);try{return _S(n,e)}finally{n.inTransaction&&Le(n,"ROLLBACK",d(this,De))}}async sync(){P(this,ft,Js).call(this);const e=await P(this,ft,Vr).call(this).sync();return{frames_synced:e.frames_synced,frame_no:e.frame_no}}async reconnect(){try{!this.closed&&d(this,bt)!==null&&d(this,bt).close()}finally{E(this,bt,new Yc(d(this,mi),d(this,yi))),this.closed=!1}}close(){this.closed=!0,d(this,bt)!==null&&(d(this,bt).close(),E(this,bt,null))}}mi=new WeakMap,yi=new WeakMap,bt=new WeakMap,De=new WeakMap,ft=new WeakSet,Js=function(){if(this.closed)throw new pe("The client is closed","CLIENT_CLOSED")},Vr=function(){return d(this,bt)===null&&E(this,bt,new Yc(d(this,mi),d(this,yi))),d(this,bt)};var It,Pn,br,Ys;class LD{constructor(e,n){j(this,br);j(this,It);j(this,Pn);E(this,It,e),E(this,Pn,n)}async execute(e,n){let r;return typeof e=="string"?r={sql:e,args:n||[]}:r=e,P(this,br,Ys).call(this),Le(d(this,It),r,d(this,Pn))}async batch(e){return e.map(n=>{P(this,br,Ys).call(this);const r=Array.isArray(n)?{sql:n[0],args:n[1]||[]}:n;return Le(d(this,It),r,d(this,Pn))})}async executeMultiple(e){return P(this,br,Ys).call(this),_S(d(this,It),e)}async rollback(){d(this,It).open&&(P(this,br,Ys).call(this),Le(d(this,It),"ROLLBACK",d(this,Pn)))}async commit(){P(this,br,Ys).call(this),Le(d(this,It),"COMMIT",d(this,Pn))}close(){d(this,It).inTransaction&&Le(d(this,It),"ROLLBACK",d(this,Pn))}get closed(){return!d(this,It).inTransaction}}It=new WeakMap,Pn=new WeakMap,br=new WeakSet,Ys=function(){if(this.closed)throw new pe("The transaction is closed","TRANSACTION_CLOSED")};function Le(t,e,n){let r,s;if(typeof e=="string")r=e,s=[];else if(r=e.sql,Array.isArray(e.args))s=e.args.map(i=>Og(i,n));else{s={};for(const i in e.args){const a=i[0]==="@"||i[0]==="$"||i[0]===":"?i.substring(1):i;s[a]=Og(e.args[i],n)}}try{const i=t.prepare(r);i.safeIntegers(!0);let a=!0;try{i.raw(!0)}catch{a=!1}if(a){const o=Array.from(i.columns().map(h=>h.name)),c=Array.from(i.columns().map(h=>h.type??"")),l=i.all(s).map(h=>qD(h,o,n)),u=0,p=void 0;return new Sd(o,c,l,u,p)}else{const o=i.run(s),c=o.changes,l=BigInt(o.lastInsertRowid);return new Sd([],[],[],c,l)}}catch(i){throw $S(i)}}function qD(t,e,n){const r={};Object.defineProperty(r,"length",{value:t.length});for(let s=0;s<t.length;++s){const i=MD(t[s],n);Object.defineProperty(r,s,{value:i});const a=e[s];Object.hasOwn(r,a)||Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0})}return r}function MD(t,e){if(typeof t=="bigint")if(e==="number"){if(t<FD||t>UD)throw new RangeError("Received integer which cannot be safely represented as a JavaScript number");return Number(t)}else{if(e==="bigint")return t;if(e==="string")return""+t;throw new Error("Invalid value for IntMode")}else if(t instanceof Rw.Buffer)return t.buffer;return t}const FD=-9007199254740991n,UD=9007199254740991n;function Og(t,e){if(typeof t=="number"){if(!Number.isFinite(t))throw new RangeError("Only finite numbers (not Infinity or NaN) can be passed as arguments");return t}else if(typeof t=="bigint"){if(t<BD||t>DD)throw new RangeError("bigint is too large to be represented as a 64-bit integer and passed as argument");return t}else if(typeof t=="boolean")switch(e){case"bigint":return t?1n:0n;case"string":return t?"1":"0";default:return t?1:0}else{if(t instanceof ArrayBuffer)return Rw.Buffer.from(t);if(t instanceof Date)return t.valueOf();if(t===void 0)throw new TypeError("undefined cannot be passed as argument to the database");return t}}const BD=-9223372036854775808n,DD=9223372036854775807n;function _S(t,e){try{t.exec(e)}catch(n){throw $S(n)}}function $S(t){return t instanceof Yc.SqliteError?new pe(t.message,t.code,t.rawCode,t):t}var Xc={exports:{}};const SS=["nodebuffer","arraybuffer","fragments"],ES=typeof Blob<"u";ES&&SS.push("blob");var Fr={BINARY_TYPES:SS,EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",hasBlob:ES,kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}};throw new Error('Could not resolve "bufferutil" imported by "ws". Is it installed?');const zD=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),VD=Tw(zD);var GD,HD;const{EMPTY_BUFFER:QD}=Fr,Rd=Buffer[Symbol.species];function WD(t,e){if(t.length===0)return QD;if(t.length===1)return t[0];const n=Buffer.allocUnsafe(e);let r=0;for(let s=0;s<t.length;s++){const i=t[s];n.set(i,r),r+=i.length}return r<e?new Rd(n.buffer,n.byteOffset,r):n}function RS(t,e,n,r,s){for(let i=0;i<s;i++)n[r+i]=t[i]^e[i&3]}function TS(t,e){for(let n=0;n<t.length;n++)t[n]^=e[n&3]}function KD(t){return t.length===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.length)}function Td(t){if(Td.readOnly=!0,Buffer.isBuffer(t))return t;let e;return t instanceof ArrayBuffer?e=new Rd(t):ArrayBuffer.isView(t)?e=new Rd(t.buffer,t.byteOffset,t.byteLength):(e=Buffer.from(t),Td.readOnly=!1),e}Xc.exports={concat:WD,mask:RS,toArrayBuffer:KD,toBuffer:Td,unmask:TS};if(!process.env.WS_NO_BUFFER_UTIL)try{const t=VD;HD=Xc.exports.mask=function(e,n,r,s,i){i<48?RS(e,n,r,s,i):t.mask(e,n,r,s,i)},GD=Xc.exports.unmask=function(e,n){e.length<32?TS(e,n):t.unmask(e,n)}}catch{}var nu=Xc.exports;const Cg=Symbol("kDone"),Rp=Symbol("kRun");let JD=class{constructor(e){this[Cg]=()=>{this.pending--,this[Rp]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[Rp]()}[Rp](){if(this.pending!==this.concurrency&&this.jobs.length){const e=this.jobs.shift();this.pending++,e(this[Cg])}}};var YD=JD;const ga=Wn,Ng=nu,XD=YD,{kStatusCode:OS}=Fr,ZD=Buffer[Symbol.species],e3=Buffer.from([0,0,255,255]),Zc=Symbol("permessage-deflate"),In=Symbol("total-length"),ii=Symbol("callback"),mr=Symbol("buffers"),fi=Symbol("error");let ic,t3=class{constructor(e,n,r){if(this._maxPayload=r|0,this._options=e||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!n,this._deflate=null,this._inflate=null,this.params=null,!ic){const s=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;ic=new XD(s)}}static get extensionName(){return"permessage-deflate"}offer(){const e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){const e=this._deflate[ii];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){const n=this._options,r=e.find(s=>!(n.serverNoContextTakeover===!1&&s.server_no_context_takeover||s.server_max_window_bits&&(n.serverMaxWindowBits===!1||typeof n.serverMaxWindowBits=="number"&&n.serverMaxWindowBits>s.server_max_window_bits)||typeof n.clientMaxWindowBits=="number"&&!s.client_max_window_bits));if(!r)throw new Error("None of the extension offers can be accepted");return n.serverNoContextTakeover&&(r.server_no_context_takeover=!0),n.clientNoContextTakeover&&(r.client_no_context_takeover=!0),typeof n.serverMaxWindowBits=="number"&&(r.server_max_window_bits=n.serverMaxWindowBits),typeof n.clientMaxWindowBits=="number"?r.client_max_window_bits=n.clientMaxWindowBits:(r.client_max_window_bits===!0||n.clientMaxWindowBits===!1)&&delete r.client_max_window_bits,r}acceptAsClient(e){const n=e[0];if(this._options.clientNoContextTakeover===!1&&n.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!n.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(n.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&n.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return n}normalizeParams(e){return e.forEach(n=>{Object.keys(n).forEach(r=>{let s=n[r];if(s.length>1)throw new Error(`Parameter "${r}" must have only a single value`);if(s=s[0],r==="client_max_window_bits"){if(s!==!0){const i=+s;if(!Number.isInteger(i)||i<8||i>15)throw new TypeError(`Invalid value for parameter "${r}": ${s}`);s=i}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${r}": ${s}`)}else if(r==="server_max_window_bits"){const i=+s;if(!Number.isInteger(i)||i<8||i>15)throw new TypeError(`Invalid value for parameter "${r}": ${s}`);s=i}else if(r==="client_no_context_takeover"||r==="server_no_context_takeover"){if(s!==!0)throw new TypeError(`Invalid value for parameter "${r}": ${s}`)}else throw new Error(`Unknown parameter "${r}"`);n[r]=s})}),e}decompress(e,n,r){ic.add(s=>{this._decompress(e,n,(i,a)=>{s(),r(i,a)})})}compress(e,n,r){ic.add(s=>{this._compress(e,n,(i,a)=>{s(),r(i,a)})})}_decompress(e,n,r){const s=this._isServer?"client":"server";if(!this._inflate){const i=`${s}_max_window_bits`,a=typeof this.params[i]!="number"?ga.Z_DEFAULT_WINDOWBITS:this.params[i];this._inflate=ga.createInflateRaw({...this._options.zlibInflateOptions,windowBits:a}),this._inflate[Zc]=this,this._inflate[In]=0,this._inflate[mr]=[],this._inflate.on("error",r3),this._inflate.on("data",CS)}this._inflate[ii]=r,this._inflate.write(e),n&&this._inflate.write(e3),this._inflate.flush(()=>{const i=this._inflate[fi];if(i){this._inflate.close(),this._inflate=null,r(i);return}const a=Ng.concat(this._inflate[mr],this._inflate[In]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[In]=0,this._inflate[mr]=[],n&&this.params[`${s}_no_context_takeover`]&&this._inflate.reset()),r(null,a)})}_compress(e,n,r){const s=this._isServer?"server":"client";if(!this._deflate){const i=`${s}_max_window_bits`,a=typeof this.params[i]!="number"?ga.Z_DEFAULT_WINDOWBITS:this.params[i];this._deflate=ga.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:a}),this._deflate[In]=0,this._deflate[mr]=[],this._deflate.on("data",n3)}this._deflate[ii]=r,this._deflate.write(e),this._deflate.flush(ga.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let i=Ng.concat(this._deflate[mr],this._deflate[In]);n&&(i=new ZD(i.buffer,i.byteOffset,i.length-4)),this._deflate[ii]=null,this._deflate[In]=0,this._deflate[mr]=[],n&&this.params[`${s}_no_context_takeover`]&&this._deflate.reset(),r(null,i)})}};var jh=t3;function n3(t){this[mr].push(t),this[In]+=t.length}function CS(t){if(this[In]+=t.length,this[Zc]._maxPayload<1||this[In]<=this[Zc]._maxPayload){this[mr].push(t);return}this[fi]=new RangeError("Max payload size exceeded"),this[fi].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[fi][OS]=1009,this.removeListener("data",CS),this.reset()}function r3(t){if(this[Zc]._inflate=null,this[fi]){this[ii](this[fi]);return}t[OS]=1007,this[ii](t)}var el={exports:{}};throw new Error('Could not resolve "utf-8-validate" imported by "ws". Is it installed?');const s3=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),i3=Tw(s3);var Ag;const{isUtf8:Ig}=JE,{hasBlob:a3}=Fr,o3=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function c3(t){return t>=1e3&&t<=1014&&t!==1004&&t!==1005&&t!==1006||t>=3e3&&t<=4999}function Od(t){const e=t.length;let n=0;for(;n<e;)if(!(t[n]&128))n++;else if((t[n]&224)===192){if(n+1===e||(t[n+1]&192)!==128||(t[n]&254)===192)return!1;n+=2}else if((t[n]&240)===224){if(n+2>=e||(t[n+1]&192)!==128||(t[n+2]&192)!==128||t[n]===224&&(t[n+1]&224)===128||t[n]===237&&(t[n+1]&224)===160)return!1;n+=3}else if((t[n]&248)===240){if(n+3>=e||(t[n+1]&192)!==128||(t[n+2]&192)!==128||(t[n+3]&192)!==128||t[n]===240&&(t[n+1]&240)===128||t[n]===244&&t[n+1]>143||t[n]>244)return!1;n+=4}else return!1;return!0}function l3(t){return a3&&typeof t=="object"&&typeof t.arrayBuffer=="function"&&typeof t.type=="string"&&typeof t.stream=="function"&&(t[Symbol.toStringTag]==="Blob"||t[Symbol.toStringTag]==="File")}el.exports={isBlob:l3,isValidStatusCode:c3,isValidUTF8:Od,tokenChars:o3};if(Ig)Ag=el.exports.isValidUTF8=function(t){return t.length<24?Od(t):Ig(t)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{const t=i3;Ag=el.exports.isValidUTF8=function(e){return e.length<32?Od(e):t(e)}}catch{}var Eo=el.exports;const{Writable:u3}=Me,Pg=jh,{BINARY_TYPES:p3,EMPTY_BUFFER:kg,kStatusCode:d3,kWebSocket:f3}=Fr,{concat:Tp,toArrayBuffer:h3,unmask:m3}=nu,{isValidStatusCode:y3,isValidUTF8:jg}=Eo,ac=Buffer[Symbol.species],Bt=0,Lg=1,qg=2,Mg=3,Op=4,Cp=5,oc=6;let g3=class extends u3{constructor(e={}){super(),this._allowSynchronousEvents=e.allowSynchronousEvents!==void 0?e.allowSynchronousEvents:!0,this._binaryType=e.binaryType||p3[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=e.maxPayload|0,this._skipUTF8Validation=!!e.skipUTF8Validation,this[f3]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=Bt}_write(e,n,r){if(this._opcode===8&&this._state==Bt)return r();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(r)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){const r=this._buffers[0];return this._buffers[0]=new ac(r.buffer,r.byteOffset+e,r.length-e),new ac(r.buffer,r.byteOffset,e)}const n=Buffer.allocUnsafe(e);do{const r=this._buffers[0],s=n.length-e;e>=r.length?n.set(this._buffers.shift(),s):(n.set(new Uint8Array(r.buffer,r.byteOffset,e),s),this._buffers[0]=new ac(r.buffer,r.byteOffset+e,r.length-e)),e-=r.length}while(e>0);return n}startLoop(e){this._loop=!0;do switch(this._state){case Bt:this.getInfo(e);break;case Lg:this.getPayloadLength16(e);break;case qg:this.getPayloadLength64(e);break;case Mg:this.getMask();break;case Op:this.getData(e);break;case Cp:case oc:this._loop=!1;return}while(this._loop);this._errored||e()}getInfo(e){if(this._bufferedBytes<2){this._loop=!1;return}const n=this.consume(2);if(n[0]&48){const s=this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");e(s);return}const r=(n[0]&64)===64;if(r&&!this._extensions[Pg.extensionName]){const s=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(s);return}if(this._fin=(n[0]&128)===128,this._opcode=n[0]&15,this._payloadLength=n[1]&127,this._opcode===0){if(r){const s=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(s);return}if(!this._fragmented){const s=this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");e(s);return}this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented){const s=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");e(s);return}this._compressed=r}else if(this._opcode>7&&this._opcode<11){if(!this._fin){const s=this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");e(s);return}if(r){const s=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(s);return}if(this._payloadLength>125||this._opcode===8&&this._payloadLength===1){const s=this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");e(s);return}}else{const s=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");e(s);return}if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(n[1]&128)===128,this._isServer){if(!this._masked){const s=this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK");e(s);return}}else if(this._masked){const s=this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");e(s);return}this._payloadLength===126?this._state=Lg:this._payloadLength===127?this._state=qg:this.haveLength(e)}getPayloadLength16(e){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(e)}getPayloadLength64(e){if(this._bufferedBytes<8){this._loop=!1;return}const n=this.consume(8),r=n.readUInt32BE(0);if(r>Math.pow(2,21)-1){const s=this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH");e(s);return}this._payloadLength=r*Math.pow(2,32)+n.readUInt32BE(4),this.haveLength(e)}haveLength(e){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)){const n=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");e(n);return}this._masked?this._state=Mg:this._state=Op}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=Op}getData(e){let n=kg;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}n=this.consume(this._payloadLength),this._masked&&this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3]&&m3(n,this._mask)}if(this._opcode>7){this.controlMessage(n,e);return}if(this._compressed){this._state=Cp,this.decompress(n,e);return}n.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(n)),this.dataMessage(e)}decompress(e,n){this._extensions[Pg.extensionName].decompress(e,this._fin,(s,i)=>{if(s)return n(s);if(i.length){if(this._messageLength+=i.length,this._messageLength>this._maxPayload&&this._maxPayload>0){const a=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");n(a);return}this._fragments.push(i)}this.dataMessage(n),this._state===Bt&&this.startLoop(n)})}dataMessage(e){if(!this._fin){this._state=Bt;return}const n=this._messageLength,r=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let s;this._binaryType==="nodebuffer"?s=Tp(r,n):this._binaryType==="arraybuffer"?s=h3(Tp(r,n)):this._binaryType==="blob"?s=new Blob(r):s=r,this._allowSynchronousEvents?(this.emit("message",s,!0),this._state=Bt):(this._state=oc,setImmediate(()=>{this.emit("message",s,!0),this._state=Bt,this.startLoop(e)}))}else{const s=Tp(r,n);if(!this._skipUTF8Validation&&!jg(s)){const i=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");e(i);return}this._state===Cp||this._allowSynchronousEvents?(this.emit("message",s,!1),this._state=Bt):(this._state=oc,setImmediate(()=>{this.emit("message",s,!1),this._state=Bt,this.startLoop(e)}))}}controlMessage(e,n){if(this._opcode===8){if(e.length===0)this._loop=!1,this.emit("conclude",1005,kg),this.end();else{const r=e.readUInt16BE(0);if(!y3(r)){const i=this.createError(RangeError,`invalid status code ${r}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");n(i);return}const s=new ac(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!jg(s)){const i=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");n(i);return}this._loop=!1,this.emit("conclude",r,s),this.end()}this._state=Bt;return}this._allowSynchronousEvents?(this.emit(this._opcode===9?"ping":"pong",e),this._state=Bt):(this._state=oc,setImmediate(()=>{this.emit(this._opcode===9?"ping":"pong",e),this._state=Bt,this.startLoop(n)}))}createError(e,n,r,s,i){this._loop=!1,this._errored=!0;const a=new e(r?`Invalid WebSocket frame: ${n}`:n);return Error.captureStackTrace(a,this.createError),a.code=i,a[d3]=s,a}};var v3=g3;const{Duplex:V6}=Me,{randomFillSync:b3}=uo,Fg=jh,{EMPTY_BUFFER:x3,kWebSocket:w3,NOOP:_3}=Fr,{isBlob:Vs,isValidStatusCode:$3}=Eo,{mask:Ug,toBuffer:Dr}=nu,Dt=Symbol("kByteLength"),S3=Buffer.alloc(4),Sc=8*1024;let zr,Gs=Sc;const Jt=0,E3=1,R3=2;let T3=class Gr{constructor(e,n,r){this._extensions=n||{},r&&(this._generateMask=r,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._queue=[],this._state=Jt,this.onerror=_3,this[w3]=void 0}static frame(e,n){let r,s=!1,i=2,a=!1;n.mask&&(r=n.maskBuffer||S3,n.generateMask?n.generateMask(r):(Gs===Sc&&(zr===void 0&&(zr=Buffer.alloc(Sc)),b3(zr,0,Sc),Gs=0),r[0]=zr[Gs++],r[1]=zr[Gs++],r[2]=zr[Gs++],r[3]=zr[Gs++]),a=(r[0]|r[1]|r[2]|r[3])===0,i=6);let o;typeof e=="string"?(!n.mask||a)&&n[Dt]!==void 0?o=n[Dt]:(e=Buffer.from(e),o=e.length):(o=e.length,s=n.mask&&n.readOnly&&!a);let c=o;o>=65536?(i+=8,c=127):o>125&&(i+=2,c=126);const l=Buffer.allocUnsafe(s?o+i:i);return l[0]=n.fin?n.opcode|128:n.opcode,n.rsv1&&(l[0]|=64),l[1]=c,c===126?l.writeUInt16BE(o,2):c===127&&(l[2]=l[3]=0,l.writeUIntBE(o,4,6)),n.mask?(l[1]|=128,l[i-4]=r[0],l[i-3]=r[1],l[i-2]=r[2],l[i-1]=r[3],a?[l,e]:s?(Ug(e,r,l,i,o),[l]):(Ug(e,r,e,0,o),[l,e])):[l,e]}close(e,n,r,s){let i;if(e===void 0)i=x3;else{if(typeof e!="number"||!$3(e))throw new TypeError("First argument must be a valid error code number");if(n===void 0||!n.length)i=Buffer.allocUnsafe(2),i.writeUInt16BE(e,0);else{const o=Buffer.byteLength(n);if(o>123)throw new RangeError("The message must not be greater than 123 bytes");i=Buffer.allocUnsafe(2+o),i.writeUInt16BE(e,0),typeof n=="string"?i.write(n,2):i.set(n,2)}}const a={[Dt]:i.length,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._state!==Jt?this.enqueue([this.dispatch,i,!1,a,s]):this.sendFrame(Gr.frame(i,a),s)}ping(e,n,r){let s,i;if(typeof e=="string"?(s=Buffer.byteLength(e),i=!1):Vs(e)?(s=e.size,i=!1):(e=Dr(e),s=e.length,i=Dr.readOnly),s>125)throw new RangeError("The data size must not be greater than 125 bytes");const a={[Dt]:s,fin:!0,generateMask:this._generateMask,mask:n,maskBuffer:this._maskBuffer,opcode:9,readOnly:i,rsv1:!1};Vs(e)?this._state!==Jt?this.enqueue([this.getBlobData,e,!1,a,r]):this.getBlobData(e,!1,a,r):this._state!==Jt?this.enqueue([this.dispatch,e,!1,a,r]):this.sendFrame(Gr.frame(e,a),r)}pong(e,n,r){let s,i;if(typeof e=="string"?(s=Buffer.byteLength(e),i=!1):Vs(e)?(s=e.size,i=!1):(e=Dr(e),s=e.length,i=Dr.readOnly),s>125)throw new RangeError("The data size must not be greater than 125 bytes");const a={[Dt]:s,fin:!0,generateMask:this._generateMask,mask:n,maskBuffer:this._maskBuffer,opcode:10,readOnly:i,rsv1:!1};Vs(e)?this._state!==Jt?this.enqueue([this.getBlobData,e,!1,a,r]):this.getBlobData(e,!1,a,r):this._state!==Jt?this.enqueue([this.dispatch,e,!1,a,r]):this.sendFrame(Gr.frame(e,a),r)}send(e,n,r){const s=this._extensions[Fg.extensionName];let i=n.binary?2:1,a=n.compress,o,c;typeof e=="string"?(o=Buffer.byteLength(e),c=!1):Vs(e)?(o=e.size,c=!1):(e=Dr(e),o=e.length,c=Dr.readOnly),this._firstFragment?(this._firstFragment=!1,a&&s&&s.params[s._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(a=o>=s._threshold),this._compress=a):(a=!1,i=0),n.fin&&(this._firstFragment=!0);const l={[Dt]:o,fin:n.fin,generateMask:this._generateMask,mask:n.mask,maskBuffer:this._maskBuffer,opcode:i,readOnly:c,rsv1:a};Vs(e)?this._state!==Jt?this.enqueue([this.getBlobData,e,this._compress,l,r]):this.getBlobData(e,this._compress,l,r):this._state!==Jt?this.enqueue([this.dispatch,e,this._compress,l,r]):this.dispatch(e,this._compress,l,r)}getBlobData(e,n,r,s){this._bufferedBytes+=r[Dt],this._state=R3,e.arrayBuffer().then(i=>{if(this._socket.destroyed){const o=new Error("The socket was closed while the blob was being read");process.nextTick(Cd,this,o,s);return}this._bufferedBytes-=r[Dt];const a=Dr(i);n?this.dispatch(a,n,r,s):(this._state=Jt,this.sendFrame(Gr.frame(a,r),s),this.dequeue())}).catch(i=>{process.nextTick(C3,this,i,s)})}dispatch(e,n,r,s){if(!n){this.sendFrame(Gr.frame(e,r),s);return}const i=this._extensions[Fg.extensionName];this._bufferedBytes+=r[Dt],this._state=E3,i.compress(e,r.fin,(a,o)=>{if(this._socket.destroyed){const c=new Error("The socket was closed while data was being compressed");Cd(this,c,s);return}this._bufferedBytes-=r[Dt],this._state=Jt,r.readOnly=!1,this.sendFrame(Gr.frame(o,r),s),this.dequeue()})}dequeue(){for(;this._state===Jt&&this._queue.length;){const e=this._queue.shift();this._bufferedBytes-=e[3][Dt],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][Dt],this._queue.push(e)}sendFrame(e,n){e.length===2?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],n),this._socket.uncork()):this._socket.write(e[0],n)}};var O3=T3;function Cd(t,e,n){typeof n=="function"&&n(e);for(let r=0;r<t._queue.length;r++){const s=t._queue[r],i=s[s.length-1];typeof i=="function"&&i(e)}}function C3(t,e,n){Cd(t,e,n),t.onerror(e)}const{kForOnEventAttribute:va,kListener:Np}=Fr,Bg=Symbol("kCode"),Dg=Symbol("kData"),zg=Symbol("kError"),Vg=Symbol("kMessage"),Gg=Symbol("kReason"),ai=Symbol("kTarget"),Hg=Symbol("kType"),Qg=Symbol("kWasClean");let sa=class{constructor(e){this[ai]=null,this[Hg]=e}get target(){return this[ai]}get type(){return this[Hg]}};Object.defineProperty(sa.prototype,"target",{enumerable:!0});Object.defineProperty(sa.prototype,"type",{enumerable:!0});class ru extends sa{constructor(e,n={}){super(e),this[Bg]=n.code===void 0?0:n.code,this[Gg]=n.reason===void 0?"":n.reason,this[Qg]=n.wasClean===void 0?!1:n.wasClean}get code(){return this[Bg]}get reason(){return this[Gg]}get wasClean(){return this[Qg]}}Object.defineProperty(ru.prototype,"code",{enumerable:!0});Object.defineProperty(ru.prototype,"reason",{enumerable:!0});Object.defineProperty(ru.prototype,"wasClean",{enumerable:!0});class Lh extends sa{constructor(e,n={}){super(e),this[zg]=n.error===void 0?null:n.error,this[Vg]=n.message===void 0?"":n.message}get error(){return this[zg]}get message(){return this[Vg]}}Object.defineProperty(Lh.prototype,"error",{enumerable:!0});Object.defineProperty(Lh.prototype,"message",{enumerable:!0});class NS extends sa{constructor(e,n={}){super(e),this[Dg]=n.data===void 0?null:n.data}get data(){return this[Dg]}}Object.defineProperty(NS.prototype,"data",{enumerable:!0});const N3={addEventListener(t,e,n={}){for(const s of this.listeners(t))if(!n[va]&&s[Np]===e&&!s[va])return;let r;if(t==="message")r=function(i,a){const o=new NS("message",{data:a?i:i.toString()});o[ai]=this,cc(e,this,o)};else if(t==="close")r=function(i,a){const o=new ru("close",{code:i,reason:a.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});o[ai]=this,cc(e,this,o)};else if(t==="error")r=function(i){const a=new Lh("error",{error:i,message:i.message});a[ai]=this,cc(e,this,a)};else if(t==="open")r=function(){const i=new sa("open");i[ai]=this,cc(e,this,i)};else return;r[va]=!!n[va],r[Np]=e,n.once?this.once(t,r):this.on(t,r)},removeEventListener(t,e){for(const n of this.listeners(t))if(n[Np]===e&&!n[va]){this.removeListener(t,n);break}}};var A3={EventTarget:N3};function cc(t,e,n){typeof t=="object"&&t.handleEvent?t.handleEvent.call(t,n):t.call(e,n)}const{tokenChars:ba}=Eo;function mn(t,e,n){t[e]===void 0?t[e]=[n]:t[e].push(n)}function I3(t){const e=Object.create(null);let n=Object.create(null),r=!1,s=!1,i=!1,a,o,c=-1,l=-1,u=-1,p=0;for(;p<t.length;p++)if(l=t.charCodeAt(p),a===void 0)if(u===-1&&ba[l]===1)c===-1&&(c=p);else if(p!==0&&(l===32||l===9))u===-1&&c!==-1&&(u=p);else if(l===59||l===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${p}`);u===-1&&(u=p);const y=t.slice(c,u);l===44?(mn(e,y,n),n=Object.create(null)):a=y,c=u=-1}else throw new SyntaxError(`Unexpected character at index ${p}`);else if(o===void 0)if(u===-1&&ba[l]===1)c===-1&&(c=p);else if(l===32||l===9)u===-1&&c!==-1&&(u=p);else if(l===59||l===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${p}`);u===-1&&(u=p),mn(n,t.slice(c,u),!0),l===44&&(mn(e,a,n),n=Object.create(null),a=void 0),c=u=-1}else if(l===61&&c!==-1&&u===-1)o=t.slice(c,p),c=u=-1;else throw new SyntaxError(`Unexpected character at index ${p}`);else if(s){if(ba[l]!==1)throw new SyntaxError(`Unexpected character at index ${p}`);c===-1?c=p:r||(r=!0),s=!1}else if(i)if(ba[l]===1)c===-1&&(c=p);else if(l===34&&c!==-1)i=!1,u=p;else if(l===92)s=!0;else throw new SyntaxError(`Unexpected character at index ${p}`);else if(l===34&&t.charCodeAt(p-1)===61)i=!0;else if(u===-1&&ba[l]===1)c===-1&&(c=p);else if(c!==-1&&(l===32||l===9))u===-1&&(u=p);else if(l===59||l===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${p}`);u===-1&&(u=p);let y=t.slice(c,u);r&&(y=y.replace(/\\/g,""),r=!1),mn(n,o,y),l===44&&(mn(e,a,n),n=Object.create(null),a=void 0),o=void 0,c=u=-1}else throw new SyntaxError(`Unexpected character at index ${p}`);if(c===-1||i||l===32||l===9)throw new SyntaxError("Unexpected end of input");u===-1&&(u=p);const h=t.slice(c,u);return a===void 0?mn(e,h,n):(o===void 0?mn(n,h,!0):r?mn(n,o,h.replace(/\\/g,"")):mn(n,o,h),mn(e,a,n)),e}function P3(t){return Object.keys(t).map(e=>{let n=t[e];return Array.isArray(n)||(n=[n]),n.map(r=>[e].concat(Object.keys(r).map(s=>{let i=r[s];return Array.isArray(i)||(i=[i]),i.map(a=>a===!0?s:`${s}=${a}`).join("; ")})).join("; ")).join(", ")}).join(", ")}var k3={format:P3,parse:I3};const j3=Yd,L3=wl,q3=xl,AS=Ew,M3=KE,{randomBytes:F3,createHash:U3}=uo,{Duplex:H6,Readable:Q6}=Me,{URL:Ap}=Ki,gr=jh,B3=v3,D3=O3,{isBlob:z3}=Eo,{BINARY_TYPES:Wg,EMPTY_BUFFER:lc,GUID:V3,kForOnEventAttribute:Ip,kListener:G3,kStatusCode:H3,kWebSocket:We,NOOP:IS}=Fr,{EventTarget:{addEventListener:Q3,removeEventListener:W3}}=A3,{format:K3,parse:J3}=k3,{toBuffer:Y3}=nu,X3=30*1e3,PS=Symbol("kAborted"),Pp=[8,13],rr=["CONNECTING","OPEN","CLOSING","CLOSED"],Z3=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/;class ae extends j3{constructor(e,n,r){super(),this._binaryType=Wg[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=lc,this._closeTimer=null,this._errorEmitted=!1,this._extensions={},this._paused=!1,this._protocol="",this._readyState=ae.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,e!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,n===void 0?n=[]:Array.isArray(n)||(typeof n=="object"&&n!==null?(r=n,n=[]):n=[n]),kS(this,e,n,r)):(this._autoPong=r.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(e){Wg.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,n,r){const s=new B3({allowSynchronousEvents:r.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:r.maxPayload,skipUTF8Validation:r.skipUTF8Validation}),i=new D3(e,this._extensions,r.generateMask);this._receiver=s,this._sender=i,this._socket=e,s[We]=this,i[We]=this,e[We]=this,s.on("conclude",rz),s.on("drain",sz),s.on("error",iz),s.on("message",az),s.on("ping",oz),s.on("pong",cz),i.onerror=lz,e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),n.length>0&&e.unshift(n),e.on("close",qS),e.on("data",su),e.on("end",MS),e.on("error",FS),this._readyState=ae.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=ae.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[gr.extensionName]&&this._extensions[gr.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=ae.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,n){if(this.readyState!==ae.CLOSED){if(this.readyState===ae.CONNECTING){At(this,this._req,"WebSocket was closed before the connection was established");return}if(this.readyState===ae.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=ae.CLOSING,this._sender.close(e,n,!this._isServer,r=>{r||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),LS(this)}}pause(){this.readyState===ae.CONNECTING||this.readyState===ae.CLOSED||(this._paused=!0,this._socket.pause())}ping(e,n,r){if(this.readyState===ae.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(r=e,e=n=void 0):typeof n=="function"&&(r=n,n=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==ae.OPEN){kp(this,e,r);return}n===void 0&&(n=!this._isServer),this._sender.ping(e||lc,n,r)}pong(e,n,r){if(this.readyState===ae.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(r=e,e=n=void 0):typeof n=="function"&&(r=n,n=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==ae.OPEN){kp(this,e,r);return}n===void 0&&(n=!this._isServer),this._sender.pong(e||lc,n,r)}resume(){this.readyState===ae.CONNECTING||this.readyState===ae.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,n,r){if(this.readyState===ae.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof n=="function"&&(r=n,n={}),typeof e=="number"&&(e=e.toString()),this.readyState!==ae.OPEN){kp(this,e,r);return}const s={binary:typeof e!="string",mask:!this._isServer,compress:!0,fin:!0,...n};this._extensions[gr.extensionName]||(s.compress=!1),this._sender.send(e||lc,s,r)}terminate(){if(this.readyState!==ae.CLOSED){if(this.readyState===ae.CONNECTING){At(this,this._req,"WebSocket was closed before the connection was established");return}this._socket&&(this._readyState=ae.CLOSING,this._socket.destroy())}}}Object.defineProperty(ae,"CONNECTING",{enumerable:!0,value:rr.indexOf("CONNECTING")});Object.defineProperty(ae.prototype,"CONNECTING",{enumerable:!0,value:rr.indexOf("CONNECTING")});Object.defineProperty(ae,"OPEN",{enumerable:!0,value:rr.indexOf("OPEN")});Object.defineProperty(ae.prototype,"OPEN",{enumerable:!0,value:rr.indexOf("OPEN")});Object.defineProperty(ae,"CLOSING",{enumerable:!0,value:rr.indexOf("CLOSING")});Object.defineProperty(ae.prototype,"CLOSING",{enumerable:!0,value:rr.indexOf("CLOSING")});Object.defineProperty(ae,"CLOSED",{enumerable:!0,value:rr.indexOf("CLOSED")});Object.defineProperty(ae.prototype,"CLOSED",{enumerable:!0,value:rr.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(t=>{Object.defineProperty(ae.prototype,t,{enumerable:!0})});["open","error","close","message"].forEach(t=>{Object.defineProperty(ae.prototype,`on${t}`,{enumerable:!0,get(){for(const e of this.listeners(t))if(e[Ip])return e[G3];return null},set(e){for(const n of this.listeners(t))if(n[Ip]){this.removeListener(t,n);break}typeof e=="function"&&this.addEventListener(t,e,{[Ip]:!0})}})});ae.prototype.addEventListener=Q3;ae.prototype.removeEventListener=W3;var ez=ae;function kS(t,e,n,r){const s={allowSynchronousEvents:!0,autoPong:!0,protocolVersion:Pp[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...r,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(t._autoPong=s.autoPong,!Pp.includes(s.protocolVersion))throw new RangeError(`Unsupported protocol version: ${s.protocolVersion} (supported versions: ${Pp.join(", ")})`);let i;if(e instanceof Ap)i=e;else try{i=new Ap(e)}catch{throw new SyntaxError(`Invalid URL: ${e}`)}i.protocol==="http:"?i.protocol="ws:":i.protocol==="https:"&&(i.protocol="wss:"),t._url=i.href;const a=i.protocol==="wss:",o=i.protocol==="ws+unix:";let c;if(i.protocol!=="ws:"&&!a&&!o?c=`The URL's protocol must be one of "ws:", "wss:", "http:", "https:", or "ws+unix:"`:o&&!i.pathname?c="The URL's pathname is empty":i.hash&&(c="The URL contains a fragment identifier"),c){const m=new SyntaxError(c);if(t._redirects===0)throw m;Ec(t,m);return}const l=a?443:80,u=F3(16).toString("base64"),p=a?L3.request:q3.request,h=new Set;let y;if(s.createConnection=s.createConnection||(a?nz:tz),s.defaultPort=s.defaultPort||l,s.port=i.port||l,s.host=i.hostname.startsWith("[")?i.hostname.slice(1,-1):i.hostname,s.headers={...s.headers,"Sec-WebSocket-Version":s.protocolVersion,"Sec-WebSocket-Key":u,Connection:"Upgrade",Upgrade:"websocket"},s.path=i.pathname+i.search,s.timeout=s.handshakeTimeout,s.perMessageDeflate&&(y=new gr(s.perMessageDeflate!==!0?s.perMessageDeflate:{},!1,s.maxPayload),s.headers["Sec-WebSocket-Extensions"]=K3({[gr.extensionName]:y.offer()})),n.length){for(const m of n){if(typeof m!="string"||!Z3.test(m)||h.has(m))throw new SyntaxError("An invalid or duplicated subprotocol was specified");h.add(m)}s.headers["Sec-WebSocket-Protocol"]=n.join(",")}if(s.origin&&(s.protocolVersion<13?s.headers["Sec-WebSocket-Origin"]=s.origin:s.headers.Origin=s.origin),(i.username||i.password)&&(s.auth=`${i.username}:${i.password}`),o){const m=s.path.split(":");s.socketPath=m[0],s.path=m[1]}let f;if(s.followRedirects){if(t._redirects===0){t._originalIpc=o,t._originalSecure=a,t._originalHostOrSocketPath=o?s.socketPath:i.host;const m=r&&r.headers;if(r={...r,headers:{}},m)for(const[g,b]of Object.entries(m))r.headers[g.toLowerCase()]=b}else if(t.listenerCount("redirect")===0){const m=o?t._originalIpc?s.socketPath===t._originalHostOrSocketPath:!1:t._originalIpc?!1:i.host===t._originalHostOrSocketPath;(!m||t._originalSecure&&!a)&&(delete s.headers.authorization,delete s.headers.cookie,m||delete s.headers.host,s.auth=void 0)}s.auth&&!r.headers.authorization&&(r.headers.authorization="Basic "+Buffer.from(s.auth).toString("base64")),f=t._req=p(s),t._redirects&&t.emit("redirect",t.url,f)}else f=t._req=p(s);s.timeout&&f.on("timeout",()=>{At(t,f,"Opening handshake has timed out")}),f.on("error",m=>{f===null||f[PS]||(f=t._req=null,Ec(t,m))}),f.on("response",m=>{const g=m.headers.location,b=m.statusCode;if(g&&s.followRedirects&&b>=300&&b<400){if(++t._redirects>s.maxRedirects){At(t,f,"Maximum redirects exceeded");return}f.abort();let _;try{_=new Ap(g,e)}catch{const C=new SyntaxError(`Invalid URL: ${g}`);Ec(t,C);return}kS(t,_,n,r)}else t.emit("unexpected-response",f,m)||At(t,f,`Unexpected server response: ${m.statusCode}`)}),f.on("upgrade",(m,g,b)=>{if(t.emit("upgrade",m),t.readyState!==ae.CONNECTING)return;f=t._req=null;const _=m.headers.upgrade;if(_===void 0||_.toLowerCase()!=="websocket"){At(t,g,"Invalid Upgrade header");return}const S=U3("sha1").update(u+V3).digest("base64");if(m.headers["sec-websocket-accept"]!==S){At(t,g,"Invalid Sec-WebSocket-Accept header");return}const C=m.headers["sec-websocket-protocol"];let L;if(C!==void 0?h.size?h.has(C)||(L="Server sent an invalid subprotocol"):L="Server sent a subprotocol but none was requested":h.size&&(L="Server sent no subprotocol"),L){At(t,g,L);return}C&&(t._protocol=C);const K=m.headers["sec-websocket-extensions"];if(K!==void 0){if(!y){At(t,g,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let D;try{D=J3(K)}catch{At(t,g,"Invalid Sec-WebSocket-Extensions header");return}const Z=Object.keys(D);if(Z.length!==1||Z[0]!==gr.extensionName){At(t,g,"Server indicated an extension that was not requested");return}try{y.accept(D[gr.extensionName])}catch{At(t,g,"Invalid Sec-WebSocket-Extensions header");return}t._extensions[gr.extensionName]=y}t.setSocket(g,b,{allowSynchronousEvents:s.allowSynchronousEvents,generateMask:s.generateMask,maxPayload:s.maxPayload,skipUTF8Validation:s.skipUTF8Validation})}),s.finishRequest?s.finishRequest(f,t):f.end()}function Ec(t,e){t._readyState=ae.CLOSING,t._errorEmitted=!0,t.emit("error",e),t.emitClose()}function tz(t){return t.path=t.socketPath,AS.connect(t)}function nz(t){return t.path=void 0,!t.servername&&t.servername!==""&&(t.servername=AS.isIP(t.host)?"":t.host),M3.connect(t)}function At(t,e,n){t._readyState=ae.CLOSING;const r=new Error(n);Error.captureStackTrace(r,At),e.setHeader?(e[PS]=!0,e.abort(),e.socket&&!e.socket.destroyed&&e.socket.destroy(),process.nextTick(Ec,t,r)):(e.destroy(r),e.once("error",t.emit.bind(t,"error")),e.once("close",t.emitClose.bind(t)))}function kp(t,e,n){if(e){const r=z3(e)?e.size:Y3(e).length;t._socket?t._sender._bufferedBytes+=r:t._bufferedAmount+=r}if(n){const r=new Error(`WebSocket is not open: readyState ${t.readyState} (${rr[t.readyState]})`);process.nextTick(n,r)}}function rz(t,e){const n=this[We];n._closeFrameReceived=!0,n._closeMessage=e,n._closeCode=t,n._socket[We]!==void 0&&(n._socket.removeListener("data",su),process.nextTick(jS,n._socket),t===1005?n.close():n.close(t,e))}function sz(){const t=this[We];t.isPaused||t._socket.resume()}function iz(t){const e=this[We];e._socket[We]!==void 0&&(e._socket.removeListener("data",su),process.nextTick(jS,e._socket),e.close(t[H3])),e._errorEmitted||(e._errorEmitted=!0,e.emit("error",t))}function Kg(){this[We].emitClose()}function az(t,e){this[We].emit("message",t,e)}function oz(t){const e=this[We];e._autoPong&&e.pong(t,!this._isServer,IS),e.emit("ping",t)}function cz(t){this[We].emit("pong",t)}function jS(t){t.resume()}function lz(t){const e=this[We];e.readyState!==ae.CLOSED&&(e.readyState===ae.OPEN&&(e._readyState=ae.CLOSING,LS(e)),this._socket.end(),e._errorEmitted||(e._errorEmitted=!0,e.emit("error",t)))}function LS(t){t._closeTimer=setTimeout(t._socket.destroy.bind(t._socket),X3)}function qS(){const t=this[We];this.removeListener("close",qS),this.removeListener("data",su),this.removeListener("end",MS),t._readyState=ae.CLOSING;let e;!this._readableState.endEmitted&&!t._closeFrameReceived&&!t._receiver._writableState.errorEmitted&&(e=t._socket.read())!==null&&t._receiver.write(e),t._receiver.end(),this[We]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",Kg),t._receiver.on("finish",Kg))}function su(t){this[We]._receiver.write(t)||this.pause()}function MS(){const t=this[We];t._readyState=ae.CLOSING,t._receiver.end(),this.end()}function FS(){const t=this[We];this.removeListener("error",FS),this.on("error",IS),t&&(t._readyState=ae.CLOSING,this.destroy())}const Jg=nr(ez),{Duplex:W6}=Me,{tokenChars:K6}=Eo,{Duplex:J6}=Me,{createHash:Y6}=uo,{GUID:X6,kWebSocket:Z6}=Fr;class US{constructor(){v(this,"intMode");this.intMode="number"}}class Ce extends Error{constructor(e){super(e),this.name="ClientError"}}class de extends Ce{constructor(e){super(e),this.name="ProtoError"}}class BS extends Ce{constructor(n,r){super(n);v(this,"code");v(this,"proto");this.name="ResponseError",this.code=r.code,this.proto=r,this.stack=void 0}}class Qt extends Ce{constructor(e,n){n!==void 0?(super(`${e}: ${n}`),this.cause=n):super(e),this.name="ClosedError"}}class DS extends Ce{constructor(e){super(e),this.name="WebSocketUnsupportedError"}}class Nd extends Ce{constructor(e){super(e),this.name="WebSocketError"}}class Rc extends Ce{constructor(n,r){super(n);v(this,"status");this.status=r,this.name="HttpServerError"}}class Gi extends Ce{constructor(e){super(e),this.name="ProtocolVersionError"}}class jr extends Ce{constructor(e){super(e),this.name="InternalError"}}class ia extends Ce{constructor(e){super(e),this.name="MisuseError"}}function cn(t){if(typeof t=="string")return t;throw aa(t,"string")}function ln(t){if(t!=null){if(typeof t=="string")return t;throw aa(t,"string or null")}}function Ss(t){if(typeof t=="number")return t;throw aa(t,"number")}function Ka(t){if(typeof t=="boolean")return t;throw aa(t,"boolean")}function tl(t){if(Array.isArray(t))return t;throw aa(t,"array")}function tt(t){if(t!==null&&typeof t=="object"&&!Array.isArray(t))return t;throw aa(t,"object")}function Lr(t,e){return tl(t).map(n=>e(tt(n)))}function aa(t,e){if(t===void 0)return new de(`Expected ${e}, but the property was missing`);let n=typeof t;return t===null?n="null":Array.isArray(t)&&(n="array"),new de(`Expected ${e}, received ${n}`)}function qh(t,e){return e(tt(t))}var je,xr,kn,Hr;class uz{constructor(e){j(this,kn);j(this,je);j(this,xr);E(this,je,e),E(this,xr,!1)}begin(){d(this,je).push("{"),E(this,xr,!0)}end(){d(this,je).push("}"),E(this,xr,!1)}string(e,n){P(this,kn,Hr).call(this,e),d(this,je).push(JSON.stringify(n))}stringRaw(e,n){P(this,kn,Hr).call(this,e),d(this,je).push('"'),d(this,je).push(n),d(this,je).push('"')}number(e,n){P(this,kn,Hr).call(this,e),d(this,je).push(""+n)}boolean(e,n){P(this,kn,Hr).call(this,e),d(this,je).push(n?"true":"false")}object(e,n,r){P(this,kn,Hr).call(this,e),this.begin(),r(this,n),this.end()}arrayObjects(e,n,r){P(this,kn,Hr).call(this,e),d(this,je).push("[");for(let s=0;s<n.length;++s)s!==0&&d(this,je).push(","),this.begin(),r(this,n[s]),this.end();d(this,je).push("]")}}je=new WeakMap,xr=new WeakMap,kn=new WeakSet,Hr=function(e){d(this,xr)?(d(this,je).push('"'),E(this,xr,!1)):d(this,je).push(',"'),d(this,je).push(e),d(this,je).push('":')};function zS(t,e){const n=[],r=new uz(n);return r.begin(),e(r,t),r.end(),n.join("")}const Fa=0,Ad=1,Id=2,pz=5;var bn,Ja,Pt;class dz{constructor(e){j(this,bn);j(this,Ja);j(this,Pt);E(this,bn,e),E(this,Ja,new DataView(e.buffer,e.byteOffset,e.byteLength)),E(this,Pt,0)}varint(){let e=0;for(let n=0;;n+=7){const r=d(this,bn)[Fs(this,Pt)._++];if(e|=(r&127)<<n,!(r&128))break}return e}varintBig(){let e=0n;for(let n=0n;;n+=7n){const r=d(this,bn)[Fs(this,Pt)._++];if(e|=BigInt(r&127)<<n,!(r&128))break}return e}bytes(e){const n=new Uint8Array(d(this,bn).buffer,d(this,bn).byteOffset+d(this,Pt),e);return E(this,Pt,d(this,Pt)+e),n}double(){const e=d(this,Ja).getFloat64(d(this,Pt),!0);return E(this,Pt,d(this,Pt)+8),e}skipVarint(){for(;d(this,bn)[Fs(this,Pt)._++]&128;);}skip(e){E(this,Pt,d(this,Pt)+e)}eof(){return d(this,Pt)>=d(this,bn).byteLength}}bn=new WeakMap,Ja=new WeakMap,Pt=new WeakMap;var xt,lt,os,Ra;class fz{constructor(e){j(this,os);j(this,xt);j(this,lt);E(this,xt,e),E(this,lt,-1)}setup(e){E(this,lt,e)}bytes(){P(this,os,Ra).call(this,Id);const e=d(this,xt).varint();return d(this,xt).bytes(e)}string(){return new TextDecoder().decode(this.bytes())}message(e){return iu(this.bytes(),e)}int32(){return P(this,os,Ra).call(this,Fa),d(this,xt).varint()}uint32(){return this.int32()}bool(){return this.int32()!==0}uint64(){return P(this,os,Ra).call(this,Fa),d(this,xt).varintBig()}sint64(){const e=this.uint64();return e>>1n^-(e&1n)}double(){return P(this,os,Ra).call(this,Ad),d(this,xt).double()}maybeSkip(){if(!(d(this,lt)<0)){if(d(this,lt)===Fa)d(this,xt).skipVarint();else if(d(this,lt)===Ad)d(this,xt).skip(8);else if(d(this,lt)===Id){const e=d(this,xt).varint();d(this,xt).skip(e)}else if(d(this,lt)===pz)d(this,xt).skip(4);else throw new de(`Unexpected wire type ${d(this,lt)}`);E(this,lt,-1)}}}xt=new WeakMap,lt=new WeakMap,os=new WeakSet,Ra=function(e){if(d(this,lt)!==e)throw new de(`Expected wire type ${e}, got ${d(this,lt)}`);E(this,lt,-1)};function iu(t,e){const n=new dz(t),r=new fz(n);let s=e.default();for(;!n.eof();){const i=n.varint(),a=i>>3,o=i&7;r.setup(o);const c=e[a];if(c!==void 0){const l=c(r,s);l!==void 0&&(s=l)}r.maybeSkip()}return s}var Zt,wr,gi,wt,Qe,Ta,Tc,VS,Oa;const Yh=class Yh{constructor(){j(this,Qe);j(this,Zt);j(this,wr);j(this,gi);j(this,wt);E(this,Zt,new ArrayBuffer(256)),E(this,wr,new Uint8Array(d(this,Zt))),E(this,gi,new DataView(d(this,Zt))),E(this,wt,0)}bytes(e,n){P(this,Qe,Oa).call(this,e,Id),P(this,Qe,Tc).call(this,n.byteLength),P(this,Qe,Ta).call(this,n.byteLength),d(this,wr).set(n,d(this,wt)),E(this,wt,d(this,wt)+n.byteLength)}string(e,n){this.bytes(e,new TextEncoder().encode(n))}message(e,n,r){const s=new Yh;r(s,n),this.bytes(e,s.data())}int32(e,n){P(this,Qe,Oa).call(this,e,Fa),P(this,Qe,Tc).call(this,n)}uint32(e,n){this.int32(e,n)}bool(e,n){this.int32(e,n?1:0)}sint64(e,n){P(this,Qe,Oa).call(this,e,Fa),P(this,Qe,VS).call(this,n<<1n^n>>63n)}double(e,n){P(this,Qe,Oa).call(this,e,Ad),P(this,Qe,Ta).call(this,8),d(this,gi).setFloat64(d(this,wt),n,!0),E(this,wt,d(this,wt)+8)}data(){return new Uint8Array(d(this,Zt),0,d(this,wt))}};Zt=new WeakMap,wr=new WeakMap,gi=new WeakMap,wt=new WeakMap,Qe=new WeakSet,Ta=function(e){if(d(this,wt)+e<=d(this,Zt).byteLength)return;let n=d(this,Zt).byteLength;for(;n<d(this,wt)+e;)n*=2;const r=new ArrayBuffer(n),s=new Uint8Array(r),i=new DataView(r);s.set(new Uint8Array(d(this,Zt),0,d(this,wt))),E(this,Zt,r),E(this,wr,s),E(this,gi,i)},Tc=function(e){P(this,Qe,Ta).call(this,5),e=0|e;do{let n=e&127;e>>>=7,n|=e?128:0,d(this,wr)[Fs(this,wt)._++]=n}while(e)},VS=function(e){P(this,Qe,Ta).call(this,10),e=e&0xffffffffffffffffn;do{let n=Number(e&0x7fn);e>>=7n,n|=e?128:0,d(this,wr)[Fs(this,wt)._++]=n}while(e)},Oa=function(e,n){P(this,Qe,Tc).call(this,e<<3|n)};let Pd=Yh;function GS(t,e){const n=new Pd;return e(n,t),n.data()}var kt,jn;class Ca{constructor(){j(this,kt);j(this,jn);E(this,kt,new Set),E(this,jn,new Set)}alloc(){for(const n of d(this,jn))return d(this,jn).delete(n),d(this,kt).add(n),d(this,kt).has(d(this,kt).size-1)||d(this,jn).add(d(this,kt).size-1),n;const e=d(this,kt).size;return d(this,kt).add(e),e}free(e){if(!d(this,kt).delete(e))throw new jr("Freeing an id that is not allocated");d(this,jn).delete(d(this,kt).size),e<d(this,kt).size&&d(this,jn).add(e)}}kt=new WeakMap,jn=new WeakMap;function Pe(t,e){throw new jr(e)}function Ua(t){if(t===null)return null;if(typeof t=="string")return t;if(typeof t=="number"){if(!Number.isFinite(t))throw new RangeError("Only finite numbers (not Infinity or NaN) can be passed as arguments");return t}else if(typeof t=="bigint"){if(t<hz||t>mz)throw new RangeError("This bigint value is too large to be represented as a 64-bit integer and passed as argument");return t}else{if(typeof t=="boolean")return t?1n:0n;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(t instanceof Uint8Array)return t;if(t instanceof Date)return+t.valueOf();if(typeof t=="object")return""+t.toString();throw new TypeError("Unsupported type of value")}}const hz=-9223372036854775808n,mz=9223372036854775807n;function HS(t,e){if(t===null)return null;if(typeof t=="number")return t;if(typeof t=="string")return t;if(typeof t=="bigint")if(e==="number"){const n=Number(t);if(!Number.isSafeInteger(n))throw new RangeError("Received integer which is too large to be safely represented as a JavaScript number");return n}else{if(e==="bigint")return t;if(e==="string")return""+t;throw new ia("Invalid value for IntMode")}else{if(t instanceof Uint8Array)return t.slice().buffer;throw t===void 0?new de("Received unrecognized type of Value"):Pe(t,"Impossible type of Value")}}function Ro(t){return{affectedRowCount:t.affectedRowCount,lastInsertRowid:t.lastInsertRowid,columnNames:t.cols.map(e=>e.name),columnDecltypes:t.cols.map(e=>e.decltype)}}function QS(t,e){const n=Ro(t),r=t.rows.map(s=>JS(n.columnNames,s,e));return{...n,rows:r}}function WS(t,e){const n=Ro(t);let r;return t.rows.length>0&&(r=JS(n.columnNames,t.rows[0],e)),{...n,row:r}}function KS(t,e){const n=Ro(t);let r;return t.rows.length>0&&n.columnNames.length>0&&(r=HS(t.rows[0][0],e)),{...n,value:r}}function JS(t,e,n){const r={};Object.defineProperty(r,"length",{value:e.length});for(let s=0;s<e.length;++s){const i=HS(e[s],n);Object.defineProperty(r,s,{value:i});const a=t[s];a!==void 0&&!Object.hasOwn(r,a)&&Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0})}return r}function Hi(t){return new BS(t.message,t)}var vi,bi,Ln;class Mh{constructor(e,n){j(this,vi);j(this,bi);j(this,Ln);E(this,vi,e),E(this,bi,n),E(this,Ln,void 0)}_getSqlId(e){if(d(this,vi)!==e)throw new ia("Attempted to use SQL text opened with other object");if(d(this,Ln)!==void 0)throw new Qt("SQL text is closed",d(this,Ln));return d(this,bi)}close(){this._setClosed(new Ce("SQL text was manually closed"))}_setClosed(e){d(this,Ln)===void 0&&(E(this,Ln,e),d(this,vi)._closeSql(d(this,bi)))}get closed(){return d(this,Ln)!==void 0}}vi=new WeakMap,bi=new WeakMap,Ln=new WeakMap;function kd(t,e){return e instanceof Mh?{sqlId:e._getSqlId(t)}:{sql:""+e}}var xn,en;class nl{constructor(){j(this,xn);j(this,en);E(this,xn,[]),E(this,en,[])}get length(){return d(this,xn).length+d(this,en).length}push(e){d(this,xn).push(e)}shift(){return d(this,en).length===0&&d(this,xn).length>0&&(E(this,en,d(this,xn).reverse()),E(this,xn,[])),d(this,en).pop()}first(){return d(this,en).length!==0?d(this,en)[d(this,en).length-1]:d(this,xn)[0]}}xn=new WeakMap,en=new WeakMap;let YS=class{constructor(e){v(this,"sql");v(this,"_args");v(this,"_namedArgs");this.sql=e,this._args=[],this._namedArgs=new Map}bindIndexes(e){this._args.length=0;for(const n of e)this._args.push(Ua(n));return this}bindIndex(e,n){if(e!==(e|0)||e<=0)throw new RangeError("Index of a positional argument must be positive integer");for(;this._args.length<e;)this._args.push(null);return this._args[e-1]=Ua(n),this}bindName(e,n){return this._namedArgs.set(e,Ua(n)),this}unbindAll(){return this._args.length=0,this._namedArgs.clear(),this}};function XS(t,e,n){let r,s=[],i=[];if(e instanceof YS){r=e.sql,s=e._args;for(const[c,l]of e._namedArgs.entries())i.push({name:c,value:l})}else Array.isArray(e)?(r=e[0],Array.isArray(e[1])?s=e[1].map(c=>Ua(c)):i=Object.entries(e[1]).map(([c,l])=>({name:c,value:Ua(l)}))):r=e;const{sql:a,sqlId:o}=kd(t,r);return{sql:a,sqlId:o,args:s,namedArgs:i,wantRows:n}}var Ya,xi,uw;let yz=(uw=class{constructor(e,n){v(this,"_stream");j(this,Ya);v(this,"_steps");j(this,xi);this._stream=e,E(this,Ya,n),this._steps=[],E(this,xi,!1)}step(){return new bz(this)}execute(){if(d(this,xi))throw new ia("This batch has already been executed");E(this,xi,!0);const e={steps:this._steps.map(n=>n.proto)};return d(this,Ya)?vz(this._stream,this._steps,e):gz(this._stream,this._steps,e)}},Ya=new WeakMap,xi=new WeakMap,uw);function gz(t,e,n){return t._batch(n).then(r=>{for(let s=0;s<e.length;++s){const i=r.stepResults.get(s),a=r.stepErrors.get(s);e[s].callback(i,a)}})}async function vz(t,e,n){const r=await t._openCursor(n);try{let s=0,i,a=[];for(;;){const o=await r.next();if(o===void 0)break;if(o.type==="step_begin"){if(o.step<s||o.step>=e.length)throw new de("Server produced StepBeginEntry for unexpected step");if(i!==void 0)throw new de("Server produced StepBeginEntry before terminating previous step");for(let c=s;c<o.step;++c)e[c].callback(void 0,void 0);s=o.step+1,i=o,a=[]}else if(o.type==="step_end"){if(i===void 0)throw new de("Server produced StepEndEntry but no step is active");const c={cols:i.cols,rows:a,affectedRowCount:o.affectedRowCount,lastInsertRowid:o.lastInsertRowid};e[i.step].callback(c,void 0),i=void 0,a=[]}else if(o.type==="step_error"){if(i===void 0){if(o.step>=e.length)throw new de("Server produced StepErrorEntry for unexpected step");for(let c=s;c<o.step;++c)e[c].callback(void 0,void 0)}else{if(o.step!==i.step)throw new de("Server produced StepErrorEntry for unexpected step");i=void 0,a=[]}e[o.step].callback(void 0,o.error),s=o.step+1}else if(o.type==="row"){if(i===void 0)throw new de("Server produced RowEntry but no step is active");a.push(o.row)}else throw o.type==="error"?Hi(o.error):o.type==="none"?new de("Server produced unrecognized CursorEntry"):Pe(o,"Impossible CursorEntry")}if(i!==void 0)throw new de("Server closed Cursor before terminating active step");for(let o=s;o<e.length;++o)e[o].callback(void 0,void 0)}finally{r.close()}}var qn,cs,Na,pw;let bz=(pw=class{constructor(e){j(this,cs);v(this,"_batch");j(this,qn);v(this,"_index");this._batch=e,E(this,qn,[]),this._index=void 0}condition(e){return d(this,qn).push(e._proto),this}query(e){return P(this,cs,Na).call(this,e,!0,QS)}queryRow(e){return P(this,cs,Na).call(this,e,!0,WS)}queryValue(e){return P(this,cs,Na).call(this,e,!0,KS)}run(e){return P(this,cs,Na).call(this,e,!1,Ro)}},qn=new WeakMap,cs=new WeakSet,Na=function(e,n,r){if(this._index!==void 0)throw new ia("This BatchStep has already been added to the batch");const s=XS(this._batch._stream._sqlOwner(),e,n);let i;d(this,qn).length===0?i=void 0:d(this,qn).length===1?i=d(this,qn)[0]:i={type:"and",conds:d(this,qn).slice()};const a={stmt:s,condition:i};return new Promise((o,c)=>{const l=(u,p)=>{u!==void 0&&p!==void 0?c(new de("Server returned both result and error")):p!==void 0?c(Hi(p)):o(u!==void 0?r(u,this._batch._stream.intMode):void 0)};this._index=this._batch._steps.length,this._batch._steps.push({proto:a,callback:l})})},pw),Rt=class Qr{constructor(e,n){v(this,"_batch");v(this,"_proto");this._batch=e,this._proto=n}static ok(e){return new Qr(e._batch,{type:"ok",step:Yg(e)})}static error(e){return new Qr(e._batch,{type:"error",step:Yg(e)})}static not(e){return new Qr(e._batch,{type:"not",cond:e._proto})}static and(e,n){for(const r of n)Xg(e,r);return new Qr(e,{type:"and",conds:n.map(r=>r._proto)})}static or(e,n){for(const r of n)Xg(e,r);return new Qr(e,{type:"or",conds:n.map(r=>r._proto)})}static isAutocommit(e){return e._stream.client()._ensureVersion(3,"BatchCond.isAutocommit()"),new Qr(e,{type:"is_autocommit"})}};function Yg(t){if(t._index===void 0)throw new ia("Cannot add a condition referencing a step that has not been added to the batch");return t._index}function Xg(t,e){if(e._batch!==t)throw new ia("Cannot mix BatchCond objects for different Batch objects")}function xz(t){return{paramNames:t.params.map(e=>e.name),columns:t.cols,isExplain:t.isExplain,isReadonly:t.isReadonly}}var ls,Aa;class ZS{constructor(e){j(this,ls);v(this,"intMode");this.intMode=e}query(e){return P(this,ls,Aa).call(this,e,!0,QS)}queryRow(e){return P(this,ls,Aa).call(this,e,!0,WS)}queryValue(e){return P(this,ls,Aa).call(this,e,!0,KS)}run(e){return P(this,ls,Aa).call(this,e,!1,Ro)}batch(e=!1){return new yz(this,e)}describe(e){const n=kd(this._sqlOwner(),e);return this._describe(n).then(xz)}sequence(e){const n=kd(this._sqlOwner(),e);return this._sequence(n)}}ls=new WeakSet,Aa=function(e,n,r){const s=XS(this._sqlOwner(),e,n);return this._execute(s).then(i=>r(i,this.intMode))};class eE{}const wz=1e3,_z=10;var dl,us,wi,_i,ps,Mn,ds,fl,tE;class $z extends eE{constructor(n,r,s){super();j(this,fl);j(this,dl);j(this,us);j(this,wi);j(this,_i);j(this,ps);j(this,Mn);j(this,ds);E(this,dl,n),E(this,us,r),E(this,wi,s),E(this,_i,new nl),E(this,ps,new nl),E(this,Mn,void 0),E(this,ds,!1)}async next(){for(;;){if(d(this,Mn)!==void 0)throw new Qt("Cursor is closed",d(this,Mn));for(;!d(this,ds)&&d(this,ps).length<_z;)d(this,ps).push(P(this,fl,tE).call(this));const n=d(this,_i).shift();if(d(this,ds)||n!==void 0)return n;await d(this,ps).shift().then(r=>{if(r!==void 0){for(const s of r.entries)d(this,_i).push(s);d(this,ds)||E(this,ds,r.done)}})}}_setClosed(n){d(this,Mn)===void 0&&(E(this,Mn,n),d(this,us)._sendCursorRequest(this,{type:"close_cursor",cursorId:d(this,wi)}).catch(()=>{}),d(this,us)._cursorClosed(this))}close(){this._setClosed(new Ce("Cursor was manually closed"))}get closed(){return d(this,Mn)!==void 0}}dl=new WeakMap,us=new WeakMap,wi=new WeakMap,_i=new WeakMap,ps=new WeakMap,Mn=new WeakMap,ds=new WeakMap,fl=new WeakSet,tE=function(){return d(this,us)._sendCursorRequest(this,{type:"fetch_cursor",cursorId:d(this,wi),maxCount:wz}).then(n=>n,n=>{this._setClosed(n)})};var Ye,Vt,Fn,jt,_r,tn,Fe,Xs,Ld,Oc,Cc;const Xh=class Xh extends ZS{constructor(n,r){super(n.intMode);j(this,Fe);j(this,Ye);j(this,Vt);j(this,Fn);j(this,jt);j(this,_r);j(this,tn);E(this,Ye,n),E(this,Vt,r),E(this,Fn,new nl),E(this,jt,void 0),E(this,_r,!1),E(this,tn,void 0)}static open(n){const r=n._streamIdAlloc.alloc(),s=new Xh(n,r),i=()=>{},a=c=>{var l;return P(l=s,Fe,Cc).call(l,c)},o={type:"open_stream",streamId:r};return n._sendRequest(o,{responseCallback:i,errorCallback:a}),s}client(){return d(this,Ye)}_sqlOwner(){return d(this,Ye)}_execute(n){return P(this,Fe,Xs).call(this,{type:"execute",streamId:d(this,Vt),stmt:n}).then(r=>r.result)}_batch(n){return P(this,Fe,Xs).call(this,{type:"batch",streamId:d(this,Vt),batch:n}).then(r=>r.result)}_describe(n){return d(this,Ye)._ensureVersion(2,"describe()"),P(this,Fe,Xs).call(this,{type:"describe",streamId:d(this,Vt),sql:n.sql,sqlId:n.sqlId}).then(r=>r.result)}_sequence(n){return d(this,Ye)._ensureVersion(2,"sequence()"),P(this,Fe,Xs).call(this,{type:"sequence",streamId:d(this,Vt),sql:n.sql,sqlId:n.sqlId}).then(r=>{})}getAutocommit(){return d(this,Ye)._ensureVersion(3,"getAutocommit()"),P(this,Fe,Xs).call(this,{type:"get_autocommit",streamId:d(this,Vt)}).then(n=>n.isAutocommit)}_openCursor(n){return d(this,Ye)._ensureVersion(3,"cursor"),new Promise((r,s)=>{P(this,Fe,Ld).call(this,{type:"cursor",batch:n,cursorCallback:r,errorCallback:s})})}_sendCursorRequest(n,r){if(n!==d(this,jt))throw new jr("Cursor not associated with the stream attempted to execute a request");return new Promise((s,i)=>{d(this,tn)!==void 0?i(new Qt("Stream is closed",d(this,tn))):d(this,Ye)._sendRequest(r,{responseCallback:s,errorCallback:i})})}_cursorClosed(n){if(n!==d(this,jt))throw new jr("Cursor was closed, but it was not associated with the stream");E(this,jt,void 0),P(this,Fe,Oc).call(this)}close(){P(this,Fe,Cc).call(this,new Ce("Stream was manually closed"))}closeGracefully(){E(this,_r,!0),P(this,Fe,Oc).call(this)}get closed(){return d(this,tn)!==void 0||d(this,_r)}};Ye=new WeakMap,Vt=new WeakMap,Fn=new WeakMap,jt=new WeakMap,_r=new WeakMap,tn=new WeakMap,Fe=new WeakSet,Xs=function(n){return new Promise((r,s)=>{P(this,Fe,Ld).call(this,{type:"request",request:n,responseCallback:r,errorCallback:s})})},Ld=function(n){d(this,tn)!==void 0?n.errorCallback(new Qt("Stream is closed",d(this,tn))):d(this,_r)?n.errorCallback(new Qt("Stream is closing",void 0)):(d(this,Fn).push(n),P(this,Fe,Oc).call(this))},Oc=function(){for(;;){const n=d(this,Fn).first();if(n===void 0&&d(this,jt)===void 0&&d(this,_r)){P(this,Fe,Cc).call(this,new Ce("Stream was gracefully closed"));break}else if((n==null?void 0:n.type)==="request"&&d(this,jt)===void 0){const{request:r,responseCallback:s,errorCallback:i}=n;d(this,Fn).shift(),d(this,Ye)._sendRequest(r,{responseCallback:s,errorCallback:i})}else if((n==null?void 0:n.type)==="cursor"&&d(this,jt)===void 0){const{batch:r,cursorCallback:s}=n;d(this,Fn).shift();const i=d(this,Ye)._cursorIdAlloc.alloc(),a=new $z(d(this,Ye),this,i),o={type:"open_cursor",streamId:d(this,Vt),cursorId:i,batch:r},c=()=>{},l=u=>a._setClosed(u);d(this,Ye)._sendRequest(o,{responseCallback:c,errorCallback:l}),E(this,jt,a),s(a)}else break}},Cc=function(n){if(d(this,tn)!==void 0)return;for(E(this,tn,n),d(this,jt)!==void 0&&d(this,jt)._setClosed(n);;){const a=d(this,Fn).shift();if(a!==void 0)a.errorCallback(n);else break}const r={type:"close_stream",streamId:d(this,Vt)},s=()=>d(this,Ye)._streamIdAlloc.free(d(this,Vt)),i=()=>{};d(this,Ye)._sendRequest(r,{responseCallback:s,errorCallback:i})};let jd=Xh;function Fh(t,e){e.sql!==void 0&&t.string("sql",e.sql),e.sqlId!==void 0&&t.number("sql_id",e.sqlId),t.arrayObjects("args",e.args,nE),t.arrayObjects("named_args",e.namedArgs,Sz),t.boolean("want_rows",e.wantRows)}function Sz(t,e){t.string("name",e.name),t.object("value",e.value,nE)}function rl(t,e){t.arrayObjects("steps",e.steps,Ez)}function Ez(t,e){e.condition!==void 0&&t.object("condition",e.condition,qd),t.object("stmt",e.stmt,Fh)}function qd(t,e){if(t.stringRaw("type",e.type),e.type==="ok"||e.type==="error")t.number("step",e.step);else if(e.type==="not")t.object("cond",e.cond,qd);else if(e.type==="and"||e.type==="or")t.arrayObjects("conds",e.conds,qd);else if(e.type!=="is_autocommit")throw Pe(e,"Impossible type of BatchCond")}function nE(t,e){if(e===null)t.stringRaw("type","null");else if(typeof e=="bigint")t.stringRaw("type","integer"),t.stringRaw("value",""+e);else if(typeof e=="number")t.stringRaw("type","float"),t.number("value",e);else if(typeof e=="string")t.stringRaw("type","text"),t.string("value",e);else if(e instanceof Uint8Array)t.stringRaw("type","blob"),t.stringRaw("base64",kh.fromUint8Array(e));else if(e!==void 0)throw Pe(e,"Impossible type of Value")}function Rz(t,e){if(t.stringRaw("type",e.type),e.type==="hello")e.jwt!==void 0&&t.string("jwt",e.jwt);else if(e.type==="request")t.number("request_id",e.requestId),t.object("request",e.request,Tz);else throw Pe(e,"Impossible type of ClientMsg")}function Tz(t,e){if(t.stringRaw("type",e.type),e.type==="open_stream")t.number("stream_id",e.streamId);else if(e.type==="close_stream")t.number("stream_id",e.streamId);else if(e.type==="execute")t.number("stream_id",e.streamId),t.object("stmt",e.stmt,Fh);else if(e.type==="batch")t.number("stream_id",e.streamId),t.object("batch",e.batch,rl);else if(e.type==="open_cursor")t.number("stream_id",e.streamId),t.number("cursor_id",e.cursorId),t.object("batch",e.batch,rl);else if(e.type==="close_cursor")t.number("cursor_id",e.cursorId);else if(e.type==="fetch_cursor")t.number("cursor_id",e.cursorId),t.number("max_count",e.maxCount);else if(e.type==="sequence")t.number("stream_id",e.streamId),e.sql!==void 0&&t.string("sql",e.sql),e.sqlId!==void 0&&t.number("sql_id",e.sqlId);else if(e.type==="describe")t.number("stream_id",e.streamId),e.sql!==void 0&&t.string("sql",e.sql),e.sqlId!==void 0&&t.number("sql_id",e.sqlId);else if(e.type==="store_sql")t.number("sql_id",e.sqlId),t.string("sql",e.sql);else if(e.type==="close_sql")t.number("sql_id",e.sqlId);else if(e.type==="get_autocommit")t.number("stream_id",e.streamId);else throw Pe(e,"Impossible type of Request")}function Uh(t,e){e.sql!==void 0&&t.string(1,e.sql),e.sqlId!==void 0&&t.int32(2,e.sqlId);for(const n of e.args)t.message(3,n,rE);for(const n of e.namedArgs)t.message(4,n,Oz);t.bool(5,e.wantRows)}function Oz(t,e){t.string(1,e.name),t.message(2,e.value,rE)}function au(t,e){for(const n of e.steps)t.message(1,n,Cz)}function Cz(t,e){e.condition!==void 0&&t.message(1,e.condition,Bh),t.message(2,e.stmt,Uh)}function Bh(t,e){if(e.type==="ok")t.uint32(1,e.step);else if(e.type==="error")t.uint32(2,e.step);else if(e.type==="not")t.message(3,e.cond,Bh);else if(e.type==="and")t.message(4,e.conds,Zg);else if(e.type==="or")t.message(5,e.conds,Zg);else if(e.type==="is_autocommit")t.message(6,void 0,sE);else throw Pe(e,"Impossible type of BatchCond")}function Zg(t,e){for(const n of e)t.message(1,n,Bh)}function rE(t,e){if(e===null)t.message(1,void 0,sE);else if(typeof e=="bigint")t.sint64(2,e);else if(typeof e=="number")t.double(3,e);else if(typeof e=="string")t.string(4,e);else if(e instanceof Uint8Array)t.bytes(5,e);else if(e!==void 0)throw Pe(e,"Impossible type of Value")}function sE(t,e){}function Nz(t,e){if(e.type==="hello")t.message(1,e,Az);else if(e.type==="request")t.message(2,e,Iz);else throw Pe(e,"Impossible type of ClientMsg")}function Az(t,e){e.jwt!==void 0&&t.string(1,e.jwt)}function Iz(t,e){t.int32(1,e.requestId);const n=e.request;if(n.type==="open_stream")t.message(2,n,Pz);else if(n.type==="close_stream")t.message(3,n,kz);else if(n.type==="execute")t.message(4,n,jz);else if(n.type==="batch")t.message(5,n,Lz);else if(n.type==="open_cursor")t.message(6,n,qz);else if(n.type==="close_cursor")t.message(7,n,Mz);else if(n.type==="fetch_cursor")t.message(8,n,Fz);else if(n.type==="sequence")t.message(9,n,Uz);else if(n.type==="describe")t.message(10,n,Bz);else if(n.type==="store_sql")t.message(11,n,Dz);else if(n.type==="close_sql")t.message(12,n,zz);else if(n.type==="get_autocommit")t.message(13,n,Vz);else throw Pe(n,"Impossible type of Request")}function Pz(t,e){t.int32(1,e.streamId)}function kz(t,e){t.int32(1,e.streamId)}function jz(t,e){t.int32(1,e.streamId),t.message(2,e.stmt,Uh)}function Lz(t,e){t.int32(1,e.streamId),t.message(2,e.batch,au)}function qz(t,e){t.int32(1,e.streamId),t.int32(2,e.cursorId),t.message(3,e.batch,au)}function Mz(t,e){t.int32(1,e.cursorId)}function Fz(t,e){t.int32(1,e.cursorId),t.uint32(2,e.maxCount)}function Uz(t,e){t.int32(1,e.streamId),e.sql!==void 0&&t.string(2,e.sql),e.sqlId!==void 0&&t.int32(3,e.sqlId)}function Bz(t,e){t.int32(1,e.streamId),e.sql!==void 0&&t.string(2,e.sql),e.sqlId!==void 0&&t.int32(3,e.sqlId)}function Dz(t,e){t.int32(1,e.sqlId),t.string(2,e.sql)}function zz(t,e){t.int32(1,e.sqlId)}function Vz(t,e){t.int32(1,e.streamId)}function Qi(t){const e=cn(t.message),n=ln(t.code);return{message:e,code:n}}function Dh(t){const e=Lr(t.cols,iE),n=tl(t.rows).map(a=>Lr(a,lE)),r=Ss(t.affected_row_count),s=ln(t.last_insert_rowid),i=s!==void 0?BigInt(s):void 0;return{cols:e,rows:n,affectedRowCount:r,lastInsertRowid:i}}function iE(t){const e=ln(t.name),n=ln(t.decltype);return{name:e,decltype:n}}function aE(t){const e=new Map;tl(t.step_results).forEach((r,s)=>{r!==null&&e.set(s,Dh(tt(r)))});const n=new Map;return tl(t.step_errors).forEach((r,s)=>{r!==null&&n.set(s,Qi(tt(r)))}),{stepResults:e,stepErrors:n}}function oE(t){const e=cn(t.type);if(e==="step_begin"){const n=Ss(t.step),r=Lr(t.cols,iE);return{type:"step_begin",step:n,cols:r}}else if(e==="step_end"){const n=Ss(t.affected_row_count),r=ln(t.last_insert_rowid),s=r!==void 0?BigInt(r):void 0;return{type:"step_end",affectedRowCount:n,lastInsertRowid:s}}else if(e==="step_error"){const n=Ss(t.step),r=Qi(tt(t.error));return{type:"step_error",step:n,error:r}}else{if(e==="row")return{type:"row",row:Lr(t.row,lE)};if(e==="error")return{type:"error",error:Qi(tt(t.error))};throw new de("Unexpected type of CursorEntry")}}function cE(t){const e=Lr(t.params,Gz),n=Lr(t.cols,Hz),r=Ka(t.is_explain),s=Ka(t.is_readonly);return{params:e,cols:n,isExplain:r,isReadonly:s}}function Gz(t){return{name:ln(t.name)}}function Hz(t){const e=cn(t.name),n=ln(t.decltype);return{name:e,decltype:n}}function lE(t){const e=cn(t.type);if(e==="null")return null;if(e==="integer"){const n=cn(t.value);return BigInt(n)}else{if(e==="float")return Ss(t.value);if(e==="text")return cn(t.value);if(e==="blob")return kh.toUint8Array(cn(t.base64));throw new de("Unexpected type of Value")}}function Qz(t){const e=cn(t.type);if(e==="hello_ok")return{type:"hello_ok"};if(e==="hello_error")return{type:"hello_error",error:Qi(tt(t.error))};if(e==="response_ok"){const n=Ss(t.request_id),r=Wz(tt(t.response));return{type:"response_ok",requestId:n,response:r}}else if(e==="response_error"){const n=Ss(t.request_id),r=Qi(tt(t.error));return{type:"response_error",requestId:n,error:r}}else throw new de("Unexpected type of ServerMsg")}function Wz(t){const e=cn(t.type);if(e==="open_stream")return{type:"open_stream"};if(e==="close_stream")return{type:"close_stream"};if(e==="execute")return{type:"execute",result:Dh(tt(t.result))};if(e==="batch")return{type:"batch",result:aE(tt(t.result))};if(e==="open_cursor")return{type:"open_cursor"};if(e==="close_cursor")return{type:"close_cursor"};if(e==="fetch_cursor"){const n=Lr(t.entries,oE),r=Ka(t.done);return{type:"fetch_cursor",entries:n,done:r}}else{if(e==="sequence")return{type:"sequence"};if(e==="describe")return{type:"describe",result:cE(tt(t.result))};if(e==="store_sql")return{type:"store_sql"};if(e==="close_sql")return{type:"close_sql"};if(e==="get_autocommit")return{type:"get_autocommit",isAutocommit:Ka(t.is_autocommit)};throw new de("Unexpected type of Response")}}const Cn={default(){return{message:"",code:void 0}},1(t,e){e.message=t.string()},2(t,e){e.code=t.string()}},Wi={default(){return{cols:[],rows:[],affectedRowCount:0,lastInsertRowid:void 0}},1(t,e){e.cols.push(t.message(uE))},2(t,e){e.rows.push(t.message(pE))},3(t,e){e.affectedRowCount=Number(t.uint64())},4(t,e){e.lastInsertRowid=t.sint64()}},uE={default(){return{name:void 0,decltype:void 0}},1(t,e){e.name=t.string()},2(t,e){e.decltype=t.string()}},pE={default(){return[]},1(t,e){e.push(t.message(nV))}},sl={default(){return{stepResults:new Map,stepErrors:new Map}},1(t,e){const[n,r]=t.message(Kz);e.stepResults.set(n,r)},2(t,e){const[n,r]=t.message(Jz);e.stepErrors.set(n,r)}},Kz={default(){return[0,Wi.default()]},1(t,e){e[0]=t.uint32()},2(t,e){e[1]=t.message(Wi)}},Jz={default(){return[0,Cn.default()]},1(t,e){e[0]=t.uint32()},2(t,e){e[1]=t.message(Cn)}},dE={default(){return{type:"none"}},1(t){return t.message(Yz)},2(t){return t.message(Xz)},3(t){return t.message(Zz)},4(t){return{type:"row",row:t.message(pE)}},5(t){return{type:"error",error:t.message(Cn)}}},Yz={default(){return{type:"step_begin",step:0,cols:[]}},1(t,e){e.step=t.uint32()},2(t,e){e.cols.push(t.message(uE))}},Xz={default(){return{type:"step_end",affectedRowCount:0,lastInsertRowid:void 0}},1(t,e){e.affectedRowCount=t.uint32()},2(t,e){e.lastInsertRowid=t.uint64()}},Zz={default(){return{type:"step_error",step:0,error:Cn.default()}},1(t,e){e.step=t.uint32()},2(t,e){e.error=t.message(Cn)}},il={default(){return{params:[],cols:[],isExplain:!1,isReadonly:!1}},1(t,e){e.params.push(t.message(eV))},2(t,e){e.cols.push(t.message(tV))},3(t,e){e.isExplain=t.bool()},4(t,e){e.isReadonly=t.bool()}},eV={default(){return{name:void 0}},1(t,e){e.name=t.string()}},tV={default(){return{name:"",decltype:void 0}},1(t,e){e.name=t.string()},2(t,e){e.decltype=t.string()}},nV={default(){},1(t){return null},2(t){return t.sint64()},3(t){return t.double()},4(t){return t.string()},5(t){return t.bytes()}},rV={default(){return{type:"none"}},1(t){return{type:"hello_ok"}},2(t){return t.message(sV)},3(t){return t.message(aV)},4(t){return t.message(iV)}},sV={default(){return{type:"hello_error",error:Cn.default()}},1(t,e){e.error=t.message(Cn)}},iV={default(){return{type:"response_error",requestId:0,error:Cn.default()}},1(t,e){e.requestId=t.int32()},2(t,e){e.error=t.message(Cn)}},aV={default(){return{type:"response_ok",requestId:0,response:{type:"none"}}},1(t,e){e.requestId=t.int32()},2(t,e){e.response={type:"open_stream"}},3(t,e){e.response={type:"close_stream"}},4(t,e){e.response=t.message(oV)},5(t,e){e.response=t.message(cV)},6(t,e){e.response={type:"open_cursor"}},7(t,e){e.response={type:"close_cursor"}},8(t,e){e.response=t.message(lV)},9(t,e){e.response={type:"sequence"}},10(t,e){e.response=t.message(uV)},11(t,e){e.response={type:"store_sql"}},12(t,e){e.response={type:"close_sql"}},13(t,e){e.response=t.message(pV)}},oV={default(){return{type:"execute",result:Wi.default()}},1(t,e){e.result=t.message(Wi)}},cV={default(){return{type:"batch",result:sl.default()}},1(t,e){e.result=t.message(sl)}},lV={default(){return{type:"fetch_cursor",entries:[],done:!1}},1(t,e){e.entries.push(t.message(dE))},2(t,e){e.done=t.bool()}},uV={default(){return{type:"describe",result:il.default()}},1(t,e){e.result=t.message(il)}},pV={default(){return{type:"get_autocommit",isAutocommit:!1}},1(t,e){e.isAutocommit=t.bool()}},dV=new Map([["hrana2",{version:2,encoding:"json"}],["hrana1",{version:1,encoding:"json"}]]),fE=new Map([["hrana3-protobuf",{version:3,encoding:"protobuf"}],["hrana3",{version:3,encoding:"json"}],["hrana2",{version:2,encoding:"json"}],["hrana1",{version:1,encoding:"json"}]]);var st,wn,fs,_t,hs,$t,$i,nn,$r,Si,be,Md,hE,Fd,mE,yE,gn,gE,vE,dw;let fV=(dw=class extends US{constructor(n,r){super();j(this,be);j(this,st);j(this,wn);j(this,fs);j(this,_t);j(this,hs);j(this,$t);j(this,$i);j(this,nn);j(this,$r);v(this,"_streamIdAlloc");v(this,"_cursorIdAlloc");j(this,Si);E(this,st,n),E(this,wn,[]),E(this,fs,!1),E(this,_t,void 0),E(this,hs,!1),E(this,$t,void 0),E(this,$i,!1),E(this,nn,new Map),E(this,$r,new Ca),this._streamIdAlloc=new Ca,this._cursorIdAlloc=new Ca,E(this,Si,new Ca),d(this,st).binaryType="arraybuffer",d(this,st).addEventListener("open",()=>P(this,be,hE).call(this)),d(this,st).addEventListener("close",s=>P(this,be,yE).call(this,s)),d(this,st).addEventListener("error",s=>P(this,be,mE).call(this,s)),d(this,st).addEventListener("message",s=>P(this,be,gE).call(this,s)),P(this,be,Md).call(this,{type:"hello",jwt:r})}getVersion(){return new Promise((n,r)=>{if(E(this,$i,!0),d(this,_t)!==void 0)r(d(this,_t));else if(d(this,fs))n(d(this,$t).version);else{const s=()=>n(d(this,$t).version);d(this,wn).push({openCallback:s,errorCallback:r})}})}_ensureVersion(n,r){if(d(this,$t)===void 0||!d(this,$i))throw new Gi(`${r} is supported only on protocol version ${n} and higher, but the version supported by the WebSocket server is not yet known. Use Client.getVersion() to wait until the version is available.`);if(d(this,$t).version<n)throw new Gi(`${r} is supported on protocol version ${n} and higher, but the WebSocket server only supports version ${d(this,$t).version}`)}_sendRequest(n,r){if(d(this,_t)!==void 0){r.errorCallback(new Qt("Client is closed",d(this,_t)));return}const s=d(this,$r).alloc();d(this,nn).set(s,{...r,type:n.type}),P(this,be,Md).call(this,{type:"request",requestId:s,request:n})}openStream(){return jd.open(this)}storeSql(n){this._ensureVersion(2,"storeSql()");const r=d(this,Si).alloc(),s=new Mh(this,r),i=()=>{},a=c=>s._setClosed(c),o={type:"store_sql",sqlId:r,sql:n};return this._sendRequest(o,{responseCallback:i,errorCallback:a}),s}_closeSql(n){if(d(this,_t)!==void 0)return;const r=()=>d(this,Si).free(n),s=a=>P(this,be,gn).call(this,a),i={type:"close_sql",sqlId:n};this._sendRequest(i,{responseCallback:r,errorCallback:s})}close(){P(this,be,gn).call(this,new Ce("Client was manually closed"))}get closed(){return d(this,_t)!==void 0}},st=new WeakMap,wn=new WeakMap,fs=new WeakMap,_t=new WeakMap,hs=new WeakMap,$t=new WeakMap,$i=new WeakMap,nn=new WeakMap,$r=new WeakMap,Si=new WeakMap,be=new WeakSet,Md=function(n){if(d(this,_t)!==void 0)throw new jr("Trying to send a message on a closed client");if(d(this,fs))P(this,be,Fd).call(this,n);else{const r=()=>P(this,be,Fd).call(this,n),s=()=>{};d(this,wn).push({openCallback:r,errorCallback:s})}},hE=function(){const n=d(this,st).protocol;if(n===void 0){P(this,be,gn).call(this,new Ce("The `WebSocket.protocol` property is undefined. This most likely means that the WebSocket implementation provided by the environment is broken. If you are using Miniflare 2, please update to Miniflare 3, which fixes this problem."));return}else if(n==="")E(this,$t,{version:1,encoding:"json"});else if(E(this,$t,fE.get(n)),d(this,$t)===void 0){P(this,be,gn).call(this,new de(`Unrecognized WebSocket subprotocol: ${JSON.stringify(n)}`));return}for(const r of d(this,wn))r.openCallback();d(this,wn).length=0,E(this,fs,!0)},Fd=function(n){const r=d(this,$t).encoding;if(r==="json"){const s=zS(n,Rz);d(this,st).send(s)}else if(r==="protobuf"){const s=GS(n,Nz);d(this,st).send(s)}else throw Pe(r,"Impossible encoding")},mE=function(n){const s=n.message??"WebSocket was closed due to an error";P(this,be,gn).call(this,new Nd(s))},yE=function(n){let r=`WebSocket was closed with code ${n.code}`;n.reason&&(r+=`: ${n.reason}`),P(this,be,gn).call(this,new Nd(r))},gn=function(n){if(d(this,_t)===void 0){E(this,_t,n);for(const r of d(this,wn))r.errorCallback(n);d(this,wn).length=0;for(const[r,s]of d(this,nn).entries())s.errorCallback(n),d(this,$r).free(r);d(this,nn).clear(),d(this,st).close()}},gE=function(n){if(d(this,_t)===void 0)try{let r;const s=d(this,$t).encoding;if(s==="json"){if(typeof n.data!="string"){d(this,st).close(3003,"Only text messages are accepted with JSON encoding"),P(this,be,gn).call(this,new de("Received non-text message from server with JSON encoding"));return}r=qh(JSON.parse(n.data),Qz)}else if(s==="protobuf"){if(!(n.data instanceof ArrayBuffer)){d(this,st).close(3003,"Only binary messages are accepted with Protobuf encoding"),P(this,be,gn).call(this,new de("Received non-binary message from server with Protobuf encoding"));return}r=iu(new Uint8Array(n.data),rV)}else throw Pe(s,"Impossible encoding");P(this,be,vE).call(this,r)}catch(r){d(this,st).close(3007,"Could not handle message"),P(this,be,gn).call(this,r)}},vE=function(n){if(n.type==="none")throw new de("Received an unrecognized ServerMsg");if(n.type==="hello_ok"||n.type==="hello_error"){if(d(this,hs))throw new de("Received a duplicated hello response");if(E(this,hs,!0),n.type==="hello_error")throw Hi(n.error);return}else if(!d(this,hs))throw new de("Received a non-hello message before a hello response");if(n.type==="response_ok"){const r=n.requestId,s=d(this,nn).get(r);if(d(this,nn).delete(r),s===void 0)throw new de("Received unexpected OK response");d(this,$r).free(r);try{if(s.type!==n.response.type)throw console.dir({responseState:s,msg:n}),new de("Received unexpected type of response");s.responseCallback(n.response)}catch(i){throw s.errorCallback(i),i}}else if(n.type==="response_error"){const r=n.requestId,s=d(this,nn).get(r);if(d(this,nn).delete(r),s===void 0)throw new de("Received unexpected error response");d(this,$r).free(r),s.errorCallback(Hi(n.error))}else throw Pe(n,"Impossible ServerMsg type")},dw);const bE=Request,hV=Headers,mV=fetch;let oi;if(typeof queueMicrotask<"u")oi=queueMicrotask;else{const t=Promise.resolve();oi=e=>{t.then(e)}}var Lt,rn,St,hl,xE;class yV{constructor(e){j(this,hl);j(this,Lt);j(this,rn);j(this,St);E(this,Lt,new Uint8Array(new ArrayBuffer(e))),E(this,rn,0),E(this,St,0)}get length(){return d(this,St)-d(this,rn)}data(){return d(this,Lt).slice(d(this,rn),d(this,St))}push(e){P(this,hl,xE).call(this,e.byteLength),d(this,Lt).set(e,d(this,St)),E(this,St,d(this,St)+e.byteLength)}shift(e){E(this,rn,d(this,rn)+e)}}Lt=new WeakMap,rn=new WeakMap,St=new WeakMap,hl=new WeakSet,xE=function(e){if(d(this,St)+e<=d(this,Lt).byteLength)return;const n=d(this,St)-d(this,rn);if(n+e<=d(this,Lt).byteLength&&2*d(this,St)>=d(this,Lt).byteLength)d(this,Lt).copyWithin(0,d(this,rn),d(this,St));else{let r=d(this,Lt).byteLength;do r*=2;while(n+e>r);const s=new Uint8Array(new ArrayBuffer(r));s.set(d(this,Lt).slice(d(this,rn),d(this,St)),0),E(this,Lt,s)}E(this,St,n),E(this,rn,0)};function gV(t){const e=ln(t.baton),n=ln(t.base_url),r=Lr(t.results,vV);return{baton:e,baseUrl:n,results:r}}function vV(t){const e=cn(t.type);if(e==="ok")return{type:"ok",response:bV(tt(t.response))};if(e==="error")return{type:"error",error:Qi(tt(t.error))};throw new de("Unexpected type of StreamResult")}function bV(t){const e=cn(t.type);if(e==="close")return{type:"close"};if(e==="execute")return{type:"execute",result:Dh(tt(t.result))};if(e==="batch")return{type:"batch",result:aE(tt(t.result))};if(e==="sequence")return{type:"sequence"};if(e==="describe")return{type:"describe",result:cE(tt(t.result))};if(e==="store_sql")return{type:"store_sql"};if(e==="close_sql")return{type:"close_sql"};if(e==="get_autocommit")return{type:"get_autocommit",isAutocommit:Ka(t.is_autocommit)};throw new de("Unexpected type of StreamResponse")}function xV(t){const e=ln(t.baton),n=ln(t.base_url);return{baton:e,baseUrl:n}}const wV={default(){return{baton:void 0,baseUrl:void 0,results:[]}},1(t,e){e.baton=t.string()},2(t,e){e.baseUrl=t.string()},3(t,e){e.results.push(t.message(_V))}},_V={default(){return{type:"none"}},1(t){return{type:"ok",response:t.message($V)}},2(t){return{type:"error",error:t.message(Cn)}}},$V={default(){return{type:"none"}},1(t){return{type:"close"}},2(t){return t.message(SV)},3(t){return t.message(EV)},4(t){return{type:"sequence"}},5(t){return t.message(RV)},6(t){return{type:"store_sql"}},7(t){return{type:"close_sql"}},8(t){return t.message(TV)}},SV={default(){return{type:"execute",result:Wi.default()}},1(t,e){e.result=t.message(Wi)}},EV={default(){return{type:"batch",result:sl.default()}},1(t,e){e.result=t.message(sl)}},RV={default(){return{type:"describe",result:il.default()}},1(t,e){e.result=t.message(il)}},TV={default(){return{type:"get_autocommit",isAutocommit:!1}},1(t,e){e.isAutocommit=t.bool()}},OV={default(){return{baton:void 0,baseUrl:void 0}},1(t,e){e.baton=t.string()},2(t,e){e.baseUrl=t.string()}};var Xa,ms,Un,_n,Bn,Ei,tr,Ud,wE,_E;class CV extends eE{constructor(n,r){super();j(this,tr);j(this,Xa);j(this,ms);j(this,Un);j(this,_n);j(this,Bn);j(this,Ei);E(this,Xa,n),E(this,ms,r),E(this,Un,void 0),E(this,_n,new yV(16*1024)),E(this,Bn,void 0),E(this,Ei,!1)}async open(n){if(n.body===null)throw new de("No response body for cursor request");E(this,Un,n.body.getReader());const r=await P(this,tr,Ud).call(this,xV,OV);if(r===void 0)throw new de("Empty response to cursor request");return r}next(){return P(this,tr,Ud).call(this,oE,dE)}close(){this._setClosed(new Ce("Cursor was manually closed"))}_setClosed(n){d(this,Bn)===void 0&&(E(this,Bn,n),d(this,Xa)._cursorClosed(this),d(this,Un)!==void 0&&d(this,Un).cancel())}get closed(){return d(this,Bn)!==void 0}}Xa=new WeakMap,ms=new WeakMap,Un=new WeakMap,_n=new WeakMap,Bn=new WeakMap,Ei=new WeakMap,tr=new WeakSet,Ud=async function(n,r){for(;;){if(d(this,Ei))return;if(d(this,Bn)!==void 0)throw new Qt("Cursor is closed",d(this,Bn));if(d(this,ms)==="json"){const a=P(this,tr,wE).call(this);if(a!==void 0){const o=new TextDecoder().decode(a),c=JSON.parse(o);return qh(c,n)}}else if(d(this,ms)==="protobuf"){const a=P(this,tr,_E).call(this);if(a!==void 0)return iu(a,r)}else throw Pe(d(this,ms),"Impossible encoding");if(d(this,Un)===void 0)throw new jr("Attempted to read from HTTP cursor before it was opened");const{value:s,done:i}=await d(this,Un).read();if(i&&d(this,_n).length===0)E(this,Ei,!0);else{if(i)throw new de("Unexpected end of cursor stream");d(this,_n).push(s)}}},wE=function(){const n=d(this,_n).data(),s=n.indexOf(10);if(s<0)return;const i=n.slice(0,s);return d(this,_n).shift(s+1),i},_E=function(){const n=d(this,_n).data();let r=0,s=0;for(;;){if(s>=n.byteLength)return;const a=n[s];if(r|=(a&127)<<7*s,s+=1,!(a&128))break}if(n.byteLength<s+r)return;const i=n.slice(s,s+r);return d(this,_n).shift(s+r),i};function NV(t,e){e.baton!==void 0&&t.string("baton",e.baton),t.arrayObjects("requests",e.requests,AV)}function AV(t,e){if(t.stringRaw("type",e.type),e.type!=="close"){if(e.type==="execute")t.object("stmt",e.stmt,Fh);else if(e.type==="batch")t.object("batch",e.batch,rl);else if(e.type==="sequence")e.sql!==void 0&&t.string("sql",e.sql),e.sqlId!==void 0&&t.number("sql_id",e.sqlId);else if(e.type==="describe")e.sql!==void 0&&t.string("sql",e.sql),e.sqlId!==void 0&&t.number("sql_id",e.sqlId);else if(e.type==="store_sql")t.number("sql_id",e.sqlId),t.string("sql",e.sql);else if(e.type==="close_sql")t.number("sql_id",e.sqlId);else if(e.type!=="get_autocommit")throw Pe(e,"Impossible type of StreamRequest")}}function IV(t,e){e.baton!==void 0&&t.string("baton",e.baton),t.object("batch",e.batch,rl)}function PV(t,e){e.baton!==void 0&&t.string(1,e.baton);for(const n of e.requests)t.message(2,n,kV)}function kV(t,e){if(e.type==="close")t.message(1,e,jV);else if(e.type==="execute")t.message(2,e,LV);else if(e.type==="batch")t.message(3,e,qV);else if(e.type==="sequence")t.message(4,e,MV);else if(e.type==="describe")t.message(5,e,FV);else if(e.type==="store_sql")t.message(6,e,UV);else if(e.type==="close_sql")t.message(7,e,BV);else if(e.type==="get_autocommit")t.message(8,e,DV);else throw Pe(e,"Impossible type of StreamRequest")}function jV(t,e){}function LV(t,e){t.message(1,e.stmt,Uh)}function qV(t,e){t.message(1,e.batch,au)}function MV(t,e){e.sql!==void 0&&t.string(1,e.sql),e.sqlId!==void 0&&t.int32(2,e.sqlId)}function FV(t,e){e.sql!==void 0&&t.string(1,e.sql),e.sqlId!==void 0&&t.int32(2,e.sqlId)}function UV(t,e){t.int32(1,e.sqlId),t.string(2,e.sql)}function BV(t,e){t.int32(1,e.sqlId)}function DV(t,e){}function zV(t,e){e.baton!==void 0&&t.string(1,e.baton),t.message(2,e.batch,au)}var Dn,Sr,Ri,Za,Er,sn,Rr,zn,Vn,Tr,$n,Ti,fe,fr,Bd,Wr,$E,SE,Dd,EE,RE,zd;class VV extends ZS{constructor(n,r,s,i){super(n.intMode);j(this,fe);j(this,Dn);j(this,Sr);j(this,Ri);j(this,Za);j(this,Er);j(this,sn);j(this,Rr);j(this,zn);j(this,Vn);j(this,Tr);j(this,$n);j(this,Ti);E(this,Dn,n),E(this,Sr,r.toString()),E(this,Ri,s),E(this,Za,i),E(this,Er,void 0),E(this,sn,new nl),E(this,Rr,!1),E(this,Vn,!1),E(this,Tr,!1),E(this,$n,void 0),E(this,Ti,new Ca)}client(){return d(this,Dn)}_sqlOwner(){return this}storeSql(n){const r=d(this,Ti).alloc();return P(this,fe,fr).call(this,{type:"store_sql",sqlId:r,sql:n}).then(()=>{},s=>this._setClosed(s)),new Mh(this,r)}_closeSql(n){d(this,$n)===void 0&&P(this,fe,fr).call(this,{type:"close_sql",sqlId:n}).then(()=>d(this,Ti).free(n),r=>this._setClosed(r))}_execute(n){return P(this,fe,fr).call(this,{type:"execute",stmt:n}).then(r=>r.result)}_batch(n){return P(this,fe,fr).call(this,{type:"batch",batch:n}).then(r=>r.result)}_describe(n){return P(this,fe,fr).call(this,{type:"describe",sql:n.sql,sqlId:n.sqlId}).then(r=>r.result)}_sequence(n){return P(this,fe,fr).call(this,{type:"sequence",sql:n.sql,sqlId:n.sqlId}).then(r=>{})}getAutocommit(){return d(this,Dn)._ensureVersion(3,"getAutocommit()"),P(this,fe,fr).call(this,{type:"get_autocommit"}).then(n=>n.isAutocommit)}_openCursor(n){return new Promise((r,s)=>{P(this,fe,Bd).call(this,{type:"cursor",batch:n,cursorCallback:r,errorCallback:s})})}_cursorClosed(n){if(n!==d(this,zn))throw new jr("Cursor was closed, but it was not associated with the stream");E(this,zn,void 0),oi(()=>P(this,fe,Wr).call(this))}close(){this._setClosed(new Ce("Stream was manually closed"))}closeGracefully(){E(this,Vn,!0),oi(()=>P(this,fe,Wr).call(this))}get closed(){return d(this,$n)!==void 0||d(this,Vn)}_setClosed(n){if(d(this,$n)===void 0){for(E(this,$n,n),d(this,zn)!==void 0&&d(this,zn)._setClosed(n),d(this,Dn)._streamClosed(this);;){const r=d(this,sn).shift();if(r!==void 0)r.errorCallback(n);else break}(d(this,Er)!==void 0||d(this,Rr))&&!d(this,Tr)&&(d(this,sn).push({type:"pipeline",request:{type:"close"},responseCallback:()=>{},errorCallback:()=>{}}),E(this,Tr,!0),oi(()=>P(this,fe,Wr).call(this)))}}}Dn=new WeakMap,Sr=new WeakMap,Ri=new WeakMap,Za=new WeakMap,Er=new WeakMap,sn=new WeakMap,Rr=new WeakMap,zn=new WeakMap,Vn=new WeakMap,Tr=new WeakMap,$n=new WeakMap,Ti=new WeakMap,fe=new WeakSet,fr=function(n){return new Promise((r,s)=>{P(this,fe,Bd).call(this,{type:"pipeline",request:n,responseCallback:r,errorCallback:s})})},Bd=function(n){if(d(this,$n)!==void 0)throw new Qt("Stream is closed",d(this,$n));if(d(this,Vn))throw new Qt("Stream is closing",void 0);d(this,sn).push(n),oi(()=>P(this,fe,Wr).call(this))},Wr=function(){if(d(this,Rr)||d(this,zn)!==void 0)return;if(d(this,Vn)&&d(this,sn).length===0){this._setClosed(new Ce("Stream was gracefully closed"));return}const n=d(this,Dn)._endpoint;if(n===void 0){d(this,Dn)._endpointPromise.then(()=>P(this,fe,Wr).call(this),s=>this._setClosed(s));return}const r=d(this,sn).shift();if(r!==void 0)if(r.type==="pipeline"){const s=[r];for(;;){const i=d(this,sn).first();if(i!==void 0&&i.type==="pipeline")s.push(i),d(this,sn).shift();else if(i===void 0&&d(this,Vn)&&!d(this,Tr)){s.push({type:"pipeline",request:{type:"close"},responseCallback:()=>{},errorCallback:()=>{}}),E(this,Tr,!0);break}else break}P(this,fe,$E).call(this,n,s)}else if(r.type==="cursor")P(this,fe,SE).call(this,n,r);else throw Pe(r,"Impossible type of QueueEntry")},$E=function(n,r){P(this,fe,Dd).call(this,()=>P(this,fe,EE).call(this,r,n),s=>HV(s,n.encoding),s=>s.baton,s=>s.baseUrl,s=>GV(r,s),s=>r.forEach(i=>i.errorCallback(s)))},SE=function(n,r){const s=new CV(this,n.encoding);E(this,zn,s),P(this,fe,Dd).call(this,()=>P(this,fe,RE).call(this,r,n),i=>s.open(i),i=>i.baton,i=>i.baseUrl,i=>r.cursorCallback(s),i=>r.errorCallback(i))},Dd=function(n,r,s,i,a,o){let c;try{const l=n();c=d(this,Za)(l)}catch(l){c=Promise.reject(l)}E(this,Rr,!0),c.then(l=>l.ok?r(l):QV(l).then(u=>{throw u})).then(l=>{E(this,Er,s(l)),E(this,Sr,i(l)??d(this,Sr)),a(l)}).catch(l=>{this._setClosed(l),o(l)}).finally(()=>{E(this,Rr,!1),P(this,fe,Wr).call(this)})},EE=function(n,r){return P(this,fe,zd).call(this,new URL(r.pipelinePath,d(this,Sr)),{baton:d(this,Er),requests:n.map(s=>s.request)},r.encoding,NV,PV)},RE=function(n,r){if(r.cursorPath===void 0)throw new Gi(`Cursors are supported only on protocol version 3 and higher, but the HTTP server only supports version ${r.version}.`);return P(this,fe,zd).call(this,new URL(r.cursorPath,d(this,Sr)),{baton:d(this,Er),batch:n.batch},r.encoding,IV,zV)},zd=function(n,r,s,i,a){let o,c;if(s==="json")o=zS(r,i),c="application/json";else if(s==="protobuf")o=GS(r,a),c="application/x-protobuf";else throw Pe(s,"Impossible encoding");const l=new hV;return l.set("content-type",c),d(this,Ri)!==void 0&&l.set("authorization",`Bearer ${d(this,Ri)}`),new bE(n.toString(),{method:"POST",headers:l,body:o})};function GV(t,e){if(e.results.length!==t.length)throw new de("Server returned unexpected number of pipeline results");for(let n=0;n<t.length;++n){const r=e.results[n],s=t[n];if(r.type==="ok"){if(r.response.type!==s.request.type)throw new de("Received unexpected type of response");s.responseCallback(r.response)}else if(r.type==="error")s.errorCallback(Hi(r.error));else throw r.type==="none"?new de("Received unrecognized type of StreamResult"):Pe(r,"Received impossible type of StreamResult")}}async function HV(t,e){var n;if(e==="json"){const r=await t.json();return qh(r,gV)}if(e==="protobuf"){const r=await t.arrayBuffer();return iu(new Uint8Array(r),wV)}throw await((n=t.body)==null?void 0:n.cancel()),Pe(e,"Impossible encoding")}async function QV(t){var r;const e=t.headers.get("content-type")??"text/plain";let n=`Server returned HTTP status ${t.status}`;if(e==="application/json"){const s=await t.json();return"message"in s?Hi(s):new Rc(n,t.status)}if(e==="text/plain"){const s=(await t.text()).trim();return s!==""&&(n+=`: ${s}`),new Rc(n,t.status)}return await((r=t.body)==null?void 0:r.cancel()),new Rc(n,t.status)}const WV=[{versionPath:"v3-protobuf",pipelinePath:"v3-protobuf/pipeline",cursorPath:"v3-protobuf/cursor",version:3,encoding:"protobuf"}],Vd={versionPath:"v2",pipelinePath:"v2/pipeline",cursorPath:void 0,version:2,encoding:"json"};var Oi,eo,Ci,Gn,ys,Ni,Nc,fw;let KV=(fw=class extends US{constructor(n,r,s,i=2){super();j(this,Ni);j(this,Oi);j(this,eo);j(this,Ci);j(this,Gn);j(this,ys);v(this,"_endpointPromise");v(this,"_endpoint");E(this,Oi,n),E(this,eo,r),E(this,Ci,s??mV),E(this,Gn,void 0),E(this,ys,new Set),i==3?(this._endpointPromise=JV(d(this,Ci),d(this,Oi)),this._endpointPromise.then(a=>this._endpoint=a,a=>P(this,Ni,Nc).call(this,a))):(this._endpointPromise=Promise.resolve(Vd),this._endpointPromise.then(a=>this._endpoint=a,a=>P(this,Ni,Nc).call(this,a)))}async getVersion(){return this._endpoint!==void 0?this._endpoint.version:(await this._endpointPromise).version}_ensureVersion(n,r){if(!(n<=Vd.version)){if(this._endpoint===void 0)throw new Gi(`${r} is supported only on protocol version ${n} and higher, but the version supported by the HTTP server is not yet known. Use Client.getVersion() to wait until the version is available.`);if(this._endpoint.version<n)throw new Gi(`${r} is supported only on protocol version ${n} and higher, but the HTTP server only supports version ${this._endpoint.version}.`)}}openStream(){if(d(this,Gn)!==void 0)throw new Qt("Client is closed",d(this,Gn));const n=new VV(this,d(this,Oi),d(this,eo),d(this,Ci));return d(this,ys).add(n),n}_streamClosed(n){d(this,ys).delete(n)}close(){P(this,Ni,Nc).call(this,new Ce("Client was manually closed"))}get closed(){return d(this,Gn)!==void 0}},Oi=new WeakMap,eo=new WeakMap,Ci=new WeakMap,Gn=new WeakMap,ys=new WeakMap,Ni=new WeakSet,Nc=function(n){if(d(this,Gn)===void 0){E(this,Gn,n);for(const r of Array.from(d(this,ys)))r._setClosed(new Qt("Client was closed",n))}},fw);async function JV(t,e){const n=t;for(const r of WV){const s=new URL(r.versionPath,e),i=new bE(s.toString(),{method:"GET"}),a=await n(i);if(await a.arrayBuffer(),a.ok)return r}return Vd}function TE(t,e,n=2){if(typeof Jg>"u")throw new DS("WebSockets are not supported in this environment");var r=void 0;n==3?r=Array.from(fE.keys()):r=Array.from(dV.keys());const s=new Jg(t,r);return new fV(s,e)}function ev(t,e,n,r=2){return new KV(t instanceof URL?t:new URL(t),e,n,r)}var Ai,Hn,ut;class OE{constructor(e,n){j(this,Ai);j(this,Hn);j(this,ut);E(this,Ai,e),E(this,Hn,n),E(this,ut,void 0)}execute(e){return this.batch([e]).then(n=>n[0])}async batch(e){const n=this._getStream();if(n.closed)throw new pe("Cannot execute statements because the transaction is closed","TRANSACTION_CLOSED");try{const r=e.map(Es);let s;if(d(this,ut)===void 0){this._getSqlCache().apply(r);const a=n.batch(d(this,Hn)>=3),o=a.step(),c=o.run(di(d(this,Ai)));let l=o;s=r.map(u=>{const p=a.step().condition(Rt.ok(l));d(this,Hn)>=3&&p.condition(Rt.not(Rt.isAutocommit(a)));const h=p.query(u);return h.catch(()=>{}),l=p,h}),E(this,ut,a.execute().then(()=>c).then(()=>{}));try{await d(this,ut)}catch(u){throw this.close(),u}}else{d(this,Hn)<3&&await d(this,ut),this._getSqlCache().apply(r);const a=n.batch(d(this,Hn)>=3);let o;s=r.map(c=>{const l=a.step();o!==void 0&&l.condition(Rt.ok(o)),d(this,Hn)>=3&&l.condition(Rt.not(Rt.isAutocommit(a)));const u=l.query(c);return u.catch(()=>{}),o=l,u}),await a.execute()}const i=[];for(const a of s){const o=await a;if(o===void 0)throw new pe("Statement in a transaction was not executed, probably because the transaction has been rolled back","TRANSACTION_CLOSED");i.push(ou(o))}return i}catch(r){throw Ne(r)}}async executeMultiple(e){const n=this._getStream();if(n.closed)throw new pe("Cannot execute statements because the transaction is closed","TRANSACTION_CLOSED");try{if(d(this,ut)===void 0){E(this,ut,n.run(di(d(this,Ai))).then(()=>{}));try{await d(this,ut)}catch(r){throw this.close(),r}}else await d(this,ut);await n.sequence(e)}catch(r){throw Ne(r)}}async rollback(){try{const e=this._getStream();if(e.closed||d(this,ut)===void 0)return;const n=e.run("ROLLBACK").catch(r=>{throw Ne(r)});e.closeGracefully(),await n}catch(e){throw Ne(e)}finally{this.close()}}async commit(){try{const e=this._getStream();if(e.closed)throw new pe("Cannot commit the transaction because it is already closed","TRANSACTION_CLOSED");if(d(this,ut)!==void 0)await d(this,ut);else return;const n=e.run("COMMIT").catch(r=>{throw Ne(r)});e.closeGracefully(),await n}catch(e){throw Ne(e)}finally{this.close()}}}Ai=new WeakMap,Hn=new WeakMap,ut=new WeakMap;async function al(t,e,n,r,s=!1){s&&n.step().run("PRAGMA foreign_keys=off");const i=n.step(),a=i.run(di(t));let o=i;const c=r.map(y=>{const f=n.step().condition(Rt.ok(o));e>=3&&f.condition(Rt.not(Rt.isAutocommit(n)));const m=f.query(y);return o=f,m}),l=n.step().condition(Rt.ok(o));e>=3&&l.condition(Rt.not(Rt.isAutocommit(n)));const u=l.run("COMMIT");n.step().condition(Rt.not(Rt.ok(l))).run("ROLLBACK").catch(y=>{}),s&&n.step().run("PRAGMA foreign_keys=on"),await n.execute();const h=[];await a;for(const y of c){const f=await y;if(f===void 0)throw new pe("Statement in a batch was not executed, probably because the transaction has been rolled back","TRANSACTION_CLOSED");h.push(ou(f))}return await u,h}function Es(t){let e,n;Array.isArray(t)?[e,n]=t:typeof t=="string"?e=t:(e=t.sql,n=t.args);const r=new YS(e);if(n)if(Array.isArray(n))r.bindIndexes(n);else for(const[s,i]of Object.entries(n))r.bindName(s,i);return r}function ou(t){const e=t.columnNames.map(a=>a??""),n=t.columnDecltypes.map(a=>a??""),r=t.rows,s=t.affectedRowCount,i=t.lastInsertRowid!==void 0?t.lastInsertRowid:void 0;return new Sd(e,n,r,s,i)}function Ne(t){if(t instanceof Ce){const e=CE(t);return new pe(t.message,e,void 0,t)}return t}function CE(t){return t instanceof BS&&t.code!==void 0?t.code:t instanceof de?"HRANA_PROTO_ERROR":t instanceof Qt?t.cause instanceof Ce?CE(t.cause):"HRANA_CLOSED_ERROR":t instanceof Nd?"HRANA_WEBSOCKET_ERROR":t instanceof Rc?"SERVER_ERROR":t instanceof Gi?"PROTOCOL_VERSION_ERROR":t instanceof jr?"INTERNAL_ERROR":"UNKNOWN"}var to,Sn;class zh{constructor(e,n){j(this,to);j(this,Sn);v(this,"capacity");E(this,to,e),E(this,Sn,new YV),this.capacity=n}apply(e){if(this.capacity<=0)return;const n=new Set;for(const r of e){if(typeof r.sql!="string")continue;const s=r.sql;if(s.length>=5e3)continue;let i=d(this,Sn).get(s);if(i===void 0){for(;d(this,Sn).size+1>this.capacity;){const[a,o]=d(this,Sn).peekLru();if(n.has(o))break;o.close(),d(this,Sn).delete(a)}d(this,Sn).size+1<=this.capacity&&(i=d(this,to).storeSql(s),d(this,Sn).set(s,i))}i!==void 0&&(r.sql=i,n.add(i))}}}to=new WeakMap,Sn=new WeakMap;var an;class YV{constructor(){j(this,an);E(this,an,new Map)}get(e){const n=d(this,an).get(e);return n!==void 0&&(d(this,an).delete(e),d(this,an).set(e,n)),n}set(e,n){d(this,an).set(e,n)}peekLru(){for(const e of d(this,an).entries())return e}delete(e){d(this,an).delete(e)}get size(){return d(this,an).size}}an=new WeakMap;function XV(t){var e=0,n=[];function r(){e--,e<t&&s()}function s(){var c=n.shift();o.queue=n.length,c&&a(c.fn).then(c.resolve).catch(c.reject)}function i(c){return new Promise(function(l,u){n.push({fn:c,resolve:l,reject:u}),o.queue=n.length})}function a(c){e++;try{return Promise.resolve(c()).then(function(l){return r(),l},function(l){throw r(),l})}catch(l){return r(),Promise.reject(l)}}var o=function(c){return e>=t?i(c):a(c)};return o}function ZV(t,e){var n=!1,r=this;return Promise.all(t.map(function(){var s=arguments;return r(function(){if(!n)return e.apply(void 0,s).catch(function(i){throw n=!0,i})})}))}function tv(t){return t.queue=0,t.map=ZV,t}var e4=function(t){return tv(t?XV(t):function(e){return e()})};const NE=nr(e4);function t4(t){if(t.scheme!=="wss"&&t.scheme!=="ws")throw new pe(`The WebSocket client supports only "libsql:", "wss:" and "ws:" URLs, got ${JSON.stringify(t.scheme+":")}. For more information, please read ${Bi}`,"URL_SCHEME_NOT_SUPPORTED");if(t.encryptionKey!==void 0)throw new pe("Encryption key is not supported by the remote client.","ENCRYPTION_KEY_NOT_SUPPORTED");if(t.scheme==="ws"&&t.tls)throw new pe('A "ws:" URL cannot opt into TLS by using ?tls=1',"URL_INVALID");if(t.scheme==="wss"&&!t.tls)throw new pe('A "wss:" URL cannot opt out of TLS by using ?tls=0',"URL_INVALID");const e=wd(t.scheme,t.authority,t.path);let n;try{n=TE(e,t.authToken)}catch(r){if(r instanceof DS){const s=t.scheme==="wss"?"https":"http",i=wd(s,t.authority,t.path);throw new pe(`This environment does not support WebSockets, please switch to the HTTP client by using a "${s}:" URL (${JSON.stringify(i)}). For more information, please read ${Bi}`,"WEBSOCKETS_NOT_SUPPORTED")}throw Ne(r)}return new r4(n,e,t.authToken,t.intMode,t.concurrency)}const n4=60*1e3,nv=100;var no,ro,so,ze,it,Kd,io,Mt,Zs,Ia;class r4{constructor(e,n,r,s,i){j(this,Mt);j(this,no);j(this,ro);j(this,so);j(this,ze);j(this,it);v(this,"closed");v(this,"protocol");j(this,Kd);j(this,io);E(this,no,n),E(this,ro,r),E(this,so,s),E(this,ze,P(this,Mt,Ia).call(this,e)),E(this,it,void 0),this.closed=!1,this.protocol="ws",E(this,io,NE(i))}async limit(e){return d(this,io).call(this,e)}async execute(e,n){let r;return typeof e=="string"?r={sql:e,args:n||[]}:r=e,this.limit(async()=>{const s=await P(this,Mt,Zs).call(this);try{const i=Es(r);s.conn.sqlCache.apply([i]);const a=s.stream.query(i);s.stream.closeGracefully();const o=await a;return ou(o)}catch(i){throw Ne(i)}finally{this._closeStream(s)}})}async batch(e,n="deferred"){return this.limit(async()=>{const r=await P(this,Mt,Zs).call(this);try{const i=e.map(u=>Array.isArray(u)?{sql:u[0],args:u[1]||[]}:u).map(Es),a=await r.conn.client.getVersion();r.conn.sqlCache.apply(i);const o=r.stream.batch(a>=3);return await al(n,a,o,i)}catch(s){throw Ne(s)}finally{this._closeStream(r)}})}async migrate(e){return this.limit(async()=>{const n=await P(this,Mt,Zs).call(this);try{const r=e.map(Es),s=await n.conn.client.getVersion(),i=n.stream.batch(s>=3);return await al("deferred",s,i,r,!0)}catch(r){throw Ne(r)}finally{this._closeStream(n)}})}async transaction(e="write"){return this.limit(async()=>{const n=await P(this,Mt,Zs).call(this);try{const r=await n.conn.client.getVersion();return new s4(this,n,e,r)}catch(r){throw this._closeStream(n),Ne(r)}})}async executeMultiple(e){return this.limit(async()=>{const n=await P(this,Mt,Zs).call(this);try{const r=n.stream.sequence(e);n.stream.closeGracefully(),await r}catch(r){throw Ne(r)}finally{this._closeStream(n)}})}sync(){throw new pe("sync not supported in ws mode","SYNC_NOT_SUPPORTED")}async reconnect(){try{for(const r of Array.from(d(this,ze).streamStates))try{r.stream.close()}catch{}d(this,ze).client.close()}catch{}if(d(this,it)){try{d(this,it).client.close()}catch{}E(this,it,void 0)}const e=P(this,Mt,Ia).call(this),n=await e.client.getVersion();e.useSqlCache=n>=2,e.useSqlCache&&(e.sqlCache.capacity=nv),E(this,ze,e),this.closed=!1}_closeStream(e){e.stream.close();const n=e.conn;n.streamStates.delete(e),n.streamStates.size===0&&n!==d(this,ze)&&n.client.close()}close(){if(d(this,ze).client.close(),this.closed=!0,d(this,it)){try{d(this,it).client.close()}catch{}E(this,it,void 0)}this.closed=!0}}no=new WeakMap,ro=new WeakMap,so=new WeakMap,ze=new WeakMap,it=new WeakMap,Kd=new WeakMap,io=new WeakMap,Mt=new WeakSet,Zs=async function(){if(this.closed)throw new pe("The client is closed","CLIENT_CLOSED");if(new Date().valueOf()-d(this,ze).openTime.valueOf()>n4&&d(this,it)===void 0){const s=P(this,Mt,Ia).call(this);E(this,it,s),s.client.getVersion().then(i=>{d(this,ze)!==s&&d(this,ze).streamStates.size===0&&d(this,ze).client.close(),E(this,ze,s),E(this,it,void 0)},i=>{E(this,it,void 0)})}if(d(this,ze).client.closed)try{d(this,it)!==void 0?E(this,ze,d(this,it)):E(this,ze,P(this,Mt,Ia).call(this))}catch(s){throw Ne(s)}const r=d(this,ze);try{r.useSqlCache===void 0&&(r.useSqlCache=await r.client.getVersion()>=2,r.useSqlCache&&(r.sqlCache.capacity=nv));const s=r.client.openStream();s.intMode=d(this,so);const i={conn:r,stream:s};return r.streamStates.add(i),i}catch(s){throw Ne(s)}},Ia=function(e){try{return e??(e=TE(d(this,no),d(this,ro))),{client:e,useSqlCache:void 0,sqlCache:new zh(e,0),openTime:new Date,streamStates:new Set}}catch(n){throw Ne(n)}};var ao,Or;class s4 extends OE{constructor(n,r,s,i){super(s,i);j(this,ao);j(this,Or);E(this,ao,n),E(this,Or,r)}_getStream(){return d(this,Or).stream}_getSqlCache(){return d(this,Or).conn.sqlCache}close(){d(this,ao)._closeStream(d(this,Or))}get closed(){return d(this,Or).stream.closed}}ao=new WeakMap,Or=new WeakMap;function i4(t){if(t.scheme!=="https"&&t.scheme!=="http")throw new pe(`The HTTP client supports only "libsql:", "https:" and "http:" URLs, got ${JSON.stringify(t.scheme+":")}. For more information, please read ${Bi}`,"URL_SCHEME_NOT_SUPPORTED");if(t.encryptionKey!==void 0)throw new pe("Encryption key is not supported by the remote client.","ENCRYPTION_KEY_NOT_SUPPORTED");if(t.scheme==="http"&&t.tls)throw new pe('A "http:" URL cannot opt into TLS by using ?tls=1',"URL_INVALID");if(t.scheme==="https"&&!t.tls)throw new pe('A "https:" URL cannot opt out of TLS by using ?tls=0',"URL_INVALID");const e=wd(t.scheme,t.authority,t.path);return new a4(e,t.authToken,t.intMode,t.fetch,t.concurrency)}const AE=30;var Ve,Ii,Pi,ki,oo,ji,co;class a4{constructor(e,n,r,s,i){j(this,Ve);v(this,"protocol");j(this,Ii);j(this,Pi);j(this,ki);j(this,oo);j(this,ji);j(this,co);E(this,Ii,e),E(this,ji,n),E(this,Pi,r),E(this,ki,s),E(this,oo,i),E(this,Ve,ev(d(this,Ii),d(this,ji),d(this,ki))),d(this,Ve).intMode=d(this,Pi),this.protocol="http",E(this,co,NE(d(this,oo)))}async limit(e){return d(this,co).call(this,e)}async execute(e,n){let r;return typeof e=="string"?r={sql:e,args:n||[]}:r=e,this.limit(async()=>{try{const s=Es(r);let i;const a=d(this,Ve).openStream();try{i=a.query(s)}finally{a.closeGracefully()}const o=await i;return ou(o)}catch(s){throw Ne(s)}})}async batch(e,n="deferred"){return this.limit(async()=>{try{const s=e.map(l=>Array.isArray(l)?{sql:l[0],args:l[1]||[]}:l).map(Es),i=await d(this,Ve).getVersion();let a;const o=d(this,Ve).openStream();try{new zh(o,AE).apply(s);const u=o.batch(!1);a=al(n,i,u,s)}finally{o.closeGracefully()}return await a}catch(r){throw Ne(r)}})}async migrate(e){return this.limit(async()=>{try{const n=e.map(Es),r=await d(this,Ve).getVersion();let s;const i=d(this,Ve).openStream();try{const o=i.batch(!1);s=al("deferred",r,o,n,!0)}finally{i.closeGracefully()}return await s}catch(n){throw Ne(n)}})}async transaction(e="write"){return this.limit(async()=>{try{const n=await d(this,Ve).getVersion();return new o4(d(this,Ve).openStream(),e,n)}catch(n){throw Ne(n)}})}async executeMultiple(e){return this.limit(async()=>{try{let n;const r=d(this,Ve).openStream();try{n=r.sequence(e)}finally{r.closeGracefully()}await n}catch(n){throw Ne(n)}})}sync(){throw new pe("sync not supported in http mode","SYNC_NOT_SUPPORTED")}close(){d(this,Ve).close()}async reconnect(){try{this.closed||d(this,Ve).close()}finally{E(this,Ve,ev(d(this,Ii),d(this,ji),d(this,ki))),d(this,Ve).intMode=d(this,Pi)}}get closed(){return d(this,Ve).closed}}Ve=new WeakMap,Ii=new WeakMap,Pi=new WeakMap,ki=new WeakMap,oo=new WeakMap,ji=new WeakMap,co=new WeakMap;var gs,lo;class o4 extends OE{constructor(n,r,s){super(r,s);j(this,gs);j(this,lo);E(this,gs,n),E(this,lo,new zh(n,AE))}_getStream(){return d(this,gs)}_getSqlCache(){return d(this,lo)}close(){d(this,gs).close()}get closed(){return d(this,gs).closed}}gs=new WeakMap,lo=new WeakMap;function Ac(t){return c4(TB(t))}function c4(t){return t.scheme==="wss"||t.scheme==="ws"?t4(t):t.scheme==="https"||t.scheme==="http"?i4(t):kD(t)}var hw;hw=B;class IE{write(e){console.log(e)}}v(IE,hw,"ConsoleLogWriter");var mw;mw=B;class PE{constructor(e){v(this,"writer");this.writer=(e==null?void 0:e.writer)??new IE}logQuery(e,n){const r=n.map(i=>{try{return JSON.stringify(i)}catch{return String(i)}}),s=r.length?` -- params: [${r.join(", ")}]`:"";this.writer.write(`Query: ${e}${s}`)}}v(PE,mw,"DefaultLogger");var yw;yw=B;class kE{logQuery(){}}v(kE,yw,"NoopLogger");var gw,vw;const ml=class ml extends(vw=nS,gw=B,vw){constructor(n,r,s,i,a){super(r);v(this,"logger");v(this,"cache");this.client=n,this.schema=s,this.options=i,this.tx=a,this.logger=i.logger??new kE,this.cache=i.cache??new Ah}prepareQuery(n,r,s,i,a,o,c){return new jE(this.client,n,this.logger,this.cache,o,c,r,this.tx,s,i,a)}async batch(n){const r=[],s=[];for(const a of n){const o=a._prepare(),c=o.getQuery();r.push(o),s.push({sql:c.sql,args:c.params})}return(await this.client.batch(s)).map((a,o)=>r[o].mapResult(a,!0))}async migrate(n){const r=[],s=[];for(const a of n){const o=a._prepare(),c=o.getQuery();r.push(o),s.push({sql:c.sql,args:c.params})}return(await this.client.migrate(s)).map((a,o)=>r[o].mapResult(a,!0))}async transaction(n,r){const s=await this.client.transaction(),i=new ml(this.client,this.dialect,this.schema,this.options,s),a=new Hd("async",this.dialect,i,this.schema);try{const o=await n(a);return await s.commit(),o}catch(o){throw await s.rollback(),o}}extractRawAllValueFromBatchResult(n){return n.rows}extractRawGetValueFromBatchResult(n){return n.rows[0]}extractRawValuesValueFromBatchResult(n){return n.rows}};v(ml,gw,"LibSQLSession");let Gd=ml;var bw,xw;const yl=class yl extends(xw=rS,bw=B,xw){async transaction(e){const n=`sp${this.nestedIndex}`,r=new yl("async",this.dialect,this.session,this.schema,this.nestedIndex+1);await this.session.run(O.raw(`savepoint ${n}`));try{const s=await e(r);return await this.session.run(O.raw(`release savepoint ${n}`)),s}catch(s){throw await this.session.run(O.raw(`rollback to savepoint ${n}`)),s}}};v(yl,bw,"LibSQLTransaction");let Hd=yl;var ww,_w;class jE extends(_w=tS,ww=B,_w){constructor(e,n,r,s,i,a,o,c,l,u,p){super("async",l,n,s,i,a),this.client=e,this.logger=r,this.fields=o,this.tx=c,this._isResponseInArrayMode=u,this.customResultMapper=p,this.customResultMapper=p,this.fields=o}async run(e){const n=nc(this.query.params,e??{});return this.logger.logQuery(this.query.sql,n),await this.queryWithCache(this.query.sql,n,async()=>{const r={sql:this.query.sql,args:n};return this.tx?this.tx.execute(r):this.client.execute(r)})}async all(e){const{fields:n,logger:r,query:s,tx:i,client:a,customResultMapper:o}=this;if(!n&&!o){const l=nc(s.params,e??{});return r.logQuery(s.sql,l),await this.queryWithCache(s.sql,l,async()=>{const u={sql:s.sql,args:l};return(i?i.execute(u):a.execute(u)).then(({rows:p})=>this.mapAllResult(p))})}const c=await this.values(e);return this.mapAllResult(c)}mapAllResult(e,n){return n&&(e=e.rows),!this.fields&&!this.customResultMapper?e.map(r=>rv(r)):this.customResultMapper?this.customResultMapper(e,uc):e.map(r=>hg(this.fields,Array.prototype.slice.call(r).map(s=>uc(s)),this.joinsNotNullableMap))}async get(e){const{fields:n,logger:r,query:s,tx:i,client:a,customResultMapper:o}=this;if(!n&&!o){const l=nc(s.params,e??{});return r.logQuery(s.sql,l),await this.queryWithCache(s.sql,l,async()=>{const u={sql:s.sql,args:l};return(i?i.execute(u):a.execute(u)).then(({rows:p})=>this.mapGetResult(p))})}const c=await this.values(e);return this.mapGetResult(c)}mapGetResult(e,n){n&&(e=e.rows);const r=e[0];if(!this.fields&&!this.customResultMapper)return rv(r);if(r)return this.customResultMapper?this.customResultMapper(e,uc):hg(this.fields,Array.prototype.slice.call(r).map(s=>uc(s)),this.joinsNotNullableMap)}async values(e){const n=nc(this.query.params,e??{});return this.logger.logQuery(this.query.sql,n),await this.queryWithCache(this.query.sql,n,async()=>{const r={sql:this.query.sql,args:n};return(this.tx?this.tx.execute(r):this.client.execute(r)).then(({rows:s})=>s)})}isResponseInArrayMode(){return this._isResponseInArrayMode}}v(jE,ww,"LibSQLPreparedQuery");function rv(t){return Object.keys(t).reduce((e,n)=>(Object.prototype.propertyIsEnumerable.call(t,n)&&(e[n]=t[n]),e),{})}function uc(t){if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer){if(typeof Buffer<"u")return t instanceof Buffer?t:Buffer.from(t);if(typeof TextDecoder<"u")return new TextDecoder().decode(t);throw new Error("TextDecoder is not available. Please provide either Buffer or TextDecoder polyfill.")}return t}var $w,Sw;class LE extends(Sw=Nh,$w=B,Sw){async batch(e){return this.session.batch(e)}}v(LE,$w,"LibSQLDatabase");function Pa(t,e={}){var o;const n=new W$({casing:e.casing});let r;e.logger===!0?r=new PE:e.logger!==!1&&(r=e.logger);let s;if(e.schema){const c=WU(e.schema,XU);s={fullSchema:e.schema,schema:c.tables,tableNamesMap:c.tableNamesMap}}const i=new Gd(t,n,s,{logger:r,cache:e.cache},void 0),a=new LE("async",n,i,s);return a.$client=t,a.$cache=e.cache,a.$cache&&(a.$cache.invalidate=(o=e.cache)==null?void 0:o.onMutate),a}function Qd(...t){if(typeof t[0]=="string"){const e=Ac({url:t[0]});return Pa(e,t[1])}if(gU(t[0])){const{connection:e,client:n,...r}=t[0];if(n)return Pa(n,r);const s=Ac(typeof e=="string"?{url:e}:e);return Pa(s,r)}return Pa(t[0],t[1])}(t=>{function e(n){return Pa({},n)}t.mock=e})(Qd||(Qd={}));let ol;function l4(){const t=qr.join(ke.app.getPath("userData"),"database.sqlite"),e=WE.pathToFileURL(t).toString(),n=rm.existsSync(t);n||rm.writeFileSync(t,"");const r=Ac({url:e,offline:!0});return ol=Qd(r,{schema:iB}),n||(console.log("Первый запуск — создаём таблицы..."),u4()),ol}function u4(){try{const t=qr.join(__dirname,"db","drizzle");gl.execSync(`npx drizzle-kit push --migrations=${t}`,{stdio:"inherit"}),console.log("Миграции применены успешно")}catch(t){console.error("Ошибка при применении миграций:",t)}}function er(){if(!ol)throw new Error("База данных не инициализирована");return ol}async function qE(t){return er().select().from(kr).where(So(kr.id,t)).limit(1).then(e=>e[0])}function ME(t,e,n){const r=n.find(i=>i.categoryId.toString()===t);if(r)return r;const s=e.find(i=>i.id.toString()===t);return s.parentId?ME(s.parentId,e,n):null}function p4(t,e,n,r,s){const i=[];for(const a of t){if(s&&s.length>0){const o=s.find(c=>c.offerId===a.id);if(o){o.isApplied&&i.push({offerId:a.id,newPrice:o.newPrice,oldPrice:a.oldPrice!==0?o.newPrice+(a.oldPrice-a.price):null});continue}}if(r&&r.length>0){const o=ME(a.categoryId,e,r);if(o){if(o.isApplied){const c=Math.round(a.price*(1+o.markupPercentage/100));i.push({offerId:a.id,newPrice:c,oldPrice:a.oldPrice!==0?c+(a.oldPrice-a.price):null})}continue}}if(n){const o=Math.round(a.price*(1+n.markupPercentage/100));o>=o+(a.oldPrice-a.price)&&console.log({newPrice:o,offerPrice:a.price,markup:n.markupPercentage,oldPrice:a.oldPrice,newOldPrice:a.oldPrice!==0?o+(a.oldPrice-a.price):null}),i.push({offerId:a.id,newPrice:o,oldPrice:a.oldPrice!==0?o+(a.oldPrice-a.price):null})}}return i}async function d4(t){return er().select().from(Kc).where(So(Kc.changesGroupId,t))}function cl(t,e,n,r){return er().insert(Jc).values({changesGroupId:t,status:e,type:n,numberOfSuccessfullyChangedOffers:r,createdAt:new Date().toISOString()})}async function f4(t,e,n){const[{changesGroupId:r}]=await er().insert(kr).values({catalogUrls:t,numberOfAllOffers:e}).returning({changesGroupId:kr.id});return await er().insert(Kc).values(n.map(s=>({...s,changesGroupId:r}))),r}async function h4(t=1,e=10){return er().select().from(Jc).orderBy(G$(Jc.createdAt)).limit(e).offset((t-1)*e)}var FE={},cu={},lu={},To={},m4=$e&&$e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(To,"__esModule",{value:!0});To.createID=g4;const y4=m4(ur);function g4(t="",e=16){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=y4.default.randomBytes(e),s=Array.from(r,i=>n[i%n.length]).join("");return t?`${t}-${s}`:s}var Oo={};Object.defineProperty(Oo,"__esModule",{value:!0});const v4={INFO:"\x1B[36m",WARN:"\x1B[33m",ERROR:"\x1B[31m",DEBUG:"\x1B[35m"},sv="\x1B[32m",b4="\x1B[0m";function Hs(t,e,n){const r=new Date().toISOString(),s=v4[t]??"",a=`${`[${r}] [PID: ${process.pid}] ${sv}[NODE-CRON]${sv} ${s}[${t}]${b4}`} ${e}`;switch(t){case"ERROR":console.error(a,n??"");break;case"DEBUG":console.debug(a,n??"");break;case"WARN":console.warn(a);break;case"INFO":default:console.info(a);break}}const x4={info(t){Hs("INFO",t)},warn(t){Hs("WARN",t)},error(t,e){t instanceof Error?Hs("ERROR",t.message,t):Hs("ERROR",t,e)},debug(t,e){t instanceof Error?Hs("DEBUG",t.message,t):Hs("DEBUG",t,e)}};Oo.default=x4;var uu={};Object.defineProperty(uu,"__esModule",{value:!0});uu.TrackedPromise=void 0;class w4{constructor(e){v(this,"promise");v(this,"error");v(this,"state");v(this,"value");this.state="pending",this.promise=new Promise((n,r)=>{e(s=>{this.state="fulfilled",this.value=s,n(s)},s=>{this.state="rejected",this.error=s,r(s)})})}getPromise(){return this.promise}getState(){return this.state}isPending(){return this.state==="pending"}isFulfilled(){return this.state==="fulfilled"}isRejected(){return this.state==="rejected"}getValue(){return this.value}getError(){return this.error}then(e,n){return this.promise.then(e,n)}catch(e){return this.promise.catch(e)}finally(e){return this.promise.finally(e)}}uu.TrackedPromise=w4;var _4=$e&&$e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(lu,"__esModule",{value:!0});lu.Runner=void 0;const iv=To,Wd=_4(Oo),$4=uu;function jp(){}function av(){return!0}function Lp(t,e){Wd.default.error("Task failed with error!",e)}class S4{constructor(e,n,r){v(this,"timeMatcher");v(this,"onMatch");v(this,"noOverlap");v(this,"maxExecutions");v(this,"maxRandomDelay");v(this,"runCount");v(this,"running");v(this,"heartBeatTimeout");v(this,"onMissedExecution");v(this,"onOverlap");v(this,"onError");v(this,"beforeRun");v(this,"onFinished");v(this,"onMaxExecutions");this.timeMatcher=e,this.onMatch=n,this.noOverlap=r==null||r.noOverlap===void 0?!1:r.noOverlap,this.maxExecutions=r==null?void 0:r.maxExecutions,this.maxRandomDelay=(r==null?void 0:r.maxRandomDelay)||0,this.onMissedExecution=(r==null?void 0:r.onMissedExecution)||jp,this.onOverlap=(r==null?void 0:r.onOverlap)||jp,this.onError=(r==null?void 0:r.onError)||Lp,this.onFinished=(r==null?void 0:r.onFinished)||av,this.beforeRun=(r==null?void 0:r.beforeRun)||av,this.onMaxExecutions=(r==null?void 0:r.onMaxExecutions)||jp,this.runCount=0,this.running=!1}start(){this.running=!0;let e,n;const r=o=>{this.running&&(clearTimeout(this.heartBeatTimeout),this.heartBeatTimeout=setTimeout(a,cv(this.timeMatcher,o)))},s=o=>new Promise(async c=>{const l={id:(0,iv.createID)("exec"),reason:"scheduled"},u=await this.beforeRun(o,l),p=Math.floor(Math.random()*this.maxRandomDelay);u&&setTimeout(async()=>{try{this.runCount++,l.startedAt=new Date;const h=await this.onMatch(o,l);l.finishedAt=new Date,l.result=h,this.onFinished(o,l),this.maxExecutions&&this.runCount>=this.maxExecutions&&(this.onMaxExecutions(o),this.stop())}catch(h){l.finishedAt=new Date,l.error=h,this.onError(o,h,l)}c(!0)},p)}),i=o=>new $4.TrackedPromise(async(c,l)=>{try{this.timeMatcher.match(o)&&await s(o),c(!0)}catch(u){l(u)}}),a=async()=>{const o=lv();if(n&&n.getTime()<o.getTime())for(;n.getTime()<o.getTime();)Wd.default.warn(`missed execution at ${n}! Possible blocking IO or high CPU user at the same process used by node-cron.`),n=this.timeMatcher.getNextMatch(n),ov(this.onMissedExecution,n,Lp);if(e&&e.getState()==="pending"&&(ov(this.onOverlap,o,Lp),this.noOverlap)){Wd.default.warn("task still running, new execution blocked by overlap prevention!"),n=this.timeMatcher.getNextMatch(o),r(o);return}e=i(o),n=this.timeMatcher.getNextMatch(o),r(o)};this.heartBeatTimeout=setTimeout(()=>{a()},cv(this.timeMatcher,lv()))}nextRun(){return this.timeMatcher.getNextMatch(new Date)}stop(){this.running=!1,this.heartBeatTimeout&&(clearTimeout(this.heartBeatTimeout),this.heartBeatTimeout=void 0)}isStarted(){return!!this.heartBeatTimeout&&this.running}isStopped(){return!this.isStarted()}async execute(){const e=new Date,n={id:(0,iv.createID)("exec"),reason:"invoked"};try{if(await this.beforeRun(e,n)){this.runCount++,n.startedAt=new Date;const s=await this.onMatch(e,n);n.finishedAt=new Date,n.result=s,this.onFinished(e,n)}}catch(r){n.finishedAt=new Date,n.error=r,this.onError(e,r,n)}}}lu.Runner=S4;async function ov(t,e,n){try{await t(e)}catch(r){n(e,r)}}function cv(t,e){const r=t.getNextMatch(e),s=new Date,i=r.getTime()-s.getTime();return i>864e5?864e5:Math.max(0,i)}function lv(){const t=new Date;return t.setMilliseconds(0),t}var xa={},Co={},Vh={};Object.defineProperty(Vh,"__esModule",{value:!0});Vh.default=(()=>{const t=["january","february","march","april","may","june","july","august","september","october","november","december"],e=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"];function n(s,i){for(let a=0;a<i.length;a++)s=s.replace(new RegExp(i[a],"gi"),a+1);return s}function r(s){return s=n(s,t),s=n(s,e),s}return r})();var No={};Object.defineProperty(No,"__esModule",{value:!0});No.default=(()=>{const t=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],e=["sun","mon","tue","wed","thu","fri","sat"];function n(s,i){for(let a=0;a<i.length;a++)s=s.replace(new RegExp(i[a],"gi"),a);return s}function r(s){return s=s.replace("7","0"),s=n(s,t),n(s,e)}return r})();var Gh={};Object.defineProperty(Gh,"__esModule",{value:!0});Gh.default=(()=>{function t(n,r){return n.indexOf("*")!==-1?n.replace("*",r):n}function e(n){return n[0]=t(n[0],"0-59"),n[1]=t(n[1],"0-59"),n[2]=t(n[2],"0-23"),n[3]=t(n[3],"1-31"),n[4]=t(n[4],"1-12"),n[5]=t(n[5],"0-6"),n}return e})();var Hh={};Object.defineProperty(Hh,"__esModule",{value:!0});Hh.default=(()=>{function t(r,s,i,a,o){const c=parseInt(o),l=[];let u=parseInt(a),p=parseInt(i);p>u&&(u=parseInt(i),p=parseInt(a));for(let h=p;h<=u;h+=c)l.push(h);return r.replace(new RegExp(s,"i"),l.join())}function e(r){const s=/(\d+)-(\d+)(\/(\d+)|)/;let i=s.exec(r);for(;i!==null&&i.length>0;)r=t(r,i[0],i[1],i[2],i[4]||"1"),i=s.exec(r);return r}function n(r){for(let s=0;s<r.length;s++)r[s]=e(r[s]);return r}return n})();var pu=$e&&$e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Co,"__esModule",{value:!0});const E4=pu(Vh),R4=pu(No),T4=pu(Gh),O4=pu(Hh);Co.default=(()=>{function t(s){return s.length===5?["0"].concat(s):s}function e(s){return s.replace(/\s{2,}/g," ").trim()}function n(s){for(let i=0;i<s.length;i++){const a=s[i].split(",");for(let o=0;o<a.length;o++)a[o]=parseInt(a[o]);s[i]=a}return s}function r(s){let i=e(`${s}`).split(" ");return i=t(i),i[4]=(0,E4.default)(i[4]),i[5]=(0,R4.default)(i[5]),i=(0,T4.default)(i),i=(0,O4.default)(i),i=n(i),i}return r})();var qs={};Object.defineProperty(qs,"__esModule",{value:!0});qs.LocalizedTime=void 0;class C4{constructor(e,n){v(this,"timestamp");v(this,"parts");v(this,"timezone");this.timestamp=e.getTime(),this.timezone=n,this.parts=uv(e,n)}toDate(){return new Date(this.timestamp)}toISO(){const e=this.parts.gmt.replace(/^GMT/,""),n=e||"Z",r=s=>String(s).padStart(2,"0");return`${this.parts.year}-${r(this.parts.month)}-${r(this.parts.day)}T${r(this.parts.hour)}:${r(this.parts.minute)}:${r(this.parts.second)}.${String(this.parts.milisecond).padStart(3,"0")}`+n}getParts(){return this.parts}set(e,n){this.parts[e]=n;const r=new Date(this.toISO());this.timestamp=r.getTime(),this.parts=uv(r,this.timezone)}}qs.LocalizedTime=C4;function uv(t,e){const n={year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",hour12:!1};e&&(n.timeZone=e);const s=new Intl.DateTimeFormat("en-US",n).formatToParts(t).filter(i=>i.type!=="literal").reduce((i,a)=>(i[a.type]=a.value,i),{});return{day:parseInt(s.day),month:parseInt(s.month),year:parseInt(s.year),hour:s.hour==="24"?0:parseInt(s.hour),minute:parseInt(s.minute),second:parseInt(s.second),milisecond:t.getMilliseconds(),weekday:s.weekday,gmt:N4(t,e)}}function N4(t,e){const n=new Date(t.toLocaleString("en-US",{timeZone:"UTC"})),r=new Date(t.toLocaleString("en-US",{timeZone:e}));let s=(n.getTime()-r.getTime())/6e4;const i=s<=0?"+":"-";if(s=Math.abs(s),s===0)return"Z";const a=Math.floor(s/60).toString().padStart(2,"0"),o=Math.floor(s%60).toString().padStart(2,"0");return`GMT${i}${a}:${o}`}var wa={},pv;function A4(){if(pv)return wa;pv=1;var t=$e&&$e.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(wa,"__esModule",{value:!0}),wa.MatcherWalker=void 0;const e=t(Co),n=qs,r=Qh(),s=t(No);class i{constructor(c,l,u){v(this,"cronExpression");v(this,"baseDate");v(this,"pattern");v(this,"expressions");v(this,"timeMatcher");v(this,"timezone");this.cronExpression=c,this.baseDate=l,this.timeMatcher=new r.TimeMatcher(c,u),this.timezone=u,this.expressions=(0,e.default)(c)}isMatching(){return this.timeMatcher.match(this.baseDate)}matchNext(){const l=(()=>{const h=new Date(this.baseDate.getTime());h.setMilliseconds(0);const y=new n.LocalizedTime(h,this.timezone),f=y.getParts(),m=new n.LocalizedTime(y.toDate(),this.timezone),g=this.expressions[0],b=a(g,f.second);if(b&&(m.set("second",b),this.timeMatcher.match(m.toDate())))return m;m.set("second",g[0]);const _=this.expressions[1],S=a(_,f.minute);if(S&&(m.set("minute",S),this.timeMatcher.match(m.toDate())))return m;m.set("minute",_[0]);const C=this.expressions[2],L=a(C,f.hour);if(L&&(m.set("hour",L),this.timeMatcher.match(m.toDate())))return m;m.set("hour",C[0]);const K=this.expressions[3],D=a(K,f.day);if(D&&(m.set("day",D),this.timeMatcher.match(m.toDate())))return m;m.set("day",K[0]);const Z=this.expressions[4],se=a(Z,f.month);return se&&(m.set("month",se),this.timeMatcher.match(m.toDate()))||(m.set("year",m.getParts().year+1),m.set("month",Z[0])),m})(),u=this.expressions[5];let p=parseInt((0,s.default)(l.getParts().weekday));for(;!(u.indexOf(p)>-1);)l.set("year",l.getParts().year+1),p=parseInt((0,s.default)(l.getParts().weekday));return l}}wa.MatcherWalker=i;function a(o,c){const l=o.sort((u,p)=>u-p).filter(u=>u>c);return l.length>0?l[0]:!1}return wa}var dv;function Qh(){if(dv)return xa;dv=1;var t=$e&&$e.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(xa,"__esModule",{value:!0}),xa.TimeMatcher=void 0;const e=t(Co),n=t(No),r=qs,s=A4();function i(o,c){return o.indexOf(c)!==-1}class a{constructor(c,l){v(this,"timezone");v(this,"pattern");v(this,"expressions");this.timezone=l,this.pattern=c,this.expressions=(0,e.default)(c)}match(c){const u=new r.LocalizedTime(c,this.timezone).getParts(),p=i(this.expressions[0],u.second),h=i(this.expressions[1],u.minute),y=i(this.expressions[2],u.hour),f=i(this.expressions[3],u.day),m=i(this.expressions[4],u.month),g=i(this.expressions[5],parseInt((0,n.default)(u.weekday)));return p&&h&&y&&f&&m&&g}getNextMatch(c){return new s.MatcherWalker(this.pattern,c,this.timezone).matchNext().toDate()}}return xa.TimeMatcher=a,xa}var Ao={};Object.defineProperty(Ao,"__esModule",{value:!0});Ao.StateMachine=void 0;const I4={stopped:["stopped","idle","destroyed"],idle:["idle","running","stopped","destroyed"],running:["running","idle","stopped","destroyed"],destroyed:["destroyed"]};class P4{constructor(e="stopped"){v(this,"state");this.state=e}changeState(e){if(I4[this.state].includes(e))this.state=e;else throw new Error(`invalid transition from ${this.state} to ${e}`)}}Ao.StateMachine=P4;var UE=$e&&$e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(cu,"__esModule",{value:!0});cu.InlineScheduledTask=void 0;const k4=UE(Yd),j4=lu,L4=Qh(),q4=To,M4=Ao,F4=UE(Oo),U4=qs;let B4=class extends k4.default{};class D4{constructor(e,n,r){v(this,"emitter");v(this,"cronExpression");v(this,"timeMatcher");v(this,"runner");v(this,"id");v(this,"name");v(this,"stateMachine");v(this,"timezone");this.emitter=new B4,this.cronExpression=e,this.id=(0,q4.createID)("task",12),this.name=(r==null?void 0:r.name)||this.id,this.timezone=r==null?void 0:r.timezone,this.timeMatcher=new L4.TimeMatcher(e,r==null?void 0:r.timezone),this.stateMachine=new M4.StateMachine;const s={timezone:r==null?void 0:r.timezone,noOverlap:r==null?void 0:r.noOverlap,maxExecutions:r==null?void 0:r.maxExecutions,maxRandomDelay:r==null?void 0:r.maxRandomDelay,beforeRun:(i,a)=>(a.reason==="scheduled"&&this.changeState("running"),this.emitter.emit("execution:started",this.createContext(i,a)),!0),onFinished:(i,a)=>(a.reason==="scheduled"&&this.changeState("idle"),this.emitter.emit("execution:finished",this.createContext(i,a)),!0),onError:(i,a,o)=>{F4.default.error(a),this.emitter.emit("execution:failed",this.createContext(i,o)),this.changeState("idle")},onOverlap:i=>{this.emitter.emit("execution:overlap",this.createContext(i))},onMissedExecution:i=>{this.emitter.emit("execution:missed",this.createContext(i))},onMaxExecutions:i=>{this.emitter.emit("execution:maxReached",this.createContext(i)),this.destroy()}};this.runner=new j4.Runner(this.timeMatcher,(i,a)=>n(this.createContext(i,a)),s)}getNextRun(){return this.stateMachine.state!=="stopped"?this.runner.nextRun():null}changeState(e){this.runner.isStarted()&&this.stateMachine.changeState(e)}start(){this.runner.isStopped()&&(this.runner.start(),this.stateMachine.changeState("idle"),this.emitter.emit("task:started",this.createContext(new Date)))}stop(){this.runner.isStarted()&&(this.runner.stop(),this.stateMachine.changeState("stopped"),this.emitter.emit("task:stopped",this.createContext(new Date)))}getStatus(){return this.stateMachine.state}destroy(){this.stateMachine.state!=="destroyed"&&(this.stop(),this.stateMachine.changeState("destroyed"),this.emitter.emit("task:destroyed",this.createContext(new Date)))}execute(){return new Promise((e,n)=>{const r=i=>{var a;this.off("execution:finished",r),n((a=i.execution)==null?void 0:a.error)},s=i=>{var a;this.off("execution:failed",r),e((a=i.execution)==null?void 0:a.result)};this.once("execution:finished",s),this.once("execution:failed",r),this.runner.execute()})}on(e,n){this.emitter.on(e,n)}off(e,n){this.emitter.off(e,n)}once(e,n){this.emitter.once(e,n)}createContext(e,n){const r=new U4.LocalizedTime(e,this.timezone);return{date:r.toDate(),dateLocalIso:r.toISO(),triggeredAt:new Date,task:this,execution:n}}}cu.InlineScheduledTask=D4;var du={};Object.defineProperty(du,"__esModule",{value:!0});du.TaskRegistry=void 0;const Qs=new Map;class z4{add(e){if(this.has(e.id))throw Error(`task ${e.id} already registred!`);Qs.set(e.id,e),e.on("task:destroyed",()=>{this.remove(e)})}get(e){return Qs.get(e)}remove(e){this.has(e.id)&&(e==null||e.destroy(),Qs.delete(e.id))}all(){return Qs}has(e){return Qs.has(e)}killAll(){Qs.forEach(e=>this.remove(e))}}du.TaskRegistry=z4;var Wh={},V4=$e&&$e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wh,"__esModule",{value:!0});const G4=V4(Co),H4=/^(?:\d+|\*|\*\/\d+)$/;function oa(t,e,n){const r=t;for(const s of r){const i=parseInt(s,10);if(!Number.isNaN(i)&&(i<e||i>n)||!H4.test(s))return!1}return!0}function Q4(t){return!oa(t,0,59)}function W4(t){return!oa(t,0,59)}function K4(t){return!oa(t,0,23)}function J4(t){return!oa(t,1,31)}function Y4(t){return!oa(t,1,12)}function X4(t){return!oa(t,0,7)}function Z4(t,e){if(Q4(e[0]))throw new Error(`${t[0]} is a invalid expression for second`);if(W4(e[1]))throw new Error(`${t[1]} is a invalid expression for minute`);if(K4(e[2]))throw new Error(`${t[2]} is a invalid expression for hour`);if(J4(e[3]))throw new Error(`${t[3]} is a invalid expression for day of month`);if(Y4(e[4]))throw new Error(`${t[4]} is a invalid expression for month`);if(X4(e[5]))throw new Error(`${t[5]} is a invalid expression for week day`)}function e6(t){if(typeof t!="string")throw new TypeError("pattern must be a string!");const e=t.split(" "),n=(0,G4.default)(t);e.length===5&&e.unshift("0"),Z4(e,n)}Wh.default=e6;var Kh={},t6=$e&&$e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Kh,"__esModule",{value:!0});const n6=qr,r6=gl,s6=To,i6=Me,a6=Ao,o6=qs,c6=t6(Oo),l6=Qh(),u6=(0,n6.resolve)(__dirname,"daemon.js");class p6 extends i6.EventEmitter{}class d6{constructor(e,n,r){v(this,"emitter");v(this,"id");v(this,"name");v(this,"cronExpression");v(this,"taskPath");v(this,"options");v(this,"forkProcess");v(this,"stateMachine");this.cronExpression=e,this.taskPath=n,this.options=r,this.id=(0,s6.createID)("task"),this.name=(r==null?void 0:r.name)||this.id,this.emitter=new p6,this.stateMachine=new a6.StateMachine("stopped"),this.on("task:stopped",()=>{var s;(s=this.forkProcess)==null||s.kill(),this.forkProcess=void 0,this.stateMachine.changeState("stopped")}),this.on("task:destroyed",()=>{var s;(s=this.forkProcess)==null||s.kill(),this.forkProcess=void 0,this.stateMachine.changeState("destroyed")})}getNextRun(){var e;return this.stateMachine.state!=="stopped"?new l6.TimeMatcher(this.cronExpression,(e=this.options)==null?void 0:e.timezone).getNextMatch(new Date):null}start(){return new Promise((e,n)=>{if(this.forkProcess)return e(void 0);const r=setTimeout(()=>{n(new Error("Start operation timed out"))},5e3);try{this.forkProcess=(0,r6.fork)(u6),this.forkProcess.on("error",s=>{clearTimeout(r),n(new Error(`Error on daemon: ${s.message}`))}),this.forkProcess.on("exit",(s,i)=>{if(s!==0&&i!=="SIGTERM"){const a=new Error(`node-cron daemon exited with code ${s||i}`);c6.default.error(a),clearTimeout(r),n(a)}}),this.forkProcess.on("message",s=>{var i,a,o,c,l,u;if(s.jsonError&&(i=s.context)!=null&&i.execution&&(s.context.execution.error=f6(s.jsonError),delete s.jsonError),(o=(a=s.context)==null?void 0:a.task)!=null&&o.state&&this.stateMachine.changeState((l=(c=s.context)==null?void 0:c.task)==null?void 0:l.state),s.context){const p=(u=s.context)==null?void 0:u.execution;p==null||delete p.hasError;const h=this.createContext(new Date(s.context.date),p);this.emitter.emit(s.event,h)}}),this.once("task:started",()=>{this.stateMachine.changeState("idle"),clearTimeout(r),e(void 0)}),this.forkProcess.send({command:"task:start",path:this.taskPath,cron:this.cronExpression,options:this.options})}catch(s){n(s)}})}stop(){return new Promise((e,n)=>{if(!this.forkProcess)return e(void 0);const r=setTimeout(()=>{clearTimeout(r),n(new Error("Stop operation timed out"))},5e3),s=()=>{clearTimeout(r),this.off("task:stopped",i),this.forkProcess=void 0,e(void 0)},i=()=>{s()};this.once("task:stopped",i),this.forkProcess.send({command:"task:stop"})})}getStatus(){return this.stateMachine.state}destroy(){return new Promise((e,n)=>{if(!this.forkProcess)return e(void 0);const r=setTimeout(()=>{clearTimeout(r),n(new Error("Destroy operation timed out"))},5e3),s=()=>{clearTimeout(r),this.off("task:destroyed",s),e(void 0)};this.once("task:destroyed",s),this.forkProcess.send({command:"task:destroy"})})}execute(){return new Promise((e,n)=>{if(!this.forkProcess)return n(new Error("Cannot execute background task because it hasn't been started yet. Please initialize the task using the start() method before attempting to execute it."));const r=setTimeout(()=>{s(),n(new Error("Execution timeout exceeded"))},5e3),s=()=>{clearTimeout(r),this.off("execution:finished",i),this.off("execution:failed",a)},i=o=>{var c;s(),e((c=o.execution)==null?void 0:c.result)},a=o=>{var c;s(),n(((c=o.execution)==null?void 0:c.error)||new Error("Execution failed without specific error"))};this.once("execution:finished",i),this.once("execution:failed",a),this.forkProcess.send({command:"task:execute"})})}on(e,n){this.emitter.on(e,n)}off(e,n){this.emitter.off(e,n)}once(e,n){this.emitter.once(e,n)}createContext(e,n){var i;const r=new o6.LocalizedTime(e,(i=this.options)==null?void 0:i.timezone);return{date:r.toDate(),dateLocalIso:r.toISO(),triggeredAt:new Date,task:this,execution:n}}}function f6(t){const e=JSON.parse(t),n=globalThis[e.name]||Error,r=new n(e.message);return e.stack&&(r.stack=e.stack),Object.keys(e).forEach(s=>{["name","message","stack"].includes(s)||(r[s]=e[s])}),r}Kh.default=d6;(function(t){var e=$e&&$e.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(t,"__esModule",{value:!0}),t.nodeCron=t.getTask=t.getTasks=void 0,t.schedule=l,t.createTask=u,t.solvePath=p,t.validate=h;const n=cu,r=du,s=e(Wh),i=e(Kh),a=e(qr),o=Ki,c=new r.TaskRegistry;function l(y,f,m){const g=u(y,f,m);return g.start(),g}function u(y,f,m){let g;if(f instanceof Function)g=new n.InlineScheduledTask(y,f,m);else{const b=p(f);g=new i.default(y,b,m)}return c.add(g),g}function p(y){var m;if(a.default.isAbsolute(y))return(0,o.pathToFileURL)(y).href;if(y.startsWith("file://"))return y;const f=(m=new Error().stack)==null?void 0:m.split(`
`);if(f){f==null||f.shift();const g=f==null?void 0:f.find(_=>_.indexOf(__filename)===-1),b=g==null?void 0:g.match(/(file:\/\/)?(((\/?)(\w:))?([/\\].+)):\d+:\d+/);if(b){const _=`${b[5]??""}${a.default.dirname(b[6])}`;return(0,o.pathToFileURL)(a.default.resolve(_,y)).href}}throw new Error(`Could not locate task file ${y}`)}function h(y){try{return(0,s.default)(y),!0}catch{return!1}}t.getTasks=c.all,t.getTask=c.get,t.nodeCron={schedule:l,createTask:u,validate:h,getTasks:t.getTasks,getTask:t.getTask},t.default=t.nodeCron})(FE);const fv=nr(FE);async function BE(){return er().select().from(Ui)}async function h6(t,e,n){const[{id:r}]=await er().insert(Ui).values({frequency:t,startTime:e,changesGroupId:n}).returning({id:Ui.id});return r}async function m6(t){await er().delete(Ui).where(So(Ui.id,t))}async function hv(t){try{const e=await d4(t);console.log(e);const r=(await K0(e)).filter(s=>s.isSuccess).length;return await cl(t,"success","automation",r),!0}catch(e){return console.error(e),await cl(t,"failed","automation"),!1}}function mv(t,e){const[n,r]=e.split(":"),s=parseInt(n,10),i=parseInt(r,10),a=0;switch(t){case"daily":return`${a} ${i} ${s} * * *`;default:throw new Error(`Unsupported frequency: ${t}`)}}class y6{constructor(){v(this,"jobs",new Map)}async loadAutomations(){const e=await BE();for(const n of e){const r=fv.schedule(mv(n.frequency,n.startTime),()=>hv(n.changesGroupId));this.jobs.set(n.id.toString(),r)}}async addAutomation(e){console.log(e);const n=await h6(e.frequency,e.startTime,e.changesGroupId),r=fv.schedule(mv(e.frequency,e.startTime),()=>hv(e.changesGroupId));this.jobs.set(n.toString(),r)}async removeAutomation(e){await m6(e);const n=this.jobs.get(e.toString());n&&(n.stop(),this.jobs.delete(e.toString()))}listAutomations(){return Array.from(this.jobs.keys())}}const Jh=new y6;async function g6(t,e){const n=r$(e.catalogUrls),r=n$(e.catalogUrls),s=p4(r,n,e.globalSettings,e.categorySettings,e.offerSettings),i=await f4(e.catalogUrls,r.length,s);if(e.automation)return await Jh.addAutomation({frequency:e.automation.frequency,startTime:e.automation.startTime,changesGroupId:i}),{isSuccess:!0};try{const o=(await K0(s)).filter(c=>c.isSuccess).length;return await cl(i,"success","custom",o),{isSuccess:!0}}catch(a){return console.log(a),await cl(i,"failed","custom"),{isSuccess:!1,error:{promApi:{message:"Failed to update prices"}}}}}async function v6(t,e){try{return{isSuccess:!0,data:await h4(e.page,e.perPage).then(r=>Promise.all(r.map(async s=>({...s,changesGroup:await qE(s.changesGroupId)}))))}}catch{return{isSuccess:!1}}}async function b6(t){try{return{isSuccess:!0,data:await BE().then(n=>Promise.all(n.map(async r=>({...r,changesGroup:await qE(r.changesGroupId)}))))}}catch{return{isSuccess:!1,error:{automations:{message:"Failed to get automations"}}}}}async function x6(t,{automationId:e}){try{return await Jh.removeAutomation(e),{isSuccess:!0}}catch{return{isSuccess:!1,error:{automation:{message:"Failed to remove automations"}}}}}i1&&ke.app.quit();const DE=()=>{const t=new ke.BrowserWindow({width:800,height:600,webPreferences:{preload:me.join(__dirname,"preload.js")}});MAIN_WINDOW_VITE_DEV_SERVER_URL?t.loadURL(MAIN_WINDOW_VITE_DEV_SERVER_URL):t.loadFile(me.join(__dirname,`../renderer/${MAIN_WINDOW_VITE_NAME}/index.html`)),t.webContents.openDevTools()};ke.app.on("ready",async()=>{l4(),await Jh.loadAutomations(),DE()});ke.app.on("window-all-closed",()=>{process.platform!=="darwin"&&ke.app.quit()});ke.app.on("activate",()=>{ke.BrowserWindow.getAllWindows().length===0&&DE()});ke.ipcMain.handle("save-prom-api-key",dF);ke.ipcMain.handle("get-prom-api-key",pF);ke.ipcMain.handle("load-catalogs",aU);ke.ipcMain.handle("get-catalog-categories",oU);ke.ipcMain.handle("get-catalog-offers",cU);ke.ipcMain.handle("run-price-markup-settings",g6);ke.ipcMain.handle("list-automations",b6);ke.ipcMain.handle("remove-automation",x6);ke.ipcMain.handle("get-logs",v6);
